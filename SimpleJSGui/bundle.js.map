{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./engine/webpack-entry.js","webpack:///./engine/modules/desktop.js","webpack:///./engine/modules/overlay.js","webpack:///./engine/modules/system.js","webpack:///./engine/modules/task-bar.js","webpack:///./engine/modules/panel-menu.js","webpack:///./engine/modules/panel-clock.js","webpack:///./engine/modules/panel-item-contextmenu.js","webpack:///./engine/modules/panel-item.js","webpack:///./engine/modules/panel.js","webpack:///./engine/modules/window.js"],"names":["window","SimpleJSGui","System","Desktop","Overlay","TaskBar","PanelMenu","PanelClock","PanelItemContextMenu","PanelItem","Panel","Window","wholeScreenObj","document","createElement","classList","add","DOMObj","snapIndicatorTop","snapIndicatorLeft","snapIndicatorRight","appendChild","currentBgrDOM","width","height","option","bottomValue","body","clientHeight","style","bottom","newColor","backgroundColor","imageUrl","backgroundImage","backgroundSize","value","backgroundRepeat","a","b","backgroundPosition","desktop","overLay","getDOMObject","overLayMessage","textContent","addEventListener","event","panel","minimalWidth","calculateMinimalWidth","innerWidth","display","bind","newPanel","FreeSpaceWidget","taskBar","clientWidth","leftContainer","rightContainer","panelWidth","leftContainerWidth","rightContainerWidth","switcherWidth","getLineContainer","getLineSwitcher","LineSwitcher","moveUp","moveDown","currentLevel","currentLine","getCurrentLine","switchLine","getLines","length","text","LineContainer","lines","wrapper","line","push","i","removeChild","firstChild","newLine","setCurrentLineText","top","getLineHeight","Line","items","getComputedStyle","getPropertyValue","Number","substring","indexOf","item","getItem","mode","querySelector","lineContainer","addALine","lineSwitcher","getWrapperDOM","freeSpaceWidget","calculateFreeSpace","newItem","putAnItem","itemsInALine","Math","floor","getItemDefaultWidth","numOfItems","shouldEmptyLineContainer","cachedNumOfItems","amount","reduce","calculateWidth","numOfLines","visibility","empty","j","ij","rearrangeItems","innerHTML","menuIcon","menuContent","toggle","button","target","close","remove","itemName","elementListener","newElement","console","log","PanelItemClock","panelInstance","time","displayedTime","clockIntervalID","clockValue","clockWidget","createTheClockWidget","clockWidgetDate","isAClockWidget","evt_target","parentNode","setInterval","Date","hours","getHours","minutes","getMinutes","tableTop","testDate","currYear","getFullYear","currMonth","getMonth","currDay","getDate","prevMonth","renderMonth","nextMonth","monthTextSpan","setAttribute","clockContent","table","year","month","currDate","isCurrentMonth","currDayOfWeek","getDay","dayOfWeekOfTheFirstDay","daysInTheMonth","daysInThePreviousMonth","monthInText","data","isInPreviousMonth","dayValue","index","isInNextMonth","row","num","panelItem","panelITem","contains","newY","insertBefore","id","itemWidth","maxTitleLength","withText","contextMenu","nameObj","itemIcon","changeMode","newtitle","path","windows","windowsStatus","Map","panelMenu","addAnItem","addASeparator","panelClock","getDesktop","startTheClock","registerPanel","element","isAChild","unfocusAllWindows","newWindow","set","getId","getTitle","node","getItems","nodeElem","status","get","windowAction","preventDefault","anItem","getContextMenu","setBottomY","innerHeight","getBoundingClientRect","isWindowPinnable","focusWindow","instanceId","actionToDo","windowId","getWindowOrderNumberById","getElementsByClassName","getElementById","windownode","itemnode","splice","delete","dummyPanelItem","titleText","remInPixels","isPinnable","getPanelItem","isBeingDragged","cachedX","cachedY","isBeingResized","minWidth","minHeight","isResizingNW","isResizingNE","isResizingSW","isResizingSE","isResizingN","isResizingS","isResizingW","isResizingE","cachedResizeX","cachedResizeY","resizeListenerFullHD","resizeListenerHD","resizeListenerVGA","resizeListenerQVGA","wasListenerFullHDCalled","wasListenerHDCalled","wasListenerVGACalled","wasListenerQVGACalled","isMaximized","cachedXBeforeMax","cachedYBeforeMax","cachedWidth","cachedHeight","isSnapped","snapEffectsToggled","cachedXBeforeSnap","isAtTop","isAtLeft","isAtRight","createDOMObject","setTitle","parseInt","fontSize","guiWindow","left","setWidth","setHeight","registerEvents","nwResize","neResize","swResize","seResize","nResize","sResize","wResize","eResize","titleBar","min","max","icon","title","windowIcon","windowContent","maximizeWindow","clientX","clientY","change","changeToApply","getWindowX","getWidth","getWindowY","getHeight","right","calculateNewTitleLimits","snapWindow","coord","resizeChangeHorizontal","resizeChangeVertical","setWindowY","checkForEnterCorners","checkForLeaveCorners","toggleWindowSnapVisualEffects","leaveCornerAction","indicator","visualEffectTop","visualEffectLeft","visualEffectRight","checkTop","checkLeft","checkRight","getDesktopDOMObject","temp","setWindowX","newListener","removeDimensionFlags","allWindows","getWindows","aWindow","applyNewDimensionFlags","bgrcolor","background","leftLimit","rightLimit","appliableWidth","numOfChars","setIcon","content","Object","x","y","split"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAA,MAAM,CAACC,WAAP,GAAqB,IAAIC,uDAAJ,EAArB;AAEAF,MAAM,CAACG,OAAP,GAAkBA,wDAAlB;AACAH,MAAM,CAACI,OAAP,GAAkBA,wDAAlB;AACAJ,MAAM,CAACK,OAAP,GAAkBA,yDAAlB;AACAL,MAAM,CAACM,SAAP,GAAoBA,2DAApB;AACAN,MAAM,CAACO,UAAP,GAAqBA,4DAArB;AACAP,MAAM,CAACQ,oBAAP,GAA+BA,uEAA/B;AACAR,MAAM,CAACS,SAAP,GAAoBA,2DAApB;AACAT,MAAM,CAACU,KAAP,GAAgBA,sDAAhB;AACAV,MAAM,CAACW,MAAP,GAAiBA,uDAAjB,C;;;;;;;;;;;;;;ICrBMR,O;;;AACF,qBAAc;AAAA;;AACV,SAAKS,cAAL,GAAsBC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAtB;AACA,SAAKF,cAAL,CAAoBG,SAApB,CAA8BC,GAA9B,CAAkC,aAAlC;AACA,SAAKC,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,aAA1B;AACA,SAAKC,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,2BAA1B;AACA,SAAKE,gBAAL,GAAwBL,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAxB;AACA,SAAKK,iBAAL,GAAyBN,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAzB;AACA,SAAKM,kBAAL,GAA0BP,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAA1B;AACA,SAAKI,gBAAL,CAAsBH,SAAtB,CAAgCC,GAAhC,CAAoC,wCAApC;AACA,SAAKG,iBAAL,CAAuBJ,SAAvB,CAAiCC,GAAjC,CAAqC,yCAArC;AACA,SAAKI,kBAAL,CAAwBL,SAAxB,CAAkCC,GAAlC,CAAsC,0CAAtC;AACA,SAAKC,MAAL,CAAYI,WAAZ,CAAwB,KAAKH,gBAA7B;AACA,SAAKD,MAAL,CAAYI,WAAZ,CAAwB,KAAKF,iBAA7B;AACA,SAAKF,MAAL,CAAYI,WAAZ,CAAwB,KAAKD,kBAA7B;AACA,SAAKR,cAAL,CAAoBS,WAApB,CAAgC,KAAKJ,MAArC;AACA,SAAKK,aAAL,GAAqB,KAAKL,MAA1B;AACA,SAAKM,KAAL;AACA,SAAKC,MAAL;AACH;;;;mCAEc;AACX,aAAO,KAAKZ,cAAZ;AACH;;;0CAEqB;AAClB,aAAO,KAAKK,MAAZ;AACH;;;uDAEkCQ,M,EAAQ;AACvC,UAAGA,MAAM,IAAI,IAAb,EAAmB;AACf,aAAKH,aAAL,GAAqB,KAAKV,cAA1B;AACA,YAAIc,WAAW,GAAGb,QAAQ,CAACc,IAAT,CAAcC,YAAd,GAA2B,KAAKX,MAAL,CAAYW,YAAzD;AACA,aAAKT,iBAAL,CAAuBU,KAAvB,CAA6BC,MAA7B,GAAsCJ,WAAW,GAAC,IAAlD;AACA,aAAKN,kBAAL,CAAwBS,KAAxB,CAA8BC,MAA9B,GAAuCJ,WAAW,GAAC,IAAnD;AACH,OALD,MAKO;AACH,aAAKJ,aAAL,GAAqB,KAAKL,MAA1B;AACA,aAAKE,iBAAL,CAAuBU,KAAvB,CAA6BC,MAA7B,GAAsC,CAAtC;AACA,aAAKV,kBAAL,CAAwBS,KAAxB,CAA8BC,MAA9B,GAAuC,CAAvC;AACH;AACJ;;;0CAEqBC,Q,EAAU;AAC5B,WAAKT,aAAL,CAAmBO,KAAnB,CAAyBG,eAAzB,GAA2CD,QAA3C;AACH;;;0CAEqBE,Q,EAAU;AAC5B,WAAKX,aAAL,CAAmBO,KAAnB,CAAyBK,eAAzB,GAA2C,UAAUD,QAAV,GAAqB,IAAhE;AACA,WAAKX,aAAL,CAAmBO,KAAnB,CAAyBM,cAAzB,GAA0C,OAA1C;AACH;;;sCAEiBC,K,EAAO;AACrB,WAAKd,aAAL,CAAmBO,KAAnB,CAAyBM,cAAzB,GAA0CC,KAA1C;AACH;;;wCAEmBA,K,EAAO;AACvB,WAAKd,aAAL,CAAmBO,KAAnB,CAAyBQ,gBAAzB,GAA4CD,KAA5C;AACH;;;0CAEqBE,C,EAAGC,C,EAAG;AACxB,WAAKjB,aAAL,CAAmBO,KAAnB,CAAyBW,kBAAzB,GAA8CF,CAA9C;;AACA,UAAGC,CAAH,EAAM;AACF,aAAKjB,aAAL,CAAmBO,KAAnB,CAAyBW,kBAAzB,IAA+C,MAAMD,CAArD;AACH;AACJ;;;;;;AAGUpC,sEAAf,E;;;;;;;;;;;;;;ICpEMC,O;;;AACF,qBAAc;AAAA;;AACV,SAAKa,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,aAA1B;AACH;;;;mCAEc;AACX,aAAO,KAAKC,MAAZ;AACH;;;;;;AAGUb,sEAAf,E;;;;;;;;;;;;;;;;ACXA;AACA;;IAEMF,M;;;AACF,oBAAc;AAAA;;AACV,SAAKuC,OAAL,GAAe,IAAItC,gDAAJ,EAAf;AACA,SAAKuC,OAAL,GAAe,IAAItC,gDAAJ,EAAf;AACAS,YAAQ,CAACc,IAAT,CAAcN,WAAd,CAA0B,KAAKoB,OAAL,CAAaE,YAAb,EAA1B;AACA9B,YAAQ,CAACc,IAAT,CAAcN,WAAd,CAA0B,KAAKqB,OAAL,CAAaC,YAAb,EAA1B;AACA,QAAIC,cAAc,GAAG/B,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAArB;AACA8B,kBAAc,CAACC,WAAf,GAA6B,8EAA7B;AACA,SAAKH,OAAL,CAAaC,YAAb,GAA4BtB,WAA5B,CAAwCuB,cAAxC;AAEA5C,UAAM,CAAC8C,gBAAP,CAAwB,QAAxB,EAAkC,UAASC,KAAT,EAAgB;AAC9C,UAAG,KAAKC,KAAR,EAAe;AACX,aAAKC,YAAL,GAAoB,KAAKD,KAAL,CAAWE,qBAAX,EAApB;;AACA,YAAGlD,MAAM,CAACmD,UAAP,GAAoB,KAAKF,YAA5B,EAA0C;AACtC,eAAKP,OAAL,CAAaC,YAAb,GAA4Bd,KAA5B,CAAkCuB,OAAlC,GAA4C,OAA5C;AACH,SAFD,MAEO;AACH,eAAKV,OAAL,CAAaC,YAAb,GAA4Bd,KAA5B,CAAkCuB,OAAlC,GAA4C,MAA5C;AACH;AACJ;AACJ,KATiC,CAShCC,IATgC,CAS3B,IAT2B,CAAlC;AAUH;;;;iCAEY;AACT,aAAO,KAAKZ,OAAZ;AACH;;;kCAEaa,Q,EAAU;AACpB,WAAKN,KAAL,GAAaM,QAAb;AACH;;;;;;AAGUpD,qEAAf,E;;;;;;;;;;;;;;IClCMqD,e;;;AACF,2BAAYC,OAAZ,EAAqB;AAAA;;AACjB,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKvC,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,iCAA1B;AACH;;;;mCAEc;AACX,aAAO,KAAKC,MAAZ;AACH;;;+BAEU;AACP,aAAO,KAAKA,MAAL,CAAYwC,WAAnB;AACH;;;mCAEcT,K,EAAOU,a,EAAeC,c,EAAgB;AACjD,UAAIC,UAAU,GAAGZ,KAAK,CAACS,WAAvB;AACA,UAAII,kBAAkB,GAAGH,aAAa,CAACD,WAAvC;AACA,UAAIK,mBAAmB,GAAGH,cAAc,CAACF,WAAzC,CAHiD,CAIjD;AACA;AACA;;AACA,UAAIM,aAAa,GAAG,CAApB;;AACA,UAAG,KAAKP,OAAL,IAAgB,KAAKA,OAAL,CAAaQ,gBAAb,EAAhB,IAAmD,KAAKR,OAAL,CAAaS,eAAb,EAAtD,EAAsF;AAClFF,qBAAa,GAAG,KAAKP,OAAL,CAAaS,eAAb,GAA+BtB,YAA/B,GAA8Cc,WAA9D;AACH;;AACD,UAAIlC,KAAK,GAAGqC,UAAU,IAAGC,kBAAkB,GAAC,KAAK5C,MAAL,CAAYwC,WAAhC,GAA6CK,mBAA/C,CAAtB,CAXiD,CAYjD;;AACA,UAAGvC,KAAK,GAAG,CAAX,EAAc;AACV,aAAKN,MAAL,CAAYY,KAAZ,CAAkBN,KAAlB,GAA0BA,KAAK,GAAC,IAAhC;AACH,OAFD,MAEO;AACH,aAAKN,MAAL,CAAYY,KAAZ,CAAkBN,KAAlB,GAA0B,KAA1B;AAEAA,aAAK,GAAGqC,UAAU,IAAIE,mBAAmB,IAAID,kBAAkB,GAAC,KAAKL,OAAL,CAAaQ,gBAAb,GAAgCrB,YAAhC,GAA+Cc,WAAtE,CAAvB,CAAlB;AACA,aAAKD,OAAL,CAAaQ,gBAAb,GAAgCrB,YAAhC,GAA+Cd,KAA/C,CAAqDN,KAArD,GAA6DA,KAAK,GAAC,IAAnE;AACH;AACJ;;;;;;IAGC2C,Y;;;AACF,wBAAYV,OAAZ,EAAqB;AAAA;;AACjB,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKvC,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,oCAA1B;AAEA,SAAKmD,MAAL,GAActD,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKqD,MAAL,CAAYpD,SAAZ,CAAsBC,GAAtB,CAA0B,6CAA1B;AACA,SAAKoD,QAAL,GAAgBvD,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;AACA,SAAKsD,QAAL,CAAcrD,SAAd,CAAwBC,GAAxB,CAA4B,+CAA5B;AACA,SAAKqD,YAAL,GAAoBxD,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAApB;AACA,SAAKuD,YAAL,CAAkBtD,SAAlB,CAA4BC,GAA5B,CAAgC,mDAAhC;AACA,SAAKqD,YAAL,CAAkBxB,WAAlB,GAAgC,GAAhC;AAEA,SAAKuB,QAAL,CAActB,gBAAd,CAA+B,OAA/B,EAAwC,YAAW;AAC/CwB,iBAAW,GAAG,KAAKd,OAAL,CAAaQ,gBAAb,GAAgCO,cAAhC,EAAd,CAD+C,CAE/C;;AACA,UAAGD,WAAW,GAAG,CAAjB,EAAoB;AAChBA,mBAAW,IAAI,CAAf;AACA,aAAKd,OAAL,CAAaQ,gBAAb,GAAgCQ,UAAhC,CAA2CF,WAA3C,EAFgB,CAGhB;AACH;AACJ,KARuC,CAQtCjB,IARsC,CAQjC,IARiC,CAAxC;AAUA,SAAKc,MAAL,CAAYrB,gBAAZ,CAA6B,OAA7B,EAAsC,YAAW;AAC7CwB,iBAAW,GAAG,KAAKd,OAAL,CAAaQ,gBAAb,GAAgCO,cAAhC,EAAd,CAD6C,CAE7C;;AACA,UAAGD,WAAW,GAAG,KAAKd,OAAL,CAAaQ,gBAAb,GAAgCS,QAAhC,GAA2CC,MAA3C,GAAkD,CAAnE,EAAsE;AAClEJ,mBAAW,IAAI,CAAf;AACA,aAAKd,OAAL,CAAaQ,gBAAb,GAAgCQ,UAAhC,CAA2CF,WAA3C,EAFkE,CAGlE;AACH;AACJ,KARqC,CAQpCjB,IARoC,CAQ/B,IAR+B,CAAtC;AAUA,SAAKpC,MAAL,CAAYI,WAAZ,CAAwB,KAAK+C,QAA7B;AACA,SAAKnD,MAAL,CAAYI,WAAZ,CAAwB,KAAKgD,YAA7B;AACA,SAAKpD,MAAL,CAAYI,WAAZ,CAAwB,KAAK8C,MAA7B;AACH;;;;mCAEc;AACX,aAAO,KAAKlD,MAAZ;AACH;;;uCAEkB0D,I,EAAM;AACrB,WAAKN,YAAL,CAAkBxB,WAAlB,GAAgC8B,IAAhC;AACH;;;;;;IAGCC,a;;;AACF,yBAAYpB,OAAZ,EAAqB;AAAA;;AACjB,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKqB,KAAL,GAAa,EAAb;AACA,SAAKP,WAAL,GAAmB,CAAnB;AACA,SAAKQ,OAAL,GAAejE,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAf;AACA,SAAKgE,OAAL,CAAa/D,SAAb,CAAuBC,GAAvB,CAA2B,8BAA3B;AAEA,SAAKC,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,8CAA1B;AAEA,SAAK8D,OAAL,CAAazD,WAAb,CAAyB,KAAKJ,MAA9B;AACH;;;;6BAEQ8D,I,EAAM;AACX,WAAKF,KAAL,CAAWG,IAAX,CAAgBD,IAAhB;AACA,WAAK9D,MAAL,CAAYI,WAAZ,CAAwB0D,IAAI,CAACpC,YAAL,EAAxB;AACH;;;4BAEO;AACJ,WAAI,IAAIsC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKJ,KAAL,CAAWH,MAA9B,EAAsCO,CAAC,EAAvC,EAA2C;AACvC,aAAKhE,MAAL,CAAYiE,WAAZ,CAAwB,KAAKjE,MAAL,CAAYkE,UAApC;AACH;;AAED,WAAKN,KAAL,GAAa,EAAb;AACH;;;+BAEU;AACP,aAAO,KAAKA,KAAZ;AACH;;;qCAEgB;AACb,aAAO,KAAKP,WAAZ;AACH;;;+BAEUc,O,EAAS;AAChB,WAAKd,WAAL,GAAmBc,OAAnB,CADgB,CAEhB;AACA;AACA;;AACA,WAAK5B,OAAL,CAAaS,eAAb,GAA+BoB,kBAA/B,CAAkDD,OAAO,GAAC,CAA1D;AACA,WAAKnE,MAAL,CAAYY,KAAZ,CAAkByD,GAAlB,GAAwB,CAAEF,OAAF,GAAW,KAAKP,KAAL,CAAW,CAAX,EAAcU,aAAd,EAAX,GAAyC,IAAjE;AACH;;;oCAEe;AACZ,aAAO,KAAKT,OAAZ;AACH;;;mCAEc;AACX,aAAO,KAAK7D,MAAZ;AACH;;;;;;IAGCuE,I;;;AACF,gBAAYhC,OAAZ,EAAqB;AAAA;;AACjB,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKiC,KAAL,GAAa,EAAb;AACA,SAAKjE,MAAL,GAAc,CAAd;AACA,SAAKP,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,oDAA1B;AACA,QAAIQ,MAAM,GAAGxB,MAAM,CAAC0F,gBAAP,CAAwB,KAAKzE,MAA7B,EAAqC0E,gBAArC,CAAsD,QAAtD,CAAb;AACA,SAAKnE,MAAL,GAAcoE,MAAM,CAACpE,MAAM,CAACqE,SAAP,CAAiB,CAAjB,EAAoBrE,MAAM,CAACsE,OAAP,CAAe,IAAf,CAApB,CAAD,CAApB;AACH;;;;8BAESC,I,EAAM;AACZ,WAAKN,KAAL,CAAWT,IAAX,CAAgBe,IAAhB;AACA,WAAK9E,MAAL,CAAYI,WAAZ,CAAwB0E,IAAI,CAACC,OAAL,EAAxB;AACH;;;mCAEc;AACX,aAAO,KAAK/E,MAAZ;AACH;;;oCAEe;AACZ,aAAO,KAAKO,MAAZ;AACH;;;;;;IAGCnB,O;;;AACF,qBAAc;AAAA;;AACV,SAAK4F,IAAL,GAAY,YAAZ;AACA,SAAKR,KAAL,GAAa,EAAb;AACA,SAAKzC,KAAL,GAAanC,QAAQ,CAACqF,aAAT,CAAuB,YAAvB,CAAb;AACA,SAAKxC,aAAL,GAAqB7C,QAAQ,CAACqF,aAAT,CAAuB,4BAAvB,CAArB;AACA,SAAKvC,cAAL,GAAsB9C,QAAQ,CAACqF,aAAT,CAAuB,6BAAvB,CAAtB;AAEA,SAAKC,aAAL,GAAqB,IAAIvB,aAAJ,CAAkB,IAAlB,CAArB;AACA,SAAKuB,aAAL,CAAmBC,QAAnB,CAA4B,IAAIZ,IAAJ,CAAS,IAAT,CAA5B;AAEA,SAAKa,YAAL,GAAoB,IAAInC,YAAJ,CAAiB,IAAjB,CAApB;AACA,SAAKjD,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,qBAA1B;AACA,SAAKC,MAAL,CAAYI,WAAZ,CAAwB,KAAK8E,aAAL,CAAmBG,aAAnB,EAAxB;AACA,SAAKrF,MAAL,CAAYI,WAAZ,CAAwB,KAAKgF,YAAL,CAAkB1D,YAAlB,EAAxB;AACA,SAAK4D,eAAL,GAAuB,IAAIhD,eAAJ,CAAoB,IAApB,CAAvB;AACA,SAAKtC,MAAL,CAAYI,WAAZ,CAAwB,KAAKkF,eAAL,CAAqB5D,YAArB,EAAxB;AACA,SAAK6D,kBAAL;AAEAxG,UAAM,CAAC8C,gBAAP,CAAwB,QAAxB,EAAkC,YAAW;AACzC,WAAK0D,kBAAL;AACH,KAFiC,CAEhCnD,IAFgC,CAE3B,IAF2B,CAAlC;AAGH;;;;mCAEc;AACX,aAAO,KAAKpC,MAAZ;AACH;;;uCAEkB;AACf,aAAO,KAAKkF,aAAZ;AACH;;;sCAEiB;AACd,aAAO,KAAKE,YAAZ;AACH;;;8BAESI,O,EAAS;AACf,WAAKhB,KAAL,CAAWT,IAAX,CAAgByB,OAAhB;AACA,WAAKN,aAAL,CAAmB1B,QAAnB,GAA8B,CAA9B,EAAiCiC,SAAjC,CAA2CD,OAA3C;AACA,WAAKF,eAAL,CAAqB5D,YAArB,GAAoCd,KAApC,CAA0CN,KAA1C,GAAkD,KAAlD;AACA,WAAKiF,kBAAL;AACH;;;+BAEU;AACP,aAAO,KAAKf,KAAZ;AACH;;;qCAEgB;AACb,UAAG,KAAKA,KAAL,CAAWf,MAAX,GAAoB,CAAvB,EAA0B;AACtB;AACA,YAAIiC,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAW,CAAC,KAAK5F,MAAL,CAAYwC,WAAZ,GAAwB,KAAK4C,YAAL,CAAkB1D,YAAlB,GAAiCc,WAA1D,IAAyE,KAAKgC,KAAL,CAAW,CAAX,EAAcqB,mBAAd,EAApF,CAAnB;;AACA,YAAGH,YAAY,IAAI,CAAnB,EAAsB;AAClBA,sBAAY,GAAG,CAAf;AACH;;AACD,YAAII,UAAU,GAAGJ,YAAjB;AACA,YAAIK,wBAAwB,GAAG,KAA/B;;AACA,YAAG,KAAKC,gBAAL,IAAyBF,UAA5B,EAAwC;AACpCC,kCAAwB,GAAG,IAA3B;AACH;;AACD,aAAKC,gBAAL,GAAwBF,UAAxB;;AACA,YAAG,KAAKtB,KAAL,CAAWf,MAAX,GAAoBiC,YAAvB,EAAqC;AACjCI,oBAAU,GAAG,KAAKtB,KAAL,CAAWf,MAAxB;AACH,SAdqB,CAetB;;;AACA,YAAIwC,MAAM,GAAIH,UAAU,GAAC,KAAKtB,KAAL,CAAW,CAAX,EAAcqB,mBAAd,EAAzB;AACA,aAAKX,aAAL,CAAmBxD,YAAnB,GAAkCd,KAAlC,CAAwCN,KAAxC,GAAgD2F,MAAM,GAAG,IAAzD;AACA,YAAIC,MAAM,GAAG,KAAKZ,eAAL,CAAqB5D,YAArB,GAAoCc,WAApC,GAAkDyD,MAA/D;AACA,aAAKX,eAAL,CAAqB5D,YAArB,GAAoCd,KAApC,CAA0CN,KAA1C,GAAkD,IAAI,IAAtD;AACA,aAAKgF,eAAL,CAAqBa,cAArB,CAAoC,KAAKpE,KAAzC,EAAgD,KAAKU,aAArD,EAAoE,KAAKC,cAAzE,EApBsB,CAqBtB;AACA;AACA;AACA;AACA;;AACA,YAAI0D,UAAU,GAAGT,IAAI,CAACC,KAAL,CAAW,KAAKpB,KAAL,CAAWf,MAAX,GAAoBiC,YAA/B,CAAjB;;AACA,YAAG,KAAKlB,KAAL,CAAWf,MAAX,GAAoBiC,YAApB,IAAoC,CAAvC,EAA0C;AACtCU,oBAAU;AACb;;AAED,YAAG,CAACA,UAAJ,EAAgB;AACZA,oBAAU,GAAG,CAAb;AACH;;AAED,YAAGA,UAAU,IAAI,CAAjB,EAAoB;AAChB,eAAKhB,YAAL,CAAkB1D,YAAlB,GAAiCd,KAAjC,CAAuCyF,UAAvC,GAAoD,QAApD;AACH,SAFD,MAEO;AACH,eAAKjB,YAAL,CAAkB1D,YAAlB,GAAiCd,KAAjC,CAAuCyF,UAAvC,GAAoD,SAApD;AACH;;AAED,YAAG,KAAKnB,aAAL,CAAmB5B,cAAnB,KAAsC8C,UAAU,GAAC,CAApD,EAAuD;AACnD,eAAKlB,aAAL,CAAmB3B,UAAnB,CAA8B6C,UAAU,GAAC,CAAzC;AACH,SA3CqB,CA6CtB;AACA;AACA;AACA;;;AAEA,YAAGL,wBAAH,EAA6B;AACzB,eAAKb,aAAL,CAAmBoB,KAAnB;AACA,eAAK1C,KAAL,GAAa,KAAKsB,aAAL,CAAmB1B,QAAnB,EAAb,CAFyB,CAIzB;;AAEA,eAAI,IAAIQ,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGoC,UAAnB,EAA+BpC,CAAC,EAAhC,EAAoC;AAChC,iBAAKkB,aAAL,CAAmBC,QAAnB,CAA4B,IAAIZ,IAAJ,CAAS,IAAT,CAA5B,EADgC,CAEhC;AACH,WATwB,CAWzB;;;AAEA,eAAI,IAAIP,EAAC,GAAG,CAAR,EAAWuC,CAAC,GAAG,CAAf,EAAkBC,EAAE,GAAG,CAA3B,EAA8BxC,EAAC,GAAG,KAAKQ,KAAL,CAAWf,MAA7C,EAAqDO,EAAC,IAAIwC,EAAE,EAA5D,EAAgE;AAC5D,gBAAGA,EAAE,IAAId,YAAT,EAAuB;AACnBa,eAAC;AACDC,gBAAE,GAAG,CAAL;AACH,aAJ2D,CAK5D;AAEA;;;AACA,iBAAK5C,KAAL,CAAW2C,CAAX,EAAcd,SAAd,CAAwB,KAAKjB,KAAL,CAAWR,EAAX,CAAxB;AACH;;AAED,eAAKsB,eAAL,CAAqBa,cAArB,CAAoC,KAAKpE,KAAzC,EAAgD,KAAKU,aAArD,EAAoE,KAAKC,cAAzE;AACH,SA3EqB,CA6EtB;AACA;AACA;;AACH;AACJ;;;yCAEoB;AACjB,WAAK4C,eAAL,CAAqBa,cAArB,CAAoC,KAAKpE,KAAzC,EAAgD,KAAKU,aAArD,EAAoE,KAAKC,cAAzE;AACA,WAAK+D,cAAL,GAFiB,CAGjB;AACA;AACA;AACH;;;;;;AAGUrH,sEAAf,E;;;;;;;;;;;;;;IClTMC,S;;;AACF,uBAAc;AAAA;;AACV,SAAKW,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,iBAA1B;AACA,SAAKC,MAAL,CAAY0G,SAAZ,GAAwB,oGAAxB;AACA,SAAKC,QAAL,GAAgB,KAAK3G,MAAL,CAAYiF,aAAZ,CAA0B,wBAA1B,CAAhB;AACA,SAAK2B,WAAL,GAAmB,KAAK5G,MAAL,CAAYiF,aAAZ,CAA0B,2BAA1B,CAAnB;AAEA,SAAKjF,MAAL,CAAY6B,gBAAZ,CAA6B,WAA7B,EAA0C,UAASC,KAAT,EAAgB;AACtD,WAAK8E,WAAL,CAAiB9G,SAAjB,CAA2B+G,MAA3B,CAAkC,aAAlC;AACH,KAFyC,CAExCzE,IAFwC,CAEnC,IAFmC,CAA1C;AAIAxC,YAAQ,CAACiC,gBAAT,CAA0B,WAA1B,EAAuC,UAASC,KAAT,EAAgB;AACnD,UAAGA,KAAK,CAACgF,MAAN,IAAgB,CAAnB,EAAsB;AAClB,YAAGhF,KAAK,CAACiF,MAAN,IAAgB,KAAKJ,QAArB,IAAiC7E,KAAK,CAACiF,MAAN,IAAgB,KAAKH,WAAzD,EAAsE;AAClE,eAAKI,KAAL;AACH;AACJ;AACJ,KANsC,CAMrC5E,IANqC,CAMhC,IANgC,CAAvC;AAOH;;;;mCAEc;AACX,aAAO,KAAKpC,MAAZ;AACH;;;4BAEO;AACJ,WAAK4G,WAAL,CAAiB9G,SAAjB,CAA2BmH,MAA3B,CAAkC,aAAlC;AACH;;;8BAESC,Q,EAAUC,e,EAAiB;AACjC,UAAIC,UAAU,GAAGxH,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAjB;AACAuH,gBAAU,CAACtH,SAAX,CAAqBC,GAArB,CAAyB,qCAAzB;AACAqH,gBAAU,CAACxF,WAAX,GAAyBsF,QAAzB;AACAE,gBAAU,CAACvF,gBAAX,CAA4B,WAA5B,EAAyC,YAAW;AAChDsF,uBAAe;AACf,aAAKnH,MAAL,CAAYF,SAAZ,CAAsB+G,MAAtB,CAA6B,aAA7B;AACH,OAHwC,CAGvCzE,IAHuC,CAGlC,IAHkC,CAAzC;AAIA,WAAKwE,WAAL,CAAiBxG,WAAjB,CAA6BgH,UAA7B;AAEA,aAAO,IAAP;AACH;;;oCAEe;AACZ,UAAIA,UAAU,GAAGxH,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AACAuH,gBAAU,CAACtH,SAAX,CAAqBC,GAArB,CAAyB,0CAAzB;;AACA,UAAG,KAAK6G,WAAL,CAAiBnD,MAAjB,IAA2B,CAA9B,EAAiC;AAC7B4D,eAAO,CAACC,GAAR,CAAY,uEAAZ;AACH,OAFD,MAEO;AACH,aAAKV,WAAL,CAAiBxG,WAAjB,CAA6BgH,UAA7B;AACH;;AAED,aAAO,IAAP;AACH;;;;;;AAGU/H,wEAAf,E;;;;;;;;;;;;;;ICvDMkI,c;;;AACF,0BAAYC,aAAZ,EAA2B;AAAA;;AACvB,SAAKA,aAAL,GAAqBA,aAArB;AACA,SAAKC,IAAL;AACA,SAAKC,aAAL,GAAqB,OAArB;AACA,SAAKC,eAAL;AACA,SAAK3H,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,kBAA1B;AACA,SAAKC,MAAL,CAAY0G,SAAZ,GAAwB,QAAM,KAAKgB,aAAX,GAAyB,wDAAjD;AACA,SAAKE,UAAL,GAAkB,KAAK5H,MAAL,CAAYiF,aAAZ,CAA0B,GAA1B,CAAlB;AACA,SAAK4C,WAAL,GAAmB,KAAK7H,MAAL,CAAYiF,aAAZ,CAA0B,iCAA1B,CAAnB;AACA,SAAK4C,WAAL,CAAiBzH,WAAjB,CAA6B,KAAK0H,oBAAL,EAA7B;AACA,SAAKC,eAAL;AAEA,SAAKH,UAAL,CAAgB/F,gBAAhB,CAAiC,WAAjC,EAA8C,YAAW;AACrD,WAAKgG,WAAL,CAAiB/H,SAAjB,CAA2B+G,MAA3B,CAAkC,qBAAlC;AACH,KAF6C,CAE5CzE,IAF4C,CAEvC,IAFuC,CAA9C;AAIAxC,YAAQ,CAACiC,gBAAT,CAA0B,WAA1B,EAAuC,UAASC,KAAT,EAAgB;AACnD,UAAGA,KAAK,CAACgF,MAAN,IAAgB,CAAnB,EAAsB;AAClB,YAAG,CAAC,KAAKkB,cAAL,CAAoBlG,KAAK,CAACiF,MAA1B,CAAD,IAAsCjF,KAAK,CAACiF,MAAN,IAAgB,KAAKa,UAA9D,EAA0E;AACtE,eAAKC,WAAL,CAAiB/H,SAAjB,CAA2BmH,MAA3B,CAAkC,qBAAlC;AACH;AACJ;AACJ,KANsC,CAMrC7E,IANqC,CAMhC,IANgC,CAAvC;AAOH;;;;mCAEc;AACX,aAAO,KAAKpC,MAAZ;AACH;;;mCAEciI,U,EAAY;AACvB,aAAMA,UAAU,IAAIrI,QAAQ,CAACc,IAA7B,EAAmC;AAC/B,YAAGuH,UAAU,IAAI,KAAKJ,WAAtB,EAAmC;AAC/B,iBAAO,IAAP;AACH;;AAEDI,kBAAU,GAAGA,UAAU,CAACC,UAAxB;AACH;;AAED,aAAO,KAAP;AACH;;;oCAEe;AACZ,WAAKP,eAAL,GAAuBQ,WAAW,CAAC,YAAW;AAC1C,aAAKV,IAAL,GAAY,IAAIW,IAAJ,EAAZ;AACA,YAAIC,KAAK,GAAG,KAAKZ,IAAL,CAAUa,QAAV,EAAZ;AACA,YAAIC,OAAO,GAAG,KAAKd,IAAL,CAAUe,UAAV,EAAd;;AACA,YAAGH,KAAK,GAAG,EAAX,EAAe;AACXA,eAAK,GAAG,MAAMA,KAAd;AACH;;AACD,YAAGE,OAAO,GAAG,EAAb,EAAiB;AACbA,iBAAO,GAAG,MAAMA,OAAhB;AACH;;AACD,aAAKb,aAAL,GAAqBW,KAAK,GAAG,GAAR,GAAcE,OAAnC;AACA,aAAKX,UAAL,CAAgBhG,WAAhB,GAA8B,KAAK8F,aAAnC;;AACA,YAAG,KAAKF,aAAL,CAAmBjF,OAAtB,EAA+B;AAC3B,eAAKiF,aAAL,CAAmBjF,OAAnB,CAA2BgD,kBAA3B;AACH;AACJ,OAfkC,CAejCnD,IAfiC,CAe5B,IAf4B,CAAD,EAepB,EAfoB,CAAlC;AAgBH;;;2CAEsB;AACnB,UAAIqG,QAAQ,GAAG7I,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAf;AACA4I,cAAQ,CAAC3I,SAAT,CAAmBC,GAAnB,CAAuB,2CAAvB;AAEA,UAAI2I,QAAQ,GAAG,IAAIN,IAAJ,EAAf;AACA,UAAIO,QAAQ,GAAGD,QAAQ,CAACE,WAAT,EAAf;AACA,UAAIC,SAAS,GAAGH,QAAQ,CAACI,QAAT,EAAhB;AACA,UAAIC,OAAO,GAAGL,QAAQ,CAACM,OAAT,EAAd;AAEA,UAAIC,SAAS,GAAGrJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;AACAoJ,eAAS,CAACnJ,SAAV,CAAoBC,GAApB,CAAwB,sDAAxB;AACAkJ,eAAS,CAACpH,gBAAV,CAA2B,WAA3B,EAAwC,YAAW;AAC/C8G,gBAAQ,GAAG,KAAKZ,eAAL,CAAqBa,WAArB,EAAX;AACAC,iBAAS,GAAG,KAAKd,eAAL,CAAqBe,QAArB,EAAZ;AACA,aAAKI,WAAL,CAAiBP,QAAjB,EAA2BE,SAAS,GAAC,CAArC;AACH,OAJuC,CAItCzG,IAJsC,CAIjC,IAJiC,CAAxC;AAMA,UAAI+G,SAAS,GAAGvJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;AACAsJ,eAAS,CAACrJ,SAAV,CAAoBC,GAApB,CAAwB,sDAAxB;AACAoJ,eAAS,CAACtH,gBAAV,CAA2B,WAA3B,EAAwC,YAAW;AAC/C8G,gBAAQ,GAAG,KAAKZ,eAAL,CAAqBa,WAArB,EAAX;AACAC,iBAAS,GAAG,KAAKd,eAAL,CAAqBe,QAArB,EAAZ;AACA,aAAKI,WAAL,CAAiBP,QAAjB,EAA2BE,SAAS,GAAC,CAArC;AACH,OAJuC,CAItCzG,IAJsC,CAIjC,IAJiC,CAAxC;AAMAqG,cAAQ,CAACrI,WAAT,CAAqB6I,SAArB;AAEA,WAAKG,aAAL,GAAqBxJ,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAArB;AACA,WAAKuJ,aAAL,CAAmBC,YAAnB,CAAgC,IAAhC,EAAsC,yBAAtC;AAEAZ,cAAQ,CAACrI,WAAT,CAAqB,KAAKgJ,aAA1B;AACAX,cAAQ,CAACrI,WAAT,CAAqB+I,SAArB;AACA,WAAKG,YAAL,GAAoB1J,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAApB;AACA,WAAKyJ,YAAL,CAAkBlJ,WAAlB,CAA8BqI,QAA9B;AACA,WAAKc,KAAL,GAAa3J,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAb;AACA,WAAK0J,KAAL,CAAWF,YAAX,CAAwB,QAAxB,EAAkC,CAAlC;AACA,WAAKE,KAAL,CAAWF,YAAX,CAAwB,IAAxB,EAA8B,oBAA9B;AACA,WAAKC,YAAL,CAAkBlJ,WAAlB,CAA8B,KAAKmJ,KAAnC;AAEA,WAAKL,WAAL,CAAiBP,QAAjB,EAA2BE,SAA3B,EAAsCE,OAAtC;AAEA,aAAO,KAAKO,YAAZ;AACH;;;gCAEWE,I,EAAMC,K,EAAO;AACrB,UAAIC,QAAQ,GAAG,IAAItB,IAAJ,EAAf;AACA,UAAIuB,cAAc,GAAIF,KAAK,IAAIC,QAAQ,CAACZ,QAAT,EAAV,IAAmCU,IAAI,IAAIE,QAAQ,CAACd,WAAT,EAAhE;;AACA,UAAG,CAACe,cAAJ,EAAoB;AAChBD,gBAAQ,GAAG,IAAItB,IAAJ,CAASoB,IAAT,EAAeC,KAAf,CAAX;AACH;;AAED,WAAK1B,eAAL,GAAuB2B,QAAvB;AAEA,UAAIf,QAAQ,GAAGe,QAAQ,CAACd,WAAT,EAAf;AACA,UAAIC,SAAS,GAAGa,QAAQ,CAACZ,QAAT,EAAhB;AACA,UAAIC,OAAJ,EAAaa,aAAb;;AACA,UAAGD,cAAH,EAAmB;AACfZ,eAAO,GAAGW,QAAQ,CAACV,OAAT,EAAV;AACAY,qBAAa,GAAGF,QAAQ,CAACG,MAAT,EAAhB;AACH;;AACD,UAAIC,sBAAsB,GAAI,IAAI1B,IAAJ,CAASoB,IAAT,EAAeC,KAAf,EAAsB,CAAtB,EAAyBI,MAAzB,EAAD,GAAoC,CAAjE;AACA,UAAIE,cAAc,GAAG,KAAKA,cAAL,CAAoBP,IAApB,EAA0BC,KAA1B,CAArB;AACA,UAAIO,sBAAsB,GAAG,KAAKD,cAAL,CAAoBP,IAApB,EAA2BC,KAAK,GAAC,CAAjC,CAA7B;AAEA,UAAIQ,WAAW,GAAG,EAAlB;;AAEA,cAAOpB,SAAS,GAAC,CAAjB;AACI,aAAK,CAAL;AAAQoB,qBAAW,GAAG,SAAd;AAAyB;;AACjC,aAAK,CAAL;AAAQA,qBAAW,GAAG,UAAd;AAA0B;;AAClC,aAAK,CAAL;AAAQA,qBAAW,GAAG,OAAd;AAAuB;;AAC/B,aAAK,CAAL;AAAQA,qBAAW,GAAG,OAAd;AAAuB;;AAC/B,aAAK,CAAL;AAAQA,qBAAW,GAAG,KAAd;AAAqB;;AAC7B,aAAK,CAAL;AAAQA,qBAAW,GAAG,MAAd;AAAsB;;AAC9B,aAAK,CAAL;AAAQA,qBAAW,GAAG,MAAd;AAAsB;;AAC9B,aAAK,CAAL;AAAQA,qBAAW,GAAG,QAAd;AAAwB;;AAChC,aAAK,CAAL;AAAQA,qBAAW,GAAG,WAAd;AAA2B;;AACnC,aAAK,EAAL;AAASA,qBAAW,GAAG,SAAd;AAAyB;;AAClC,aAAK,EAAL;AAASA,qBAAW,GAAG,UAAd;AAA0B;;AACnC,aAAK,EAAL;AAASA,qBAAW,GAAG,UAAd;AAA0B;AAZvC;;AAeA,WAAKb,aAAL,CAAmBxH,WAAnB,GAAiCqI,WAAjC;AAEA,WAAKV,KAAL,CAAW7C,SAAX,GAAuB,8GAAvB;AAEA,UAAIwD,IAAI,GAAG,EAAX;AAEA,UAAIC,iBAAiB,GAAG,IAAxB;AACA,UAAIC,QAAJ;;AACA,UAAGN,sBAAsB,IAAI,CAA7B,EAAgC;AAC5BM,gBAAQ,GAAG,CAAX;AACAD,yBAAiB,GAAG,KAApB;AACH,OAHD,MAGO;AACHC,gBAAQ,GAAGJ,sBAAsB,IAAEF,sBAAsB,GAAC,CAAzB,CAAjC;AACH;;AAED,WAAI,IAAI9F,CAAC,GAAG,CAAR,EAAWqG,KAAK,GAAG,CAAnB,EAAsBC,aAAa,GAAG,KAA1C,EAAiDtG,CAAC,GAAG,CAArD,EAAwDA,CAAC,EAAzD,EAA6D;AACzD,YAAIuG,GAAG,GAAG3K,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAV;;AACA,aAAI,IAAI0G,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,CAAnB,EAAsBA,CAAC,IAAI8D,KAAK,EAAhC,EAAoC;AAChC,cAAIH,KAAI,GAAGtK,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAX;;AACAqK,eAAI,CAACpK,SAAL,CAAeC,GAAf,CAAmB,eAAesK,KAAlC;;AACAH,eAAI,CAACtI,WAAL,GAAmBwI,QAAnB;;AACA,cAAGT,cAAc,IAAKS,QAAQ,IAAIrB,OAA/B,IAA4C,CAACoB,iBAAD,IAAsB,CAACG,aAAtE,EAAsF;AAClFJ,iBAAI,CAACpK,SAAL,CAAeC,GAAf,CAAmB,OAAnB;AACH;;AACD,cAAGoK,iBAAiB,IAAIG,aAAxB,EAAuC;AACnCJ,iBAAI,CAACpK,SAAL,CAAeC,GAAf,CAAmB,gBAAnB;AACH;;AACDwK,aAAG,CAACnK,WAAJ,CAAgB8J,KAAhB;AACAE,kBAAQ;;AACR,cAAGD,iBAAH,EAAsB;AAClB,gBAAGC,QAAQ,GAAGJ,sBAAd,EAAsC;AAClCI,sBAAQ,GAAG,CAAX;AACAD,+BAAiB,GAAG,KAApB;AACH;AACJ,WALD,MAKO;AACH,gBAAGC,QAAQ,GAAGL,cAAd,EAA8B;AAC1BK,sBAAQ,GAAG,CAAX;AACAE,2BAAa,GAAG,IAAhB;AACH;AACJ;AACJ;;AACD,aAAKf,KAAL,CAAWnJ,WAAX,CAAuBmK,GAAvB;AACH;AACJ;;;mCAEcf,I,EAAMC,K,EAAO;AACxB,UAAIe,GAAG,GAAG,CAAV;;AAEA,UAAGf,KAAK,GAAG,CAAX,EAAc;AACVD,YAAI;AACJ,YAAIC,MAAK,GAAG,EAAZ;AACH,OAHD,MAGO,IAAGA,KAAK,GAAG,EAAX,EAAe;AAClBD,YAAI;AACJ,YAAIC,OAAK,GAAG,CAAZ;AACH;;AAED,aAAM,IAAN,EAAY;AACR,YAAIf,QAAQ,GAAG,IAAIN,IAAJ,CAASoB,IAAT,EAAeC,KAAf,EAAuBe,GAAG,GAAC,CAA3B,CAAf;;AAEA,YAAG9B,QAAQ,CAACI,QAAT,MAAuBW,KAA1B,EAAiC;AAC7B;AACH;;AAEDe,WAAG;AACN;;AAED,aAAOA,GAAP;AACH;;;;;;AAGUjD,6EAAf,E;;;;;;;;;;;;;;ICrNMhI,oB;;;AACF,gCAAYkL,SAAZ,EAAuB;AAAA;;AACnB,SAAKC,SAAL,GAAiBD,SAAjB;AACA,SAAKzK,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,yCAA1B;AACA,SAAKC,MAAL,CAAY0G,SAAZ,GAAwB,sEAAxB;AACA,SAAKE,WAAL,GAAmB,KAAK5G,MAAL,CAAYiF,aAAZ,CAA0B,mDAA1B,CAAnB;AAEArF,YAAQ,CAACiC,gBAAT,CAA0B,WAA1B,EAAuC,UAASC,KAAT,EAAgB;AACnD,UAAGA,KAAK,CAACgF,MAAN,IAAgB,CAAnB,EAAsB;AAClB,YAAG,CAAChF,KAAK,CAACiF,MAAN,CAAajH,SAAb,CAAuB6K,QAAvB,CAAgC,2BAAhC,CAAJ,EAAkE;AAC9D,eAAK3K,MAAL,CAAYF,SAAZ,CAAsBmH,MAAtB,CAA6B,qBAA7B;AACH;AACJ;AACJ,KANsC,CAMrC7E,IANqC,CAMhC,IANgC,CAAvC;AAOH;;;;mCAEc;AACX,aAAO,KAAKpC,MAAZ;AACH;;;+BAEU4K,I,EAAM;AACb,WAAK5K,MAAL,CAAYY,KAAZ,CAAkBC,MAAlB,GAA2B+J,IAAI,GAAC,IAAhC;AACH;;;8BAES1D,Q,EAAUC,e,EAAiB;AACjC,UAAIC,UAAU,GAAGxH,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAjB;AACAuH,gBAAU,CAACtH,SAAX,CAAqBC,GAArB,CAAyB,6DAAzB;AACAqH,gBAAU,CAACxF,WAAX,GAAyBsF,QAAzB;AACAE,gBAAU,CAACvF,gBAAX,CAA4B,WAA5B,EAAyC,YAAW;AAChDsF,uBAAe;AACf,aAAKnH,MAAL,CAAYF,SAAZ,CAAsB+G,MAAtB,CAA6B,qBAA7B;AACH,OAHwC,CAGvCzE,IAHuC,CAGlC,IAHkC,CAAzC;;AAIA,UAAG,KAAKwE,WAAL,CAAiBnD,MAAjB,IAA2B,CAA9B,EAAiC;AAC7B,aAAKmD,WAAL,CAAiBxG,WAAjB,CAA6BgH,UAA7B;AACH,OAFD,MAEO;AACH,aAAKR,WAAL,CAAiBiE,YAAjB,CAA8BzD,UAA9B,EAA0C,KAAKR,WAAL,CAAiB3B,aAAjB,CAA+B,GAA/B,CAA1C;AACH;;AAED,aAAO,IAAP;AACH;;;oCAEe;AACZ,UAAImC,UAAU,GAAGxH,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AACAuH,gBAAU,CAACtH,SAAX,CAAqBC,GAArB,CAAyB,kEAAzB;;AACA,UAAG,KAAK6G,WAAL,CAAiBnD,MAAjB,IAA2B,CAA9B,EAAiC;AAC7B4D,eAAO,CAACC,GAAR,CAAY,uEAAZ;AACH,OAFD,MAEO;AACH,aAAKV,WAAL,CAAiBiE,YAAjB,CAA8BzD,UAA9B,EAA0C,KAAKR,WAAL,CAAiB3B,aAAjB,CAA+B,GAA/B,CAA1C;AACH;;AAED,aAAO,IAAP;AACH;;;;;;AAGU1F,mFAAf,E;;;;;;;;;;;;;;;ACvDA;;IAEMC,S;;;AACF,qBAAYsL,EAAZ,EAAgB5D,QAAhB,EAA0B;AAAA;;AACtB,SAAK6D,SAAL,GAAiB,CAAjB;AACA,SAAKD,EAAL,GAAUA,EAAV;AACA,SAAKE,cAAL,GAAsB,EAAtB;AACA,SAAKC,QAAL,GAAgB,IAAhB;AACA,SAAK/D,QAAL,GAAgBA,QAAhB;AACA,SAAKgE,WAAL,GAAmB,IAAI3L,+DAAJ,CAAyB,IAAzB,CAAnB;AACA,SAAKuF,IAAL,GAAYlF,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;AACA,SAAKiF,IAAL,CAAUhF,SAAV,CAAoBC,GAApB,CAAwB,2BAAxB;AACA,SAAKoL,OAAL,GAAevL,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAf;;AACA,QAAG,KAAKqH,QAAL,CAAczD,MAAd,GAAuB,KAAKuH,cAA/B,EAA+C;AAC3C,WAAK9D,QAAL,GAAgB,KAAKA,QAAL,CAActC,SAAd,CAAwB,CAAxB,EAA4B,KAAKoG,cAAL,GAAoB,CAAhD,IAAsD,KAAtE;AACH;;AACD,SAAKG,OAAL,CAAavJ,WAAb,GAA2B,KAAKsF,QAAhC;AACA,SAAKkE,QAAL,GAAgBxL,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;AACA,SAAKuL,QAAL,CAActL,SAAd,CAAwBC,GAAxB,CAA4B,iCAA5B;AACA,SAAK+E,IAAL,CAAU1E,WAAV,CAAsB,KAAKgL,QAA3B;AACA,SAAKtG,IAAL,CAAU1E,WAAV,CAAsB,KAAK+K,OAA3B;AACA,SAAKrG,IAAL,CAAU1E,WAAV,CAAsB,KAAK8K,WAAL,CAAiBxJ,YAAjB,EAAtB;AACA,SAAK2J,UAAL;AACH;;;;8BAES;AACN,aAAO,KAAKvG,IAAZ;AACH;;;8BACS;AACN,aAAO,KAAKoC,QAAZ;AACH;;;4BACO;AACJ,aAAO,KAAK4D,EAAZ;AACH;;;8BACS;AACN,aAAO,KAAKhG,IAAZ;AACH;;;0CACqB;AAClB,UAAIxE,KAAK,GAAGvB,MAAM,CAAC0F,gBAAP,CAAwB,KAAKK,IAA7B,EAAmCJ,gBAAnC,CAAoD,OAApD,CAAZ;AACA,UAAIvD,KAAK,GAAGb,KAAZ;AACAa,WAAK,GAAGA,KAAK,CAACyD,SAAN,CAAgB,CAAhB,EAAmBzD,KAAK,CAAC0D,OAAN,CAAc,IAAd,CAAnB,CAAR;AAEA,aAAOF,MAAM,CAACxD,KAAD,CAAb;AACH;;;mCAEc;AACX,aAAO,KAAK2D,IAAZ;AACH;;;qCAEgB;AACb,aAAO,KAAKoG,WAAZ;AACH;;;kCAEa;AACV,aAAO,KAAKC,OAAZ;AACH;;;6BAEQG,Q,EAAU;AACf,WAAKpE,QAAL,GAAgBoE,QAAhB;;AACA,UAAG,KAAKpE,QAAL,CAAczD,MAAd,GAAuB,KAAKuH,cAA/B,EAA+C;AAC3C,aAAK9D,QAAL,GAAgB,KAAKA,QAAL,CAActC,SAAd,CAAwB,CAAxB,EAA4B,KAAKoG,cAAL,GAAoB,CAAhD,IAAsD,KAAtE;AACH;;AACD,WAAKG,OAAL,CAAavJ,WAAb,GAA2B,KAAKsF,QAAhC;AACH;;;4BAEOqE,I,EAAM;AACV,WAAKH,QAAL,CAAc/B,YAAd,CAA2B,KAA3B,EAAkCkC,IAAlC,EADU,CAEV;AACH;;;iCAEY;AACT,UAAG,CAAC,KAAKN,QAAT,EAAmB;AACf,aAAKE,OAAL,CAAavK,KAAb,CAAmBuB,OAAnB,GAA6B,MAA7B;AACA,aAAK2C,IAAL,CAAUhF,SAAV,CAAoBC,GAApB,CAAwB,yCAAxB,EAFe,CAGf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;AACJ;;;;;;AAGUP,wEAAf,E;;;;;;;;;;;;;;;;;ACvFA;AACA;AACA;;IAEWC,K;;;AACC,mBAAc;AAAA;;AACd,SAAK+L,OAAL,GAAe,EAAf;AACA,SAAKC,aAAL,GAAqB,IAAIC,GAAJ,EAArB;AACA,SAAKjJ,aAAL,GAAqB7C,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAArB;AACA,SAAK4C,aAAL,CAAmB3C,SAAnB,CAA6BC,GAA7B,CAAiC,2BAAjC;AACA,SAAK2C,cAAL,GAAsB9C,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAtB;AACA,SAAK6C,cAAL,CAAoB5C,SAApB,CAA8BC,GAA9B,CAAkC,4BAAlC;AACA,SAAK4L,SAAL,GAAiB,IAAItM,mDAAJ,EAAjB;AACA,SAAKsM,SAAL,CAAeC,SAAf,CAAyB,SAAzB,EAAoC;AAAA,aAAMvE,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAN;AAAA,KAApC,EAAiEuE,aAAjE,GAAiFD,SAAjF,CAA2F,SAA3F,EAAsG;AAAA,aAAMvE,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAN;AAAA,KAAtG;AACA,SAAKwE,UAAL,GAAkB,IAAIvE,oDAAJ,CAAmB,IAAnB,CAAlB;AACA,SAAK/F,OAAL,GAAexC,WAAW,CAAC+M,UAAZ,EAAf;AACA,SAAK/L,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,WAA1B;AACA,SAAKC,MAAL,CAAY8K,EAAZ,GAAiB,gBAAjB;AACA,SAAKtD,aAAL,GAAqB,KAAKxH,MAAL,CAAY8K,EAAjC;AACA,SAAKrI,aAAL,CAAmBrC,WAAnB,CAA+B,KAAKuL,SAAL,CAAejK,YAAf,EAA/B;AACA,SAAKgB,cAAL,CAAoBtC,WAApB,CAAgC,KAAK0L,UAAL,CAAgBpK,YAAhB,EAAhC;AACA,SAAK1B,MAAL,CAAYI,WAAZ,CAAwB,KAAKqC,aAA7B;AACA,SAAKzC,MAAL,CAAYI,WAAZ,CAAwB,KAAKsC,cAA7B;AACA,SAAKoJ,UAAL,CAAgBE,aAAhB;AACApM,YAAQ,CAACc,IAAT,CAAcN,WAAd,CAA0B,KAAKJ,MAA/B;AACA,SAAKuC,OAAL,GAAe,IAAInD,iDAAJ,EAAf;AACA,SAAKqD,aAAL,CAAmBrC,WAAnB,CAA+B,KAAKmC,OAAL,CAAab,YAAb,EAA/B;AACA1C,eAAW,CAACiN,aAAZ,CAA0B,IAA1B;AAEArM,YAAQ,CAACiC,gBAAT,CAA0B,WAA1B,EAAuC,UAASC,KAAT,EAAgB;AACnD,UAAGA,KAAK,CAACgF,MAAN,IAAgB,CAAhB,IAAqB,KAAK0E,OAAL,CAAa/H,MAAb,GAAsB,CAA9C,EAAiD;AAC7C,YAAIyI,OAAO,GAAGpK,KAAK,CAACiF,MAApB;AACA,YAAIoF,QAAQ,GAAG,KAAf;;AACA,WAAG;AACC,cAAGD,OAAO,CAACpM,SAAR,IAAqBoM,OAAO,CAACpM,SAAR,CAAkB6K,QAAlB,CAA2B,YAA3B,CAAxB,EAAkE;AAC9DwB,oBAAQ,GAAG,IAAX;AACA;AACH;;AACDD,iBAAO,GAAGA,OAAO,CAAChE,UAAlB;AACH,SAND,QAMQgE,OANR;;AAOA,YAAG,CAACC,QAAJ,EAAc;AACV,eAAKX,OAAL,CAAa,CAAb,EAAgBY,iBAAhB;AACH;AACJ;AACJ,KAfsC,CAerChK,IAfqC,CAehC,IAfgC,CAAvC;AAgBH;;;;+BAEUiK,S,EAAW;AAClB,WAAKb,OAAL,CAAazH,IAAb,CAAkBsI,SAAlB;AACA,WAAKZ,aAAL,CAAmBa,GAAnB,CAAuBD,SAAS,CAACE,KAAV,EAAvB,EAA0C,QAA1C;AACA,WAAKhK,OAAL,CAAaqJ,SAAb,CAAuB,IAAIpM,SAAJ,CAAc6M,SAAS,CAACE,KAAV,EAAd,EAAiCF,SAAS,CAACG,QAAV,EAAjC,CAAvB;AACA,UAAIC,IAAI,GAAG,KAAKlK,OAAL,CAAamK,QAAb,GAAwB,KAAKnK,OAAL,CAAamK,QAAb,GAAwBjJ,MAAxB,GAA+B,CAAvD,CAAX;AACA,UAAIkJ,QAAQ,GAAGF,IAAI,CAAC/K,YAAL,EAAf;AACAiL,cAAQ,CAAC7M,SAAT,CAAmBC,GAAnB,CAAuB,mCAAvB;AACA4M,cAAQ,CAAC9K,gBAAT,CAA0B,OAA1B,EAAmC,UAASC,KAAT,EAAgB;AAC/C,YAAI8K,MAAM,GAAG,KAAKnB,aAAL,CAAmBoB,GAAnB,CAAuBR,SAAS,CAACE,KAAV,EAAvB,CAAb;;AACA,YAAGK,MAAM,IAAI,QAAb,EAAuB;AACnB,eAAKE,YAAL,CAAkB,UAAlB,EAA8BT,SAAS,CAACE,KAAV,EAA9B;AACA,cAAIrB,WAAW,GAAGyB,QAAQ,CAAC1H,aAAT,CAAuB,0CAAvB,CAAlB;;AACA,cAAGiG,WAAW,CAACtK,KAAZ,CAAkBuB,OAAlB,IAA6B,cAAhC,EAAgD;AAC5C+I,uBAAW,CAACtK,KAAZ,CAAkBuB,OAAlB,GAA4B,MAA5B;AACH;AACJ,SAND,MAMO,IAAGyK,MAAM,IAAI,UAAb,EAAyB;AAC5B,eAAKE,YAAL,CAAkB,UAAlB,EAA8BT,SAAS,CAACE,KAAV,EAA9B;;AACA,cAAIrB,YAAW,GAAGyB,QAAQ,CAAC1H,aAAT,CAAuB,0CAAvB,CAAlB;;AACA,cAAGiG,YAAW,CAACtK,KAAZ,CAAkBuB,OAAlB,IAA6B,cAAhC,EAAgD;AAC5C+I,wBAAW,CAACtK,KAAZ,CAAkBuB,OAAlB,GAA4B,MAA5B;AACH;AACJ;AACJ,OAfkC,CAejCC,IAfiC,CAe5B,IAf4B,CAAnC;AAgBAuK,cAAQ,CAAC9K,gBAAT,CAA0B,aAA1B,EAAyC,UAASC,KAAT,EAAgB;AACrDA,aAAK,CAACiL,cAAN;AACA,YAAI7B,WAAW,GAAGyB,QAAQ,CAAC1H,aAAT,CAAuB,0CAAvB,CAAlB;AACA,YAAIT,KAAK,GAAG,KAAKjC,OAAL,CAAamK,QAAb,EAAZ;;AACA,aAAI,IAAI1I,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGQ,KAAK,CAACf,MAAzB,EAAiCO,CAAC,EAAlC,EAAsC;AAClC,cAAGQ,KAAK,CAACR,CAAD,CAAL,CAASuI,KAAT,MAAoBF,SAAS,CAACE,KAAV,EAAvB,EAA0C;AACtC,gBAAIS,MAAM,GAAGxI,KAAK,CAACR,CAAD,CAAL,CAAStC,YAAT,GAAwBuD,aAAxB,CAAsC,0CAAtC,CAAb;;AACA,gBAAG+H,MAAM,CAAClN,SAAP,CAAiB6K,QAAjB,CAA0B,qBAA1B,CAAH,EAAqD;AACjDqC,oBAAM,CAAClN,SAAP,CAAiBmH,MAAjB,CAAwB,qBAAxB;AACH;AACJ;AACJ;;AACD,aAAK0E,SAAL,CAAe3E,KAAf,GAZqD,CAarD;AACA;AACA;AACA;AACA;AACA;;AACAyF,YAAI,CAACQ,cAAL,GAAsBC,UAAtB,CAAkCnO,MAAM,CAACoO,WAAP,GAAmB,KAAKnN,MAAL,CAAYoN,qBAAZ,GAAoC/I,GAAzF;AACA6G,mBAAW,CAACpL,SAAZ,CAAsB+G,MAAtB,CAA6B,qBAA7B;AACA,YAAI+F,MAAM,GAAG,KAAKnB,aAAL,CAAmBoB,GAAnB,CAAuBR,SAAS,CAACE,KAAV,EAAvB,CAAb;;AACA,YAAGK,MAAM,IAAI,UAAb,EAAyB;AACrB,eAAKE,YAAL,CAAkB,UAAlB,EAA8BT,SAAS,CAACE,KAAV,EAA9B;AACH;;AACD,eAAO,KAAP;AACH,OA1BwC,CA0BvCnK,IA1BuC,CA0BlC,IA1BkC,CAAzC,EA0Bc,KA1Bd;;AA2BA,UAAGiK,SAAS,CAACgB,gBAAV,EAAH,EAAiC;AAC7B,YAAI7I,KAAK,GAAG,KAAKjC,OAAL,CAAamK,QAAb,EAAZ;AACAlI,aAAK,CAACA,KAAK,CAACf,MAAN,GAAa,CAAd,CAAL,CAAsBwJ,cAAtB,GAAuCrB,SAAvC,CAAiD,cAAjD,EAAiE,YAAW,CAAE,CAA9E,EAAgFC,aAAhF;AACH;;AACDjM,cAAQ,CAACc,IAAT,CAAcN,WAAd,CAA0BiM,SAAS,CAAC3K,YAAV,EAA1B;AACA2K,eAAS,CAACiB,WAAV;AACH;;;mCACcC,U,EAAY;AACvB,WAAK/F,aAAL,GAAqB+F,UAArB;AACH;;;iCAEYC,U,EAAY1C,E,EAAI;AACzB,UAAG0C,UAAU,IAAI,UAAjB,EAA6B;AACzB,YAAIZ,MAAM,GAAG,KAAKnB,aAAL,CAAmBoB,GAAnB,CAAuB/B,EAAvB,CAAb;;AACA,YAAG8B,MAAM,IAAI,QAAb,EAAuB;AACnB,cAAIa,QAAQ,GAAG,KAAKC,wBAAL,CAA8B5C,EAA9B,CAAf;AACA,cAAI2B,IAAI,GAAG7M,QAAQ,CAAC+N,sBAAT,CAAgC,2BAAhC,EAA6DF,QAA7D,CAAX;AACA,eAAKhC,aAAL,CAAmBa,GAAnB,CAAuBxB,EAAvB,EAA2B,UAA3B;AACA2B,cAAI,CAAC3M,SAAL,CAAemH,MAAf,CAAsB,mCAAtB;AACArH,kBAAQ,CAACgO,cAAT,CAAwB,KAAKpC,OAAL,CAAaiC,QAAb,EAAuBlB,KAAvB,EAAxB,EAAwD3L,KAAxD,CAA8DuB,OAA9D,GAAwE,MAAxE;AACH,SAND,MAMO,IAAGyK,MAAM,IAAI,UAAb,EAAyB;AAC5B,cAAIa,SAAQ,GAAG,KAAKC,wBAAL,CAA8B5C,EAA9B,CAAf;;AACA,cAAI2B,KAAI,GAAG7M,QAAQ,CAAC+N,sBAAT,CAAgC,2BAAhC,EAA6DF,SAA7D,CAAX;;AACA,eAAKhC,aAAL,CAAmBa,GAAnB,CAAuBxB,EAAvB,EAA2B,QAA3B;;AACA2B,eAAI,CAAC3M,SAAL,CAAeC,GAAf,CAAmB,mCAAnB;;AACAH,kBAAQ,CAACgO,cAAT,CAAwB,KAAKpC,OAAL,CAAaiC,SAAb,EAAuBlB,KAAvB,EAAxB,EAAwD3L,KAAxD,CAA8DuB,OAA9D,GAAwE,OAAxE;AACH;AACJ,OAfD,MAeO,IAAGqL,UAAU,IAAI,UAAjB,EAA6B;AAChC,YAAIC,UAAQ,GAAG,KAAKC,wBAAL,CAA8B5C,EAA9B,CAAf;;AACA,YAAI2B,MAAI,GAAG7M,QAAQ,CAAC+N,sBAAT,CAAgC,2BAAhC,EAA6DF,UAA7D,CAAX;;AACA,aAAKhC,aAAL,CAAmBa,GAAnB,CAAuBxB,EAAvB,EAA2B,QAA3B;;AACA2B,cAAI,CAAC3M,SAAL,CAAeC,GAAf,CAAmB,mCAAnB;;AACA,aAAKyL,OAAL,CAAaiC,UAAb,EAAuBH,WAAvB;;AACA1N,gBAAQ,CAACgO,cAAT,CAAwB,KAAKpC,OAAL,CAAaiC,UAAb,EAAuBlB,KAAvB,EAAxB,EAAwD3L,KAAxD,CAA8DuB,OAA9D,GAAwE,OAAxE;AACH,OAPM,MAOA,IAAGqL,UAAU,IAAI,OAAjB,EAA0B;AAC7B,YAAIC,UAAQ,GAAG,KAAKC,wBAAL,CAA8B5C,EAA9B,CAAf;;AACA,YAAI+C,UAAU,GAAGjO,QAAQ,CAAC+N,sBAAT,CAAgC,YAAhC,EAA8CF,UAA9C,CAAjB;;AACA,YAAIK,QAAQ,GAAGlO,QAAQ,CAAC+N,sBAAT,CAAgC,2BAAhC,EAA6DF,UAA7D,CAAf;;AACAI,kBAAU,CAAC5G,MAAX;AACA6G,gBAAQ,CAAC7G,MAAT;AACA,aAAKuE,OAAL,CAAauC,MAAb,CAAoBN,UAApB,EAA8B,CAA9B;AACA,aAAKhC,aAAL,CAAmBuC,MAAnB,CAA0BP,UAA1B;AACA,aAAKlL,OAAL,CAAamK,QAAb,GAAwBqB,MAAxB,CAA+BN,UAA/B,EAAyC,CAAzC;AACH;AACJ;;;iCAEY;AACT,aAAO,KAAKjC,OAAZ;AACH;;;6CAEwBV,E,EAAI;AACzB,WAAI,IAAI9G,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKwH,OAAL,CAAa/H,MAAhC,EAAwCO,CAAC,EAAzC,EAA6C;AACzC,YAAG,KAAKwH,OAAL,CAAaxH,CAAb,EAAgBuI,KAAhB,MAA2BzB,EAA9B,EAAkC;AAC9B,iBAAO9G,CAAP;AACH;AACJ;AACJ;;;iCAEYyJ,Q,EAAU;AACnB,UAAIjJ,KAAK,GAAG,KAAKjC,OAAL,CAAamK,QAAb,EAAZ;;AACA,WAAI,IAAI1I,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGQ,KAAK,CAACf,MAAzB,EAAiCO,CAAC,EAAlC,EAAsC;AAClC,YAAGQ,KAAK,CAACR,CAAD,CAAL,CAASuI,KAAT,MAAoBkB,QAAvB,EAAiC;AAC7B,iBAAOjJ,KAAK,CAACR,CAAD,CAAZ;AACH;AACJ;;AACD,aAAO,IAAP;AACH;;;4CAEuB;AACpB,UAAIiK,cAAc,GAAG,IAAIzO,SAAJ,CAAc,UAAd,EAA0B,WAA1B,CAArB;AACA,aAAO,KAAKmM,SAAL,CAAejK,YAAf,GAA8Bc,WAA9B,GAA0C,CAA1C,GAA8CyL,cAAc,CAACpI,mBAAf,EAA9C,GAAqF,KAAKtD,OAAL,CAAaS,eAAb,GAA+BtB,YAA/B,GAA8Cc,WAAnI,GAAiJ,KAAKE,cAAL,CAAoBF,WAA5K;AACH;;;;;;AAGU/C,oEAAf,E;;;;;;;;;;;;;;IC5KEC,M;;;AACF,kBAAY8H,aAAZ,EAA2BiG,QAA3B,EAAqC;AAAA;;AACjC,SAAKzC,cAAL,GAAsB,IAAtB;AACA,SAAKkD,SAAL;AACA,SAAKC,WAAL;AACA,SAAKnO,MAAL;AAEA,SAAKwH,aAAL,GAAqBA,aAArB;AACA,SAAK4G,UAAL,GAAkB,IAAlB;AACA,SAAKtD,EAAL,GAAU2C,QAAV;AAEA,SAAKhD,SAAL,GAAiBjD,aAAa,CAAC6G,YAAd,CAA2B,KAAKvD,EAAhC,CAAjB;AAEA,SAAKwD,cAAL,GAAsB,KAAtB;AACA,SAAKC,OAAL,GAAe,CAAf;AACA,SAAKC,OAAL,GAAe,CAAf;AAEA,SAAKC,cAAL,GAAsB,KAAtB;AACA,SAAKC,QAAL,GAAgB,GAAhB;AACA,SAAKC,SAAL,GAAiB,GAAjB;AACA,SAAKC,YAAL,GAAoB,KAApB;AACA,SAAKC,YAAL,GAAoB,KAApB;AACA,SAAKC,YAAL,GAAoB,KAApB;AACA,SAAKC,YAAL,GAAoB,KAApB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,aAAL,GAAqB,CAArB;AACA,SAAKC,aAAL,GAAqB,CAArB;AACA,SAAKC,oBAAL;AACA,SAAKC,gBAAL;AACA,SAAKC,iBAAL;AACA,SAAKC,kBAAL;AACA,SAAKC,uBAAL,GAA+B,KAA/B;AACA,SAAKC,mBAAL,GAA2B,KAA3B;AACA,SAAKC,oBAAL,GAA4B,KAA5B;AACA,SAAKC,qBAAL,GAA6B,KAA7B;AAEA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,gBAAL;AACA,SAAKC,gBAAL;AACA,SAAKC,WAAL,GAAmB,CAAnB;AACA,SAAKC,YAAL,GAAoB,CAApB;AACA,SAAKC,SAAL,GAAiB,KAAjB;AACA,SAAKC,kBAAL,GAA0B,KAA1B;AACA,SAAKC,iBAAL;AACA,SAAKC,OAAL;AACA,SAAKC,QAAL;AACA,SAAKC,SAAL;AACA,SAAKC,eAAL;AACA,SAAKC,QAAL,CAAc,GAAd;AACA,SAAKvC,WAAL,GAAmBwC,QAAQ,CAAClM,gBAAgB,CAAC,KAAKzE,MAAN,CAAhB,CAA8B4Q,QAA/B,CAA3B;AACA,SAAKF,QAAL,CAAc,cAAd;AACA,SAAKG,SAAL,CAAejQ,KAAf,CAAqByD,GAArB,GAA2B,MAA3B;AACA,SAAKwM,SAAL,CAAejQ,KAAf,CAAqBkQ,IAArB,GAA4B,OAA5B;AACA,SAAKC,QAAL,CAAc,GAAd;AACA,SAAKC,SAAL,CAAe,GAAf;AACA,SAAKC,cAAL;AACH;;;;mCAEc;AACX,aAAO,KAAKjR,MAAZ;AACH;;;4BACO;AACJ,aAAO,KAAK8K,EAAZ;AACH;;;mCACc;AACX,aAAO,KAAKtD,aAAL,CAAmB6G,YAAnB,CAAgC,KAAKvD,EAArC,CAAP;AACH;;;sCAEiB;AACd,WAAK9K,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,WAAKG,MAAL,CAAY8K,EAAZ,GAAiB,KAAKA,EAAtB;AACA,WAAK9K,MAAL,CAAY0G,SAAZ,GAAyB,6BACxB,4BADwB,GACK,4BADL,GACkC,4BADlC,GAC+D,4BAD/D,GAC4F,2BAD5F,GACwH,2BADxH,GACoJ,2BADpJ,GACgL,2BADhL,GAExB,oCAFwB,GAGxB,8TAHwB,GAIxB,QAJwB,GAKxB,wDALwB,GAMxB,QAND;AAOA,WAAKmK,SAAL,GAAiB,KAAK7Q,MAAL,CAAYiF,aAAZ,CAA0B,aAA1B,CAAjB;AACA,WAAKiM,QAAL,GAAgB,KAAKlR,MAAL,CAAYiF,aAAZ,CAA0B,YAA1B,CAAhB;AACA,WAAKkM,QAAL,GAAgB,KAAKnR,MAAL,CAAYiF,aAAZ,CAA0B,YAA1B,CAAhB;AACA,WAAKmM,QAAL,GAAgB,KAAKpR,MAAL,CAAYiF,aAAZ,CAA0B,YAA1B,CAAhB;AACA,WAAKoM,QAAL,GAAgB,KAAKrR,MAAL,CAAYiF,aAAZ,CAA0B,YAA1B,CAAhB;AACA,WAAKqM,OAAL,GAAe,KAAKtR,MAAL,CAAYiF,aAAZ,CAA0B,WAA1B,CAAf;AACA,WAAKsM,OAAL,GAAe,KAAKvR,MAAL,CAAYiF,aAAZ,CAA0B,WAA1B,CAAf;AACA,WAAKuM,OAAL,GAAe,KAAKxR,MAAL,CAAYiF,aAAZ,CAA0B,WAA1B,CAAf;AACA,WAAKwM,OAAL,GAAe,KAAKzR,MAAL,CAAYiF,aAAZ,CAA0B,WAA1B,CAAf;AACA,WAAKyM,QAAL,GAAgB,KAAK1R,MAAL,CAAYiF,aAAZ,CAA0B,uBAA1B,CAAhB;AACA,WAAK+B,KAAL,GAAa,KAAKhH,MAAL,CAAY2N,sBAAZ,CAAmC,kBAAnC,EAAuD,CAAvD,CAAb;AACA,WAAKgE,GAAL,GAAW,KAAK3R,MAAL,CAAY2N,sBAAZ,CAAmC,qBAAnC,EAA0D,CAA1D,CAAX;AACA,WAAKiE,GAAL,GAAW,KAAK5R,MAAL,CAAY2N,sBAAZ,CAAmC,qBAAnC,EAA0D,CAA1D,CAAX;AACA,WAAKkE,IAAL,GAAY,KAAK7R,MAAL,CAAYiF,aAAZ,CAA0B,6BAA1B,CAAZ;AACA,WAAK6M,KAAL,GAAa,KAAK9R,MAAL,CAAYiF,aAAZ,CAA0B,8BAA1B,CAAb;AACA,WAAK8M,UAAL,GAAkB,KAAK/R,MAAL,CAAYiF,aAAZ,CAA0B,6BAA1B,CAAlB;AACA,WAAK+M,aAAL,GAAqB,KAAKhS,MAAL,CAAYiF,aAAZ,CAA0B,sBAA1B,CAArB;AACH;;;qCAEgB;AACb,WAAK+B,KAAL,CAAWnF,gBAAX,CAA4B,OAA5B,EAAqC,YAAW;AAC5C,aAAK2F,aAAL,CAAmBsF,YAAnB,CAAgC,OAAhC,EAAyC,KAAKhC,EAA9C;AACH,OAFoC,CAEnC1I,IAFmC,CAE9B,IAF8B,CAArC;AAIA,WAAKuP,GAAL,CAAS9P,gBAAT,CAA0B,OAA1B,EAAmC,YAAW;AAC1C,aAAK2F,aAAL,CAAmBsF,YAAnB,CAAgC,UAAhC,EAA4C,KAAKhC,EAAjD;AACH,OAFkC,CAEjC1I,IAFiC,CAE5B,IAF4B,CAAnC;AAIA,WAAKwP,GAAL,CAAS/P,gBAAT,CAA0B,OAA1B,EAAmC,YAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,aAAKoQ,cAAL;AACH,OARkC,CAQjC7P,IARiC,CAQ5B,IAR4B,CAAnC;AAUA,WAAK8O,QAAL,CAAcrP,gBAAd,CAA+B,WAA/B,EAA4C,UAASC,KAAT,EAAgB;AACxD,aAAK2M,cAAL,GAAsB,IAAtB;AACA,aAAKG,YAAL,GAAoB,IAApB;AACA,aAAKQ,aAAL,GAAqBtN,KAAK,CAACoQ,OAA3B;AACA,aAAK7C,aAAL,GAAqBvN,KAAK,CAACqQ,OAA3B;AACH,OAL2C,CAK1C/P,IAL0C,CAKrC,IALqC,CAA5C;AAOA,WAAK+O,QAAL,CAActP,gBAAd,CAA+B,WAA/B,EAA4C,UAASC,KAAT,EAAgB;AACxD,aAAK2M,cAAL,GAAsB,IAAtB;AACA,aAAKI,YAAL,GAAoB,IAApB;AACA,aAAKO,aAAL,GAAqBtN,KAAK,CAACoQ,OAA3B;AACA,aAAK7C,aAAL,GAAqBvN,KAAK,CAACqQ,OAA3B;AACH,OAL2C,CAK1C/P,IAL0C,CAKrC,IALqC,CAA5C;AAOA,WAAKgP,QAAL,CAAcvP,gBAAd,CAA+B,WAA/B,EAA4C,UAASC,KAAT,EAAgB;AACxD,aAAK2M,cAAL,GAAsB,IAAtB;AACA,aAAKK,YAAL,GAAoB,IAApB;AACA,aAAKM,aAAL,GAAqBtN,KAAK,CAACoQ,OAA3B;AACA,aAAK7C,aAAL,GAAqBvN,KAAK,CAACqQ,OAA3B;AACH,OAL2C,CAK1C/P,IAL0C,CAKrC,IALqC,CAA5C;AAOA,WAAKiP,QAAL,CAAcxP,gBAAd,CAA+B,WAA/B,EAA4C,UAASC,KAAT,EAAgB;AACxD,aAAK2M,cAAL,GAAsB,IAAtB;AACA,aAAKM,YAAL,GAAoB,IAApB;AACA,aAAKK,aAAL,GAAqBtN,KAAK,CAACoQ,OAA3B;AACA,aAAK7C,aAAL,GAAqBvN,KAAK,CAACqQ,OAA3B;AACH,OAL2C,CAK1C/P,IAL0C,CAKrC,IALqC,CAA5C;AAOA,WAAKkP,OAAL,CAAazP,gBAAb,CAA8B,WAA9B,EAA2C,UAASC,KAAT,EAAgB;AACvD,aAAK2M,cAAL,GAAsB,IAAtB;AACA,aAAKO,WAAL,GAAmB,IAAnB;AACA,aAAKI,aAAL,GAAqBtN,KAAK,CAACoQ,OAA3B;AACA,aAAK7C,aAAL,GAAqBvN,KAAK,CAACqQ,OAA3B;AACH,OAL0C,CAKzC/P,IALyC,CAKpC,IALoC,CAA3C;AAOA,WAAKmP,OAAL,CAAa1P,gBAAb,CAA8B,WAA9B,EAA2C,UAASC,KAAT,EAAgB;AACvD,aAAK2M,cAAL,GAAsB,IAAtB;AACA,aAAKQ,WAAL,GAAmB,IAAnB;AACA,aAAKG,aAAL,GAAqBtN,KAAK,CAACoQ,OAA3B;AACA,aAAK7C,aAAL,GAAqBvN,KAAK,CAACqQ,OAA3B;AACH,OAL0C,CAKzC/P,IALyC,CAKpC,IALoC,CAA3C;AAOA,WAAKoP,OAAL,CAAa3P,gBAAb,CAA8B,WAA9B,EAA2C,UAASC,KAAT,EAAgB;AACvD,aAAK2M,cAAL,GAAsB,IAAtB;AACA,aAAKS,WAAL,GAAmB,IAAnB;AACA,aAAKE,aAAL,GAAqBtN,KAAK,CAACoQ,OAA3B;AACA,aAAK7C,aAAL,GAAqBvN,KAAK,CAACqQ,OAA3B;AACH,OAL0C,CAKzC/P,IALyC,CAKpC,IALoC,CAA3C;AAOA,WAAKqP,OAAL,CAAa5P,gBAAb,CAA8B,WAA9B,EAA2C,UAASC,KAAT,EAAgB;AACvD,aAAK2M,cAAL,GAAsB,IAAtB;AACA,aAAKU,WAAL,GAAmB,IAAnB;AACA,aAAKC,aAAL,GAAqBtN,KAAK,CAACoQ,OAA3B;AACA,aAAK7C,aAAL,GAAqBvN,KAAK,CAACqQ,OAA3B;AACH,OAL0C,CAKzC/P,IALyC,CAKpC,IALoC,CAA3C;AAOAxC,cAAQ,CAACiC,gBAAT,CAA0B,SAA1B,EAAqC,UAASC,KAAT,EAAgB;AACjD,YAAG,KAAK2M,cAAR,EAAwB;AACpB,eAAKA,cAAL,GAAsB,KAAtB;AACA,eAAKG,YAAL,GAAoB,KAApB;AACA,eAAKC,YAAL,GAAoB,KAApB;AACA,eAAKC,YAAL,GAAoB,KAApB;AACA,eAAKC,YAAL,GAAoB,KAApB;AACA,eAAKC,WAAL,GAAmB,KAAnB;AACA,eAAKC,WAAL,GAAmB,KAAnB;AACA,eAAKC,WAAL,GAAmB,KAAnB;AACA,eAAKC,WAAL,GAAmB,KAAnB;AACH;AACJ,OAZoC,CAYnC/M,IAZmC,CAY9B,IAZ8B,CAArC;AAcAxC,cAAQ,CAACiC,gBAAT,CAA0B,WAA1B,EAAuC,UAASC,KAAT,EAAgB;AACnD,YAAG,KAAK2M,cAAR,EAAwB;AACpB,cAAG,KAAKG,YAAR,EAAsB;AAClB,gBAAIwD,MAAM,GAAG,KAAKhD,aAAL,GAAmBtN,KAAK,CAACoQ,OAAtC;AACA,gBAAIG,aAAa,GAAG,KAAKC,UAAL,KAAoBF,MAAxC;;AACA,gBAAG,KAAKG,QAAL,KAAkB,KAAK7D,QAA1B,EAAoC;AAChC,mBAAKmC,SAAL,CAAejQ,KAAf,CAAqBkQ,IAArB,GAA4BuB,aAAa,GAAC,IAA1C;AACA,mBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,MAA9B;AACH,aAHD,MAGO;AACH,kBAAGA,MAAM,GAAG,CAAZ,EAAe;AACX,qBAAKvB,SAAL,CAAejQ,KAAf,CAAqBkQ,IAArB,GAA4BuB,aAAa,GAAC,IAA1C;AACA,qBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,MAA9B;AACH;AACJ;;AACDA,kBAAM,GAAG,KAAK/C,aAAL,GAAmBvN,KAAK,CAACqQ,OAAlC;AACAE,yBAAa,GAAG,KAAKG,UAAL,KAAoBJ,MAApC;;AACA,gBAAG,KAAKK,SAAL,KAAmB,KAAK9D,SAA3B,EAAsC;AAClC,mBAAKkC,SAAL,CAAejQ,KAAf,CAAqByD,GAArB,GAA2BgO,aAAa,GAAC,IAAzC;AACA,mBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,MAAhC;AACH,aAHD,MAGO;AACH,kBAAGA,MAAM,GAAG,CAAZ,EAAe;AACX,qBAAKvB,SAAL,CAAejQ,KAAf,CAAqByD,GAArB,GAA2BgO,aAAa,GAAC,IAAzC;AACA,qBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,MAAhC;AACH;AACJ;;AAED,iBAAKhD,aAAL,GAAqBtN,KAAK,CAACoQ,OAA3B;AACA,iBAAK7C,aAAL,GAAqBvN,KAAK,CAACqQ,OAA3B;AACH,WA1BD,MA0BO,IAAG,KAAKtD,YAAR,EAAsB;AACzB,gBAAIuD,OAAM,GAAGtQ,KAAK,CAACoQ,OAAN,GAAc,KAAK9C,aAAhC;;AACA,gBAAIiD,cAAa,GAAG,KAAKC,UAAL,KAAoBF,OAAxC;;AACA,gBAAG,KAAKG,QAAL,KAAkB,KAAK7D,QAA1B,EAAoC;AAChC,mBAAKmC,SAAL,CAAejQ,KAAf,CAAqB8R,KAArB,GAA6BL,cAAa,GAAC,IAA3C;AACA,mBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,OAA9B;AACH,aAHD,MAGO;AACH,kBAAGA,OAAM,GAAG,CAAZ,EAAe;AACX,qBAAKvB,SAAL,CAAejQ,KAAf,CAAqB8R,KAArB,GAA6BL,cAAa,GAAC,IAA3C;AACA,qBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,OAA9B;AACH;AACJ;;AACDA,mBAAM,GAAG,KAAK/C,aAAL,GAAmBvN,KAAK,CAACqQ,OAAlC;AACAE,0BAAa,GAAG,KAAKG,UAAL,KAAoBJ,OAApC;;AACA,gBAAG,KAAKK,SAAL,KAAmB,KAAK9D,SAA3B,EAAsC;AAClC,mBAAKkC,SAAL,CAAejQ,KAAf,CAAqByD,GAArB,GAA2BgO,cAAa,GAAC,IAAzC;AACA,mBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,OAAhC;AACH,aAHD,MAGO;AACH,kBAAGA,OAAM,GAAG,CAAZ,EAAe;AACX,qBAAKvB,SAAL,CAAejQ,KAAf,CAAqByD,GAArB,GAA2BgO,cAAa,GAAC,IAAzC;AACA,qBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,OAAhC;AACH;AACJ;;AAED,iBAAKhD,aAAL,GAAqBtN,KAAK,CAACoQ,OAA3B;AACA,iBAAK7C,aAAL,GAAqBvN,KAAK,CAACqQ,OAA3B;AACH,WA1BM,MA0BA,IAAG,KAAKrD,YAAR,EAAsB;AACzB,gBAAIsD,QAAM,GAAG,KAAKhD,aAAL,GAAmBtN,KAAK,CAACoQ,OAAtC;;AACA,gBAAIG,eAAa,GAAG,KAAKC,UAAL,KAAoBF,QAAxC;;AACA,gBAAG,KAAKG,QAAL,KAAkB,KAAK7D,QAA1B,EAAoC;AAChC,mBAAKmC,SAAL,CAAejQ,KAAf,CAAqBkQ,IAArB,GAA4BuB,eAAa,GAAC,IAA1C;AACA,mBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,QAA9B;AACH,aAHD,MAGO;AACH,kBAAGA,QAAM,GAAG,CAAZ,EAAe;AACX,qBAAKvB,SAAL,CAAejQ,KAAf,CAAqBkQ,IAArB,GAA4BuB,eAAa,GAAC,IAA1C;AACA,qBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,QAA9B;AACH;AACJ;;AACDA,oBAAM,GAAGtQ,KAAK,CAACqQ,OAAN,GAAc,KAAK9C,aAA5B;AACAgD,2BAAa,GAAG,KAAKG,UAAL,KAAoBJ,QAApC;;AACA,gBAAG,KAAKK,SAAL,KAAmB,KAAK9D,SAA3B,EAAsC;AAClC,mBAAKkC,SAAL,CAAejQ,KAAf,CAAqBC,MAArB,GAA8BwR,eAAa,GAAC,IAA5C;AACA,mBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,QAAhC;AACH,aAHD,MAGO;AACH,kBAAGA,QAAM,GAAG,CAAZ,EAAe;AACX,qBAAKvB,SAAL,CAAejQ,KAAf,CAAqBC,MAArB,GAA8BwR,eAAa,GAAC,IAA5C;AACA,qBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,QAAhC;AACH;AACJ;;AAED,iBAAKhD,aAAL,GAAqBtN,KAAK,CAACoQ,OAA3B;AACA,iBAAK7C,aAAL,GAAqBvN,KAAK,CAACqQ,OAA3B;AACH,WA1BM,MA0BA,IAAG,KAAKpD,YAAR,EAAsB;AACzB,gBAAIqD,QAAM,GAAGtQ,KAAK,CAACoQ,OAAN,GAAc,KAAK9C,aAAhC;;AACA,gBAAIiD,eAAa,GAAG,KAAKC,UAAL,KAAoBF,QAAxC;;AACA,gBAAG,KAAKG,QAAL,KAAkB,KAAK7D,QAA1B,EAAoC;AAChC,mBAAKmC,SAAL,CAAejQ,KAAf,CAAqB8R,KAArB,GAA6BL,eAAa,GAAC,IAA3C;AACA,mBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,QAA9B;AACH,aAHD,MAGO;AACH,kBAAGA,QAAM,GAAG,CAAZ,EAAe;AACX,qBAAKvB,SAAL,CAAejQ,KAAf,CAAqB8R,KAArB,GAA6BL,eAAa,GAAC,IAA3C;AACA,qBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,QAA9B;AACH;AACJ;;AACDA,oBAAM,GAAGtQ,KAAK,CAACqQ,OAAN,GAAc,KAAK9C,aAA5B;AACAgD,2BAAa,GAAG,KAAKG,UAAL,KAAoBJ,QAApC;;AACA,gBAAG,KAAKK,SAAL,KAAmB,KAAK9D,SAA3B,EAAsC;AAClC,mBAAKkC,SAAL,CAAejQ,KAAf,CAAqBC,MAArB,GAA8BwR,eAAa,GAAC,IAA5C;AACA,mBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,QAAhC;AACH,aAHD,MAGO;AACH,kBAAGA,QAAM,GAAG,CAAZ,EAAe;AACX,qBAAKvB,SAAL,CAAejQ,KAAf,CAAqBC,MAArB,GAA8BwR,eAAa,GAAC,IAA5C;AACA,qBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,QAAhC;AACH;AACJ;;AAED,iBAAKhD,aAAL,GAAqBtN,KAAK,CAACoQ,OAA3B;AACA,iBAAK7C,aAAL,GAAqBvN,KAAK,CAACqQ,OAA3B;AACH,WA1BM,MA0BA,IAAG,KAAKnD,WAAR,EAAqB;AACxB,gBAAIoD,QAAM,GAAG,KAAK/C,aAAL,GAAmBvN,KAAK,CAACqQ,OAAtC;;AACA,gBAAIE,eAAa,GAAG,KAAKG,UAAL,KAAoBJ,QAAxC;;AACA,gBAAG,KAAKK,SAAL,KAAmB,KAAK9D,SAA3B,EAAsC;AAClC,mBAAKkC,SAAL,CAAejQ,KAAf,CAAqByD,GAArB,GAA2BgO,eAAa,GAAC,IAAzC;AACA,mBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,QAAhC;AACH,aAHD,MAGO;AACH,kBAAGA,QAAM,GAAG,CAAZ,EAAe;AACX,qBAAKvB,SAAL,CAAejQ,KAAf,CAAqByD,GAArB,GAA2BgO,eAAa,GAAC,IAAzC;AACA,qBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,QAAhC;AACH;AACJ;;AAED,iBAAK/C,aAAL,GAAqBvN,KAAK,CAACqQ,OAA3B;AACH,WAdM,MAcA,IAAG,KAAKlD,WAAR,EAAqB;AACxB,gBAAImD,QAAM,GAAGtQ,KAAK,CAACqQ,OAAN,GAAc,KAAK9C,aAAhC;;AACA,gBAAIgD,eAAa,GAAG,KAAKG,UAAL,KAAoBJ,QAAxC;;AACA,gBAAG,KAAKK,SAAL,KAAmB,KAAK9D,SAA3B,EAAsC;AAClC,mBAAKkC,SAAL,CAAejQ,KAAf,CAAqBC,MAArB,GAA8BwR,eAAa,GAAC,IAA5C;AACA,mBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,QAAhC;AACH,aAHD,MAGO;AACH,kBAAGA,QAAM,GAAG,CAAZ,EAAe;AACX,qBAAKvB,SAAL,CAAejQ,KAAf,CAAqBC,MAArB,GAA8BwR,eAAa,GAAC,IAA5C;AACA,qBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,QAAhC;AACH;AACJ;;AAED,iBAAK/C,aAAL,GAAqBvN,KAAK,CAACqQ,OAA3B;AACH,WAdM,MAcA,IAAG,KAAKjD,WAAR,EAAqB;AACxB,gBAAIkD,QAAM,GAAG,KAAKhD,aAAL,GAAmBtN,KAAK,CAACoQ,OAAtC;;AACA,gBAAIG,eAAa,GAAG,KAAKC,UAAL,KAAoBF,QAAxC;;AACA,gBAAG,KAAKG,QAAL,KAAkB,KAAK7D,QAA1B,EAAoC;AAChC,mBAAKmC,SAAL,CAAejQ,KAAf,CAAqBkQ,IAArB,GAA4BuB,eAAa,GAAC,IAA1C;AACA,mBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,QAA9B;AACH,aAHD,MAGO;AACH,kBAAGA,QAAM,GAAG,CAAZ,EAAe;AACX,qBAAKvB,SAAL,CAAejQ,KAAf,CAAqBkQ,IAArB,GAA4BuB,eAAa,GAAC,IAA1C;AACA,qBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,QAA9B;AACH;AACJ;;AAED,iBAAKhD,aAAL,GAAqBtN,KAAK,CAACoQ,OAA3B;AACH,WAdM,MAcA,IAAG,KAAK/C,WAAR,EAAqB;AACxB,gBAAIiD,QAAM,GAAGtQ,KAAK,CAACoQ,OAAN,GAAc,KAAK9C,aAAhC;;AACA,gBAAIiD,eAAa,GAAG,KAAKC,UAAL,KAAoBF,QAAxC;;AACA,gBAAG,KAAKG,QAAL,KAAkB,KAAK7D,QAA1B,EAAoC;AAChC,mBAAKmC,SAAL,CAAejQ,KAAf,CAAqB8R,KAArB,GAA6BL,eAAa,GAAC,IAA3C;AACA,mBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,QAA9B;AACH,aAHD,MAGO;AACH,kBAAGA,QAAM,GAAG,CAAZ,EAAe;AACX,qBAAKvB,SAAL,CAAejQ,KAAf,CAAqB8R,KAArB,GAA6BL,eAAa,GAAC,IAA3C;AACA,qBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,QAA9B;AACH;AACJ;;AAED,iBAAKhD,aAAL,GAAqBtN,KAAK,CAACoQ,OAA3B;AACH;;AAED,eAAKS,uBAAL;AACH;AACJ,OAtKsC,CAsKrCvQ,IAtKqC,CAsKhC,IAtKgC,CAAvC;AAwKA,WAAKyO,SAAL,CAAehP,gBAAf,CAAgC,WAAhC,EAA6C,UAASC,KAAT,EAAgB;AACzD,YAAGA,KAAK,CAACgF,MAAN,IAAgB,CAAnB,EAAsB;AAClB,eAAKwG,WAAL;AACH;AACJ,OAJ4C,CAI3ClL,IAJ2C,CAItC,IAJsC,CAA7C;AAMA,WAAKsP,QAAL,CAAc7P,gBAAd,CAA+B,WAA/B,EAA4C,UAASC,KAAT,EAAgB;AACxD,aAAKwM,cAAL,GAAsB,IAAtB;AACA,aAAKC,OAAL,GAAezM,KAAK,CAACoQ,OAArB;AACA,aAAK1D,OAAL,GAAe1M,KAAK,CAACqQ,OAArB;;AACA,YAAG,CAAC,KAAKtB,SAAL,CAAe/Q,SAAf,CAAyB6K,QAAzB,CAAkC,4BAAlC,CAAJ,EAAqE;AACjE,eAAKkG,SAAL,CAAe/Q,SAAf,CAAyBC,GAAzB,CAA6B,4BAA7B;AACH;AACJ,OAP2C,CAO1CqC,IAP0C,CAOrC,IAPqC,CAA5C;AASA,WAAKsP,QAAL,CAAc7P,gBAAd,CAA+B,UAA/B,EAA2C,UAASC,KAAT,EAAgB;AACvD,aAAKmQ,cAAL;AACH,OAF0C,CAEzC7P,IAFyC,CAEpC,IAFoC,CAA3C;AAIAxC,cAAQ,CAACiC,gBAAT,CAA0B,SAA1B,EAAqC,UAASC,KAAT,EAAgB;AACjD,YAAG,KAAKwM,cAAR,EAAwB;AACpB,eAAKA,cAAL,GAAsB,KAAtB;;AACA,cAAG,CAAC,KAAKwB,WAAN,KAAsB,KAAKQ,OAAL,IAAgB,KAAKC,QAArB,IAAiC,KAAKC,SAA5D,CAAH,EAA2E;AACvE,iBAAKoC,UAAL;AACH;;AACD,eAAK/B,SAAL,CAAe/Q,SAAf,CAAyBmH,MAAzB,CAAgC,4BAAhC;AACH;AACJ,OARoC,CAQnC7E,IARmC,CAQ9B,IAR8B,CAArC;AAUAxC,cAAQ,CAACiC,gBAAT,CAA0B,WAA1B,EAAuC,UAASC,KAAT,EAAgB;AACnD,YAAG,KAAKwM,cAAR,EAAwB;AACpB,cAAIuE,KAAK,GAAG,KAAKhC,SAAL,CAAezD,qBAAf,EAAZ;AACA,cAAI0F,sBAAsB,GAAMhR,KAAK,CAACoQ,OAAP,GAAgB,KAAK3D,OAAtB,GAA+BsE,KAAK,CAAC/B,IAAnE;AACA,cAAIiC,oBAAoB,GAAMjR,KAAK,CAACqQ,OAAP,GAAgB,KAAK3D,OAAtB,GAA+BqE,KAAK,CAACxO,GAAjE;AACA,eAAKwM,SAAL,CAAejQ,KAAf,CAAqBkQ,IAArB,GAA4BgC,sBAAsB,GAAC,IAAnD;AACA,eAAKjC,SAAL,CAAejQ,KAAf,CAAqByD,GAArB,GAA2B0O,oBAAoB,GAAC,IAAhD;AACAF,eAAK,GAAG,KAAKhC,SAAL,CAAezD,qBAAf,EAAR;;AACA,cAAGyF,KAAK,CAACxO,GAAN,GAAY,CAAf,EAAkB;AACd,iBAAKwM,SAAL,CAAejQ,KAAf,CAAqByD,GAArB,GAA2B,IAAE,IAA7B;AACA,iBAAKkK,OAAL,GAAezM,KAAK,CAACoQ,OAArB;AACA,iBAAKc,UAAL,CAAgB,CAAhB;AACH,WAJD,MAIO;AACH,iBAAKzE,OAAL,GAAezM,KAAK,CAACoQ,OAArB;AACA,iBAAK1D,OAAL,GAAe1M,KAAK,CAACqQ,OAArB;AACH;;AACD,eAAKc,oBAAL,CAA0BnR,KAA1B;AACA,eAAKoR,oBAAL,CAA0BpR,KAA1B;AACH;AACJ,OAnBsC,CAmBrCM,IAnBqC,CAmBhC,IAnBgC,CAAvC;AAoBH;;;yCAEoBN,K,EAAO;AACxB,UAAG,CAAC,KAAKwO,OAAN,IAAiB,KAAKkC,UAAL,MAAqB,CAAzC,EAA4C;AACxC,YAAG,KAAKF,UAAL,KAAoB,EAApB,IAA4B,KAAKA,UAAL,KAAoB,KAAKC,QAAL,EAArB,GAAyC3S,QAAQ,CAACc,IAAT,CAAc8B,WAAd,GAA0B,EAAjG,EAAuG;AACnG,eAAK8N,OAAL,GAAe,IAAf;AACA,eAAK6C,6BAAL,CAAmC,KAAnC;AACH;AACJ;;AACD,UAAG,CAAC,KAAKrD,WAAT,EAAsB;AAClB,YAAG,CAAC,KAAKS,QAAN,IAAkB,KAAK+B,UAAL,KAAoB,EAAzC,EAA6C;AACzC,eAAK/B,QAAL,GAAgB,IAAhB;AACA,eAAK4C,6BAAL,CAAmC,MAAnC;AACH;;AACD,YAAG,CAAC,KAAK3C,SAAN,IAAoB,KAAK8B,UAAL,KAAoB,KAAKC,QAAL,EAArB,GAAyC3S,QAAQ,CAACc,IAAT,CAAc8B,WAAd,GAA0B,EAAzF,EAA8F;AAC1F,eAAKgO,SAAL,GAAiB,IAAjB;AACA,eAAK2C,6BAAL,CAAmC,OAAnC;AACH;AACJ;AACJ;;;2CAEsB;AACnB,UAAG,KAAK7C,OAAR,EAAiB;AACb,YAAG,KAAKkC,UAAL,MAAqB,EAArB,IAA2B,KAAKF,UAAL,KAAoB,EAA/C,IAAuD,KAAKA,UAAL,KAAoB,KAAKC,QAAL,EAArB,GAAyC3S,QAAQ,CAACc,IAAT,CAAc8B,WAAd,GAA0B,EAA5H,EAAkI;AAC9H,eAAK8N,OAAL,GAAe,KAAf;AACA,eAAK8C,iBAAL,CAAuB,KAAvB;AACH;AACJ;;AACD,UAAG,KAAK7C,QAAR,EAAkB;AACd,YAAG,KAAK+B,UAAL,KAAoB,EAAvB,EAA2B;AACvB,eAAK/B,QAAL,GAAgB,KAAhB;AACA,eAAK6C,iBAAL,CAAuB,MAAvB;AACH;AACJ;;AACD,UAAG,KAAK5C,SAAR,EAAmB;AACf,YAAI,KAAK8B,UAAL,KAAoB,KAAKC,QAAL,EAArB,GAAyC3S,QAAQ,CAACc,IAAT,CAAc8B,WAAd,GAA0B,EAAtE,EAA2E;AACvE,eAAKgO,SAAL,GAAiB,KAAjB;AACA,eAAK4C,iBAAL,CAAuB,OAAvB;AACH;AACJ;AACJ;;;sCAEiBC,S,EAAW;AACzB,UAAG,KAAKlD,SAAR,EAAmB;AACf,aAAKyC,UAAL;AACH;;AAED,UAAG,KAAKxC,kBAAR,EAA4B;AACxB,aAAK+C,6BAAL,CAAmCE,SAAnC;AACH;AACJ;;;kDAE6BA,S,EAAW;AACrC,UAAI7R,OAAO,GAAGxC,WAAW,CAAC+M,UAAZ,GAAyBrK,YAAzB,EAAd;AACA,UAAI4R,eAAe,GAAG9R,OAAO,CAACyD,aAAR,CAAsB,yCAAtB,CAAtB;AACA,UAAIsO,gBAAgB,GAAG/R,OAAO,CAACyD,aAAR,CAAsB,0CAAtB,CAAvB;AACA,UAAIuO,iBAAiB,GAAGhS,OAAO,CAACyD,aAAR,CAAsB,2CAAtB,CAAxB;;AAEA,UAAGoO,SAAS,IAAI,KAAhB,EAAuB;AACnBC,uBAAe,CAACxT,SAAhB,CAA0B+G,MAA1B,CAAiC,+BAAjC;AACH;;AACD,UAAGwM,SAAS,IAAI,MAAhB,EAAwB;AACpBE,wBAAgB,CAACzT,SAAjB,CAA2B+G,MAA3B,CAAkC,+BAAlC;AACH;;AACD,UAAGwM,SAAS,IAAI,OAAhB,EAAyB;AACrBG,yBAAiB,CAAC1T,SAAlB,CAA4B+G,MAA5B,CAAmC,+BAAnC;AACH;;AAED,UAAI4M,QAAQ,GAAGH,eAAe,CAACxT,SAAhB,CAA0B6K,QAA1B,CAAmC,+BAAnC,CAAf;AACA,UAAI+I,SAAS,GAAGH,gBAAgB,CAACzT,SAAjB,CAA2B6K,QAA3B,CAAoC,+BAApC,CAAhB;AACA,UAAIgJ,UAAU,GAAGH,iBAAiB,CAAC1T,SAAlB,CAA4B6K,QAA5B,CAAqC,+BAArC,CAAjB;;AAEA,UAAG8I,QAAQ,IAAIC,SAAZ,IAAyBC,UAA5B,EAAwC;AACpC,aAAKvD,kBAAL,GAA0B,IAA1B;AACH,OAFD,MAEO;AACH,aAAKA,kBAAL,GAA0B,KAA1B;AACH;AACJ;;;iCAEY;AACT,UAAG,CAAC,KAAKD,SAAT,EAAoB;AAChB,YAAG,KAAKG,OAAL,IAAgB,CAAC,KAAKR,WAAzB,EAAsC;AAClC,eAAKmC,cAAL;AACA,eAAKkB,6BAAL,CAAmC,KAAnC;AACA,eAAKhD,SAAL,GAAiB,IAAjB;AACH,SAJD,MAIO,IAAG,KAAKI,QAAR,EAAkB;AACrB,eAAKN,WAAL,GAAmB,KAAKsC,QAAL,EAAnB;AACA,eAAKrC,YAAL,GAAoB,KAAKuC,SAAL,EAApB;AACA,eAAKpC,iBAAL,GAAyB,CAAzB;AACA,eAAKQ,SAAL,CAAejQ,KAAf,CAAqBkQ,IAArB,GAA4B,KAA5B;AACA,eAAKD,SAAL,CAAejQ,KAAf,CAAqByD,GAArB,GAA2B,KAA3B;AACA,eAAK0M,QAAL,CAAc,KAAd;AACA,eAAKC,SAAL,CAAehS,WAAW,CAAC+M,UAAZ,GAAyB6H,mBAAzB,GAA+CjT,YAA9D;AACA,eAAKwS,6BAAL,CAAmC,MAAnC;AACH,SATM,MASA,IAAG,KAAK3C,SAAR,EAAmB;AACtB,eAAKP,WAAL,GAAmB,KAAKsC,QAAL,EAAnB;AACA,eAAKrC,YAAL,GAAoB,KAAKuC,SAAL,EAApB;AACA,eAAKpC,iBAAL,GAAyBzQ,QAAQ,CAACc,IAAT,CAAc8B,WAAd,GAA0B,KAAK+P,QAAL,EAAnD;AACA,eAAKxB,QAAL,CAAc,KAAd;AACA,eAAKC,SAAL,CAAehS,WAAW,CAAC+M,UAAZ,GAAyB6H,mBAAzB,GAA+CjT,YAA9D;AACA,cAAIkT,IAAI,GAAIjU,QAAQ,CAACc,IAAT,CAAc8B,WAAd,GAA4B,KAAK+P,QAAL,EAAxC;AACA,eAAK1B,SAAL,CAAejQ,KAAf,CAAqBkQ,IAArB,GAA4B+C,IAAI,GAAG,IAAnC;AACA,eAAKhD,SAAL,CAAejQ,KAAf,CAAqByD,GAArB,GAA2B,KAA3B;AACA,eAAK8O,6BAAL,CAAmC,OAAnC;AACH;;AACD,YAAI,KAAK7C,OAAL,IAAgB,CAAC,KAAKR,WAAvB,IAAuC,KAAKS,QAA5C,IAAwD,KAAKC,SAAhE,EAA2E;AACvE,eAAKL,SAAL,GAAiB,IAAjB;AACH;AACJ,OA5BD,MA4BO;AACH,YAAG,CAAC,KAAKG,OAAN,IAAiB,KAAKR,WAAzB,EAAsC;AAClC,eAAKmC,cAAL;AACH,SAFD,MAEO,IAAG,CAAC,KAAK1B,QAAN,IAAkB,CAAC,KAAKC,SAA3B,EAAsC;AACzC,eAAKO,QAAL,CAAc,KAAKd,WAAnB;AACA,eAAKe,SAAL,CAAe,KAAKd,YAApB;AACA,eAAK4D,UAAL,CAAgB,KAAKzD,iBAArB;AACH;;AACD,aAAKF,SAAL,GAAiB,KAAjB;AACH;AACJ;;;qCAEgB;AACb,UAAG,KAAKL,WAAR,EAAqB;AACjB,aAAKA,WAAL,GAAmB,KAAnB;AACA,aAAKK,SAAL,GAAiB,KAAjB;AACA,aAAKG,OAAL,GAAe,KAAf;AACA,aAAKwD,UAAL,CAAgB,KAAK/D,gBAArB;;AACA,YAAG,CAAC,KAAKzB,cAAT,EAAyB;AACrB,eAAK0E,UAAL,CAAgB,KAAKhD,gBAArB;AACH;;AACD,aAAKe,QAAL,CAAc,KAAKd,WAAnB;AACA,aAAKe,SAAL,CAAe,KAAKd,YAApB;AACH,OAVD,MAUO;AACH,aAAKH,gBAAL,GAAwB,KAAKuC,UAAL,EAAxB;AACA,aAAKtC,gBAAL,GAAwB,KAAKwC,UAAL,EAAxB;AACA,aAAKvC,WAAL,GAAmB,KAAKsC,QAAL,EAAnB;AACA,aAAKrC,YAAL,GAAoB,KAAKuC,SAAL,EAApB;AACA,aAAK5B,SAAL,CAAejQ,KAAf,CAAqBkQ,IAArB,GAA4B,GAA5B;AACA,aAAKD,SAAL,CAAejQ,KAAf,CAAqByD,GAArB,GAA2B,GAA3B;AACA,aAAK0M,QAAL,CAAc,MAAd;AACA,aAAKC,SAAL,CAAehS,WAAW,CAAC+M,UAAZ,GAAyB6H,mBAAzB,GAA+CjT,YAA9D;AACA,aAAKmP,WAAL,GAAmB,IAAnB;AACA,aAAKK,SAAL,GAAiB,IAAjB;AACA,aAAKG,OAAL,GAAe,IAAf;AACH;AACJ;;;4CAEuByD,W,EAAa;AACjC,WAAKzE,oBAAL,GAA4ByE,WAA5B;AACH;;;wCAEmBA,W,EAAa;AAC7B,WAAKxE,gBAAL,GAAwBwE,WAAxB;AACH;;;yCAEoBA,W,EAAa;AAC9B,WAAKvE,iBAAL,GAAyBuE,WAAzB;AACH;;;0CAEqBA,W,EAAa;AAC/B,WAAKtE,kBAAL,GAA0BsE,WAA1B;AACH;;;2CAEsB;AACnB,WAAKlD,SAAL,CAAe/Q,SAAf,CAAyBmH,MAAzB,CAAgC,yBAAhC;AACA,WAAK4J,SAAL,CAAe/Q,SAAf,CAAyBmH,MAAzB,CAAgC,qBAAhC;AACA,WAAK4J,SAAL,CAAe/Q,SAAf,CAAyBmH,MAAzB,CAAgC,sBAAhC;AACA,WAAK4J,SAAL,CAAe/Q,SAAf,CAAyBmH,MAAzB,CAAgC,uBAAhC;AACH;;;2CAEsB3G,K,EAAO;AAC1B,UAAGA,KAAK,CAACuE,OAAN,CAAc,GAAd,KAAsB,CAAC,CAA1B,EAA6B;AACzBvE,aAAK,GAAGA,KAAK,CAACsE,SAAN,CAAgB,CAAhB,EAAmBtE,KAAK,CAACmD,MAAN,GAAa,CAAhC,CAAR;AACAnD,aAAK,GAAGvB,MAAM,CAACmD,UAAP,IAAqB5B,KAAK,GAAC,GAA3B,CAAR;AACH;;AACD,WAAK0T,oBAAL;;AACA,UAAG1T,KAAK,IAAI,IAAZ,EAAkB;AACd,YAAG,KAAKgP,oBAAL,IAA6B,CAAC,KAAKI,uBAAtC,EAA+D;AAC3D,eAAKJ,oBAAL;AACA,eAAKI,uBAAL,GAA+B,IAA/B;AACA,eAAKC,mBAAL,GAA2B,KAA3B;AACA,eAAKC,oBAAL,GAA4B,KAA5B;AACA,eAAKC,qBAAL,GAA6B,KAA7B;AACH;;AACD,aAAKgB,SAAL,CAAe/Q,SAAf,CAAyBC,GAAzB,CAA6B,yBAA7B;AACH,OATD,MASO,IAAGO,KAAK,IAAI,IAAZ,EAAkB;AACrB,YAAG,KAAKiP,gBAAL,IAAyB,CAAC,KAAKI,mBAAlC,EAAuD;AACnD,eAAKJ,gBAAL;AACA,eAAKI,mBAAL,GAA2B,IAA3B;AACA,eAAKD,uBAAL,GAA+B,KAA/B;AACA,eAAKE,oBAAL,GAA4B,KAA5B;AACA,eAAKC,qBAAL,GAA6B,KAA7B;AACH;;AACD,aAAKgB,SAAL,CAAe/Q,SAAf,CAAyBC,GAAzB,CAA6B,qBAA7B;AACH,OATM,MASA,IAAGO,KAAK,IAAI,GAAZ,EAAiB;AACpB,YAAG,KAAKkP,iBAAL,IAA0B,CAAC,KAAKI,oBAAnC,EAAyD;AACrD,eAAKJ,iBAAL;AACA,eAAKI,oBAAL,GAA4B,IAA5B;AACA,eAAKF,uBAAL,GAA+B,KAA/B;AACA,eAAKC,mBAAL,GAA2B,KAA3B;AACA,eAAKE,qBAAL,GAA6B,KAA7B;AACH;;AACD,aAAKgB,SAAL,CAAe/Q,SAAf,CAAyBC,GAAzB,CAA6B,sBAA7B;AACH,OATM,MASA,IAAGO,KAAK,GAAG,GAAX,EAAgB;AACnB,YAAG,KAAKmP,kBAAL,IAA2B,CAAC,KAAKI,qBAApC,EAA2D;AACvD,eAAKJ,kBAAL;AACA,eAAKI,qBAAL,GAA6B,IAA7B;AACA,eAAKH,uBAAL,GAA+B,KAA/B;AACA,eAAKC,mBAAL,GAA2B,KAA3B;AACA,eAAKC,oBAAL,GAA4B,KAA5B;AACH;;AACD,aAAKiB,SAAL,CAAe/Q,SAAf,CAAyBC,GAAzB,CAA6B,uBAA7B;AACH;AACJ;;;wCAEmB;AAChB,UAAIkU,UAAU,GAAG,KAAKzM,aAAL,CAAmB0M,UAAnB,EAAjB;;AACA,WAAI,IAAIlQ,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGiQ,UAAU,CAACxQ,MAA9B,EAAsCO,CAAC,EAAvC,EAA2C;AACvC,YAAImQ,OAAO,GAAGF,UAAU,CAACjQ,CAAD,CAAV,CAActC,YAAd,GAA6BuD,aAA7B,CAA2C,aAA3C,CAAd;;AACA,YAAG,CAACkP,OAAO,CAACrU,SAAR,CAAkB6K,QAAlB,CAA2B,qBAA3B,CAAJ,EAAuD;AACnDwJ,iBAAO,CAACrU,SAAR,CAAkBC,GAAlB,CAAsB,qBAAtB;AACH;AACJ;AACJ;;;kCAEa;AACV,WAAKqM,iBAAL;AACA,WAAKyE,SAAL,CAAe/Q,SAAf,CAAyBmH,MAAzB,CAAgC,qBAAhC;AACH;;;6BAEQ3G,K,EAAO;AACZA,WAAK,GAAGA,KAAK,GAAG,EAAhB;AACA,WAAK8T,sBAAL,CAA4B9T,KAA5B;;AACA,UAAGA,KAAK,CAACuE,OAAN,CAAc,GAAd,KAAsB,CAAC,CAA1B,EAA6B;AACzB,aAAKgM,SAAL,CAAejQ,KAAf,CAAqBN,KAArB,GAA6BA,KAA7B;AACH,OAFD,MAEO;AACH,aAAKuQ,SAAL,CAAejQ,KAAf,CAAqBN,KAArB,GAA6BA,KAAK,GAAC,IAAnC;AACH;;AACD,WAAKqS,uBAAL;AACH;;;8BAESpS,M,EAAQ;AACdA,YAAM,GAAGA,MAAM,GAAG,EAAlB;;AACA,UAAGA,MAAM,CAACsE,OAAP,CAAe,GAAf,KAAuB,CAAC,CAA3B,EAA8B;AAC1B,aAAKgM,SAAL,CAAejQ,KAAf,CAAqBL,MAArB,GAA8BA,MAA9B;AACH,OAFD,MAEO;AACH,aAAKsQ,SAAL,CAAejQ,KAAf,CAAqBL,MAArB,GAA8BA,MAAM,GAAC,IAArC;AACH;;AACD,WAAKoS,uBAAL;AACH;;;uCAEkB0B,Q,EAAU;AACzB,WAAKxD,SAAL,CAAe5L,aAAf,CAA6B,sBAA7B,EAAqDrE,KAArD,CAA2D0T,UAA3D,GAAwED,QAAxE;AACH;;;6BAEQvC,K,EAAO;AACZ,WAAK5D,SAAL,GAAiB4D,KAAjB;;AACA,UAAGA,KAAK,CAACrO,MAAN,GAAe,KAAKuH,cAAvB,EAAuC;AACnC8G,aAAK,GAAGA,KAAK,CAAClN,SAAN,CAAgB,CAAhB,EAAoB,KAAKoG,cAAL,GAAoB,CAAxC,IAA8C,KAAtD;AACH;;AACD,WAAK8G,KAAL,CAAWlQ,WAAX,GAAyBkQ,KAAzB;AACA,WAAKa,uBAAL;;AACA,UAAG,KAAKnL,aAAL,CAAmB6G,YAAnB,CAAgC,KAAKvD,EAArC,KAA4C,IAA/C,EAAqD;AACjD,aAAKtD,aAAL,CAAmB6G,YAAnB,CAAgC,KAAKvD,EAArC,EAAyC4F,QAAzC,CAAkDoB,KAAlD;AACH;AACJ;;;8CAEyB;AACtB,UAAIxR,KAAK,GAAG,KAAKiS,QAAL,EAAZ;AACA,UAAIgC,SAAS,GAAG,KAAKvU,MAAL,CAAYiF,aAAZ,CAA0B,sBAA1B,EAAkDmI,qBAAlD,GAA0EsF,KAA1E,GAAkF,KAAKJ,UAAL,EAAlG;AACA,UAAIkC,UAAU,GAAG,KAAKjC,QAAL,MAAmB,KAAKvS,MAAL,CAAYiF,aAAZ,CAA0B,6BAA1B,EAAyDmI,qBAAzD,GAAiF0D,IAAjF,GAAsF,KAAKwB,UAAL,EAAzG,CAAjB;AACA,UAAImC,cAAc,GAAGnU,KAAK,IAAIiU,SAAS,GAAGC,UAAhB,CAA1B;AACA,UAAIE,UAAU,GAAG/O,IAAI,CAACC,KAAL,CAAW6O,cAAc,GAAG,KAAKtG,WAAjC,CAAjB;;AACA,UAAG,KAAKD,SAAL,CAAezK,MAAf,GAAwBiR,UAA3B,EAAuC;AACnC,YAAG,KAAKxG,SAAL,CAAewG,UAAU,GAAC,CAA1B,KAAgC,GAAnC,EAAwC;AACpC,eAAK5C,KAAL,CAAWlQ,WAAX,GAAyB,KAAKsM,SAAL,CAAetJ,SAAf,CAAyB,CAAzB,EAA4B8P,UAAU,GAAC,CAAvC,IAA0C,KAAnE;AACH,SAFD,MAEO;AACH,eAAK5C,KAAL,CAAWlQ,WAAX,GAAyB,KAAKsM,SAAL,CAAetJ,SAAf,CAAyB,CAAzB,EAA4B8P,UAAU,GAAC,CAAvC,IAA0C,KAAnE;AACH;AACJ,OAND,MAMO;AACH,aAAK5C,KAAL,CAAWlQ,WAAX,GAAyB,KAAKsM,SAA9B;AACH;AACJ;;;kCAEa3C,I,EAAM;AAChB,WAAKwG,UAAL,CAAgB1I,YAAhB,CAA6B,KAA7B,EAAoCkC,IAApC;AACA,WAAK/D,aAAL,CAAmB6G,YAAnB,CAAgC,KAAKvD,EAArC,EAAyC6J,OAAzC,CAAiDpJ,IAAjD;AACH;;;+BAEUqJ,O,EAAS;AAChB,UAAGA,OAAO,YAAYC,MAAtB,EAA8B;AAC1B,aAAKD,OAAL,GAAeA,OAAf;AACA,aAAK5C,aAAL,CAAmB5R,WAAnB,CAA+B,KAAKwU,OAApC;AACAA,eAAO,CAAC3N,MAAR;AACH,OAJD,MAIO,IAAI,EAAE2N,OAAO,YAAYC,MAArB,CAAJ,EAAkC;AACrC,aAAKD,OAAL,GAAeA,OAAf;AACA,aAAK5C,aAAL,CAAmBtL,SAAnB,GAA+B,KAAKkO,OAApC;AACH;AACJ;;;+BAEUE,C,EAAG;AACV,WAAKjE,SAAL,CAAejQ,KAAf,CAAqBkQ,IAArB,GAA4BgE,CAAC,GAAC,IAA9B;AACH;;;+BAEUC,C,EAAG;AACV,WAAKlE,SAAL,CAAejQ,KAAf,CAAqByD,GAArB,GAA2B0Q,CAAC,GAAC,IAA7B;AACH;;;iCAEY;AACT,aAAOpQ,MAAM,CAAC,KAAKkM,SAAL,CAAejQ,KAAf,CAAqBkQ,IAArB,CAA0BkE,KAA1B,CAAgC,IAAhC,EAAsC,CAAtC,CAAD,CAAb;AACH;;;iCAEY;AACT,aAAOrQ,MAAM,CAAC,KAAKkM,SAAL,CAAejQ,KAAf,CAAqByD,GAArB,CAAyB2Q,KAAzB,CAA+B,IAA/B,EAAqC,CAArC,CAAD,CAAb;AACH;;;+BAEU;AACP,UAAG,KAAKnE,SAAL,CAAejQ,KAAf,CAAqBN,KAArB,CAA2BuE,OAA3B,CAAmC,GAAnC,KAA2C,CAAC,CAA/C,EAAkD;AAC9C,eAAOjF,QAAQ,CAACc,IAAT,CAAc8B,WAAd,IAA6BmC,MAAM,CAAC,KAAKkM,SAAL,CAAejQ,KAAf,CAAqBN,KAArB,CAA2B0U,KAA3B,CAAiC,GAAjC,EAAsC,CAAtC,CAAD,CAAN,GAAiD,GAA9E,CAAP;AACH,OAFD,MAEO;AACH,eAAOrQ,MAAM,CAAC,KAAKkM,SAAL,CAAejQ,KAAf,CAAqBN,KAArB,CAA2B0U,KAA3B,CAAiC,IAAjC,EAAuC,CAAvC,CAAD,CAAb;AACH;AACJ;;;gCAEW;AACR,UAAG,KAAKnE,SAAL,CAAejQ,KAAf,CAAqBL,MAArB,CAA4BsE,OAA5B,CAAoC,GAApC,KAA4C,CAAC,CAAhD,EAAmD;AAC/C,eAAOjF,QAAQ,CAACc,IAAT,CAAcC,YAAd,IAA8BgE,MAAM,CAAC,KAAKkM,SAAL,CAAejQ,KAAf,CAAqBL,MAArB,CAA4ByU,KAA5B,CAAkC,GAAlC,EAAuC,CAAvC,CAAD,CAAN,GAAkD,GAAhF,CAAP;AACH,OAFD,MAEO;AACH,eAAOrQ,MAAM,CAAC,KAAKkM,SAAL,CAAejQ,KAAf,CAAqBL,MAArB,CAA4ByU,KAA5B,CAAkC,IAAlC,EAAwC,CAAxC,CAAD,CAAb;AACH;AACJ;;;yCAEoB;AACjB,aAAO,KAAKnE,SAAL,CAAe5L,aAAf,CAA6B,sBAA7B,EAAqDrE,KAArD,CAA2D0T,UAAlE;AACH;;;+BAEU;AACP,aAAO,KAAKxC,KAAL,CAAWlQ,WAAlB;AACH;;;iCAEY;AACT,aAAO,KAAKgT,OAAZ;AACH;;;uCAEkB;AACf,aAAO,KAAKxG,UAAZ;AACH;;;;;;AAGU1O,qEAAf,E","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import Desktop from './modules/desktop';\nimport Overlay from './modules/overlay';\nimport System from './modules/system';\nimport TaskBar from './modules/task-bar';\nimport PanelMenu from './modules/panel-menu';\nimport PanelClock from './modules/panel-clock'\nimport PanelItemContextMenu from './modules/panel-item-contextmenu';\nimport PanelItem from './modules/panel-item';\nimport Panel from './modules/panel';\nimport Window from './modules/window';\n\nwindow.SimpleJSGui = new System();\n\nwindow.Desktop =  Desktop;\nwindow.Overlay =  Overlay;\nwindow.TaskBar =  TaskBar;\nwindow.PanelMenu =  PanelMenu;\nwindow.PanelClock =  PanelClock;\nwindow.PanelItemContextMenu =  PanelItemContextMenu;\nwindow.PanelItem =  PanelItem;\nwindow.Panel =  Panel;\nwindow.Window =  Window;","class Desktop {\n    constructor() {\n        this.wholeScreenObj = document.createElement(\"div\");\n        this.wholeScreenObj.classList.add(\"gui-desktop\");\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-desktop\");\n        this.DOMObj.classList.add(\"gui-desktop--only-desktop\");\n        this.snapIndicatorTop = document.createElement(\"div\");    \n        this.snapIndicatorLeft = document.createElement(\"div\");\n        this.snapIndicatorRight = document.createElement(\"div\");\n        this.snapIndicatorTop.classList.add(\"gui-desktop__window-snap-indicator-top\");\n        this.snapIndicatorLeft.classList.add(\"gui-desktop__window-snap-indicator-left\");\n        this.snapIndicatorRight.classList.add(\"gui-desktop__window-snap-indicator-right\");\n        this.DOMObj.appendChild(this.snapIndicatorTop);\n        this.DOMObj.appendChild(this.snapIndicatorLeft);\n        this.DOMObj.appendChild(this.snapIndicatorRight);\n        this.wholeScreenObj.appendChild(this.DOMObj);\n        this.currentBgrDOM = this.DOMObj;\n        this.width;\n        this.height;\n    }\n\n    getDOMObject() {\n        return this.wholeScreenObj;\n    }\n\n    getDesktopDOMObject() {\n        return this.DOMObj;\n    }\n\n    shouldBackgroundCoverWholeViewport(option) {\n        if(option == true) {\n            this.currentBgrDOM = this.wholeScreenObj;\n            var bottomValue = document.body.clientHeight-this.DOMObj.clientHeight;\n            this.snapIndicatorLeft.style.bottom = bottomValue+\"px\";\n            this.snapIndicatorRight.style.bottom = bottomValue+\"px\";\n        } else {\n            this.currentBgrDOM = this.DOMObj;\n            this.snapIndicatorLeft.style.bottom = 0;\n            this.snapIndicatorRight.style.bottom = 0;\n        }\n    }\n\n    changeBackgroundColor(newColor) {\n        this.currentBgrDOM.style.backgroundColor = newColor;\n    }\n\n    changeBackgroundImage(imageUrl) {\n        this.currentBgrDOM.style.backgroundImage = \"url('\" + imageUrl + \"')\";\n        this.currentBgrDOM.style.backgroundSize = \"cover\";\n    }\n    \n    setBackgroundSize(value) {\n        this.currentBgrDOM.style.backgroundSize = value;\n    }\n\n    setBackgroundRepeat(value) {\n        this.currentBgrDOM.style.backgroundRepeat = value;\n    }\n\n    setBackgroundPosition(a, b) {\n        this.currentBgrDOM.style.backgroundPosition = a;\n        if(b) {\n            this.currentBgrDOM.style.backgroundPosition += \" \" + b;\n        }\n    }\n}\n\nexport default Desktop;","class Overlay {\n    constructor() {\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-overlay\");\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n}\n\nexport default Overlay;","import Desktop from './desktop';\nimport Overlay from './overlay';\n\nclass System {\n    constructor() {\n        this.desktop = new Desktop();\n        this.overLay = new Overlay();\n        document.body.appendChild(this.desktop.getDOMObject());\n        document.body.appendChild(this.overLay.getDOMObject());\n        var overLayMessage = document.createElement(\"p\");\n        overLayMessage.textContent = \"The browser window is too small to fit the necessary SimpleJSGui components.\";\n        this.overLay.getDOMObject().appendChild(overLayMessage);\n\n        window.addEventListener('resize', function(event) {\n            if(this.panel) {\n                this.minimalWidth = this.panel.calculateMinimalWidth();\n                if(window.innerWidth < this.minimalWidth) {\n                    this.overLay.getDOMObject().style.display = \"block\";\n                } else {\n                    this.overLay.getDOMObject().style.display = \"none\";\n                }\n            }\n        }.bind(this));\n    }\n\n    getDesktop() {\n        return this.desktop;\n    }\n\n    registerPanel(newPanel) {\n        this.panel = newPanel;\n    }\n}\n\nexport default System;","class FreeSpaceWidget {\n    constructor(taskBar) {\n        this.taskBar = taskBar;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__free-space\");\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n    \n    getWidth() {\n        return this.DOMObj.clientWidth;\n    }\n    \n    calculateWidth(panel, leftContainer, rightContainer) {\n        let panelWidth = panel.clientWidth;\n        let leftContainerWidth = leftContainer.clientWidth;\n        let rightContainerWidth = rightContainer.clientWidth;\n        // console.log(\"panel \" + panelWidth);\n        // console.log(\"left \" + leftContainerWidth);\n        // console.log(\"right \" + rightContainerWidth);\n        let switcherWidth = 0;\n        if(this.taskBar && this.taskBar.getLineContainer() && this.taskBar.getLineSwitcher()) {\n            switcherWidth = this.taskBar.getLineSwitcher().getDOMObject().clientWidth;\n        }\n        let width = panelWidth-((leftContainerWidth-this.DOMObj.clientWidth)+rightContainerWidth);\n        // console.log(\"width is at: \" + width + \"px\");\n        if(width > 0) {\n            this.DOMObj.style.width = width+\"px\";\n        } else {\n            this.DOMObj.style.width = \"0px\";\n            \n            width = panelWidth - (rightContainerWidth + (leftContainerWidth-this.taskBar.getLineContainer().getDOMObject().clientWidth));\n            this.taskBar.getLineContainer().getDOMObject().style.width = width+\"px\";\n        }\n    }\n}\n\nclass LineSwitcher {\n    constructor(taskBar) {\n        this.taskBar = taskBar;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__line-switcher\");\n        \n        this.moveUp = document.createElement(\"img\");\n        this.moveUp.classList.add(\"gui-panel__task-bar__line-switcher__move-up\");\n        this.moveDown = document.createElement(\"img\");\n        this.moveDown.classList.add(\"gui-panel__task-bar__line-switcher__move-down\");\n        this.currentLevel = document.createElement(\"p\");\n        this.currentLevel.classList.add(\"gui-panel__task-bar__line-switcher__current-level\");\n        this.currentLevel.textContent = \"1\";\n        \n        this.moveDown.addEventListener(\"click\", function() {\n            currentLine = this.taskBar.getLineContainer().getCurrentLine();\n            // console.log(\"Going down, line is \" + currentLine);\n            if(currentLine > 0) {\n                currentLine -= 1;\n                this.taskBar.getLineContainer().switchLine(currentLine);\n                // console.log(\"Line Down! #\" + currentLine);\n            }\n        }.bind(this));\n        \n        this.moveUp.addEventListener(\"click\", function() {\n            currentLine = this.taskBar.getLineContainer().getCurrentLine();\n            // console.log(\"Going up, line is \" + currentLine + \" \" + this.taskBar.getLineContainer().getLines().length);\n            if(currentLine < this.taskBar.getLineContainer().getLines().length-1) {\n                currentLine += 1;\n                this.taskBar.getLineContainer().switchLine(currentLine);\n                // console.log(\"Line Up! #\" + currentLine);\n            }\n        }.bind(this));\n        \n        this.DOMObj.appendChild(this.moveDown);\n        this.DOMObj.appendChild(this.currentLevel);\n        this.DOMObj.appendChild(this.moveUp);\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n    \n    setCurrentLineText(text) {\n        this.currentLevel.textContent = text;\n    }\n}\n\nclass LineContainer {\n    constructor(taskBar) {\n        this.taskBar = taskBar;\n        this.lines = [];\n        this.currentLine = 0;\n        this.wrapper = document.createElement(\"div\");\n        this.wrapper.classList.add(\"gui-panel__task-bar__wrapper\");\n        \n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__wrapper__line-container\");\n        \n        this.wrapper.appendChild(this.DOMObj);\n    }\n    \n    addALine(line) {\n        this.lines.push(line);\n        this.DOMObj.appendChild(line.getDOMObject());\n    }\n    \n    empty() {\n        for(let i = 0; i < this.lines.length; i++) {\n            this.DOMObj.removeChild(this.DOMObj.firstChild);\n        }\n        \n        this.lines = [];\n    }\n    \n    getLines() {\n        return this.lines;\n    }\n    \n    getCurrentLine() {\n        return this.currentLine;\n    }\n    \n    switchLine(newLine) {\n        this.currentLine = newLine;\n        // console.log(\"currentLine is now: \" + newLine);\n        // console.log(\"Line height of first line is: \" + this.lines[0].getLineHeight());\n        // console.log(\"New top is: \" + -(newLine)*this.lines[0].getLineHeight());\n        this.taskBar.getLineSwitcher().setCurrentLineText(newLine+1);\n        this.DOMObj.style.top = -(newLine)*this.lines[0].getLineHeight()+\"px\";\n    }\n    \n    getWrapperDOM() {\n        return this.wrapper;\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n}\n\nclass Line {\n    constructor(taskBar) {\n        this.taskBar = taskBar;\n        this.items = [];\n        this.height = 0;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__wrapper__line-container__line\");\n        let height = window.getComputedStyle(this.DOMObj).getPropertyValue(\"height\");\n        this.height = Number(height.substring(0, height.indexOf(\"px\")));\n    }\n    \n    putAnItem(item) {\n        this.items.push(item);\n        this.DOMObj.appendChild(item.getItem());\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n    \n    getLineHeight() {\n        return this.height;\n    }\n}\n\nclass TaskBar {\n    constructor() {\n        this.mode = \"icons text\";\n        this.items = [];\n        this.panel = document.querySelector(\".gui-panel\");\n        this.leftContainer = document.querySelector(\".gui-panel__left-container\");\n        this.rightContainer = document.querySelector(\".gui-panel__right-container\");\n        \n        this.lineContainer = new LineContainer(this);\n        this.lineContainer.addALine(new Line(this));\n        \n        this.lineSwitcher = new LineSwitcher(this);\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar\");\n        this.DOMObj.appendChild(this.lineContainer.getWrapperDOM());\n        this.DOMObj.appendChild(this.lineSwitcher.getDOMObject());\n        this.freeSpaceWidget = new FreeSpaceWidget(this);\n        this.DOMObj.appendChild(this.freeSpaceWidget.getDOMObject());\n        this.calculateFreeSpace();\n        \n        window.addEventListener('resize', function() {\n            this.calculateFreeSpace();\n        }.bind(this));\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n    \n    getLineContainer() {\n        return this.lineContainer;\n    }\n    \n    getLineSwitcher() {\n        return this.lineSwitcher;\n    }\n    \n    addAnItem(newItem) {\n        this.items.push(newItem);\n        this.lineContainer.getLines()[0].putAnItem(newItem);\n        this.freeSpaceWidget.getDOMObject().style.width = \"0px\";\n        this.calculateFreeSpace();\n    }\n    \n    getItems() {\n        return this.items;\n    }\n    \n    rearrangeItems() {\n        if(this.items.length > 0) {\n            // console.log(\"Rearranging items...\");\n            let itemsInALine = Math.floor((this.DOMObj.clientWidth-this.lineSwitcher.getDOMObject().clientWidth) / this.items[0].getItemDefaultWidth());\n            if(itemsInALine == 0) {\n                itemsInALine = 1;\n            }\n            let numOfItems = itemsInALine;\n            let shouldEmptyLineContainer = false;\n            if(this.cachedNumOfItems != numOfItems) {\n                shouldEmptyLineContainer = true;\n            }\n            this.cachedNumOfItems = numOfItems;\n            if(this.items.length < itemsInALine) {\n                numOfItems = this.items.length;\n            }\n            // console.log(\"items: \" + numOfItems);\n            let amount = (numOfItems*this.items[0].getItemDefaultWidth());\n            this.lineContainer.getDOMObject().style.width = amount + \"px\";\n            let reduce = this.freeSpaceWidget.getDOMObject().clientWidth - amount;\n            this.freeSpaceWidget.getDOMObject().style.width = 0 + \"px\";\n            this.freeSpaceWidget.calculateWidth(this.panel, this.leftContainer, this.rightContainer);\n            // if(this.freeSpaceWidget.getWidth() <= 0) {\n            //     itemsInALine--;\n            // }\n            // console.log(\"width is at: \" + this.DOMObj.clientWidth);\n            // console.log(\"panel is at: \" + this.panel.clientWidth + \", and right is at: \" + this.rightContainer.clientWidth);\n            let numOfLines = Math.floor(this.items.length / itemsInALine);\n            if(this.items.length % itemsInALine != 0) {\n                numOfLines++;\n            }\n            \n            if(!numOfLines) {\n                numOfLines = 0;\n            }\n            \n            if(numOfLines <= 1) {\n                this.lineSwitcher.getDOMObject().style.visibility = \"hidden\";\n            } else {\n                this.lineSwitcher.getDOMObject().style.visibility = \"visible\";\n            }\n            \n            if(this.lineContainer.getCurrentLine() > numOfLines-1) {\n                this.lineContainer.switchLine(numOfLines-1);\n            }\n            \n            // console.log(\"length: \" + this.items.length);\n            // console.log(\"inaline: \" + itemsInALine);\n            // console.log(\"numOfLines: \" + numOfLines);\n            // console.log(\"lines: \" + numOfLines);\n            \n            if(shouldEmptyLineContainer) {\n                this.lineContainer.empty();\n                this.lines = this.lineContainer.getLines();\n                \n                // console.log(this.lines.length);\n                \n                for(let i = 0; i < numOfLines; i++) {\n                    this.lineContainer.addALine(new Line(this));\n                    // newLine = this.lines[this.lines.length-1];\n                }\n                \n                // console.log(this.lines.length);\n                \n                for(let i = 0, j = 0, ij = 0; i < this.items.length; i++, ij++) {\n                    if(ij >= itemsInALine) {\n                        j++;\n                        ij = 0;\n                    }\n                    // console.log(\"Line is: \" + j + \" and item is: \" + i);\n                    \n                    // console.log(this.items[i]);\n                    this.lines[j].putAnItem(this.items[i]);\n                }\n                \n                this.freeSpaceWidget.calculateWidth(this.panel, this.leftContainer, this.rightContainer);\n            }\n            \n            // console.log(\"Num of lines: \" + this.lines.length);\n            // console.log(\"Done rearranging!\");\n            // console.log(\" \");\n        }\n    }\n    \n    calculateFreeSpace() {\n        this.freeSpaceWidget.calculateWidth(this.panel, this.leftContainer, this.rightContainer);\n        this.rearrangeItems();\n        // if(this.freeSpaceWidget.getWidth() <= 0) {\n        //     this.rearrangeItems();\n        // }\n    }\n}\n\nexport default TaskBar;","class PanelMenu {\n    constructor() {\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__menu\");\n        this.DOMObj.innerHTML = '<div class=\"gui-panel__menu__icon\"></div><div class=\"gui-panel__menu__content\"><h1>Menu</h1></div>';\n        this.menuIcon = this.DOMObj.querySelector(\".gui-panel__menu__icon\");\n        this.menuContent = this.DOMObj.querySelector(\".gui-panel__menu__content\");\n\n        this.DOMObj.addEventListener('mousedown', function(event) {\n            this.menuContent.classList.toggle(\"menu-fadein\");\n        }.bind(this));\n\n        document.addEventListener('mousedown', function(event) {\n            if(event.button == 0) {\n                if(event.target != this.menuIcon && event.target != this.menuContent) {\n                    this.close();\n                }\n            }\n        }.bind(this));\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n\n    close() {\n        this.menuContent.classList.remove(\"menu-fadein\");\n    }\n\n    addAnItem(itemName, elementListener) {\n        let newElement = document.createElement(\"p\");\n        newElement.classList.add(\"gui-panel__menu__content__menu-item\");\n        newElement.textContent = itemName;\n        newElement.addEventListener('mousedown', function() {\n            elementListener();\n            this.DOMObj.classList.toggle(\"menu-fadein\");\n        }.bind(this));\n        this.menuContent.appendChild(newElement);\n\n        return this;\n    }\n\n    addASeparator() {\n        let newElement = document.createElement(\"div\");\n        newElement.classList.add(\"gui-panel__menu__content__item-separator\");\n        if(this.menuContent.length == 0) {\n            console.log(\"Didn't append the separator because the content of the menu is empty.\");\n        } else {\n            this.menuContent.appendChild(newElement);\n        }\n\n        return this;\n    }\n}\n\nexport default PanelMenu;","class PanelItemClock {\n    constructor(panelInstance) {\n        this.panelInstance = panelInstance;\n        this.time;\n        this.displayedTime = \"00:00\";\n        this.clockIntervalID;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__clock\");\n        this.DOMObj.innerHTML = \"<p>\"+this.displayedTime+\"</p><div class='gui-panel__clock__clock-widget'></div>\";\n        this.clockValue = this.DOMObj.querySelector(\"p\");\n        this.clockWidget = this.DOMObj.querySelector(\".gui-panel__clock__clock-widget\");\n        this.clockWidget.appendChild(this.createTheClockWidget());\n        this.clockWidgetDate;\n\n        this.clockValue.addEventListener('mousedown', function() {\n            this.clockWidget.classList.toggle(\"clock-widget-fadein\");\n        }.bind(this));\n\n        document.addEventListener('mousedown', function(event) {\n            if(event.button == 0) {\n                if(!this.isAClockWidget(event.target) && event.target != this.clockValue) {\n                    this.clockWidget.classList.remove(\"clock-widget-fadein\");\n                }\n            }\n        }.bind(this));\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n\n    isAClockWidget(evt_target) {\n        while(evt_target != document.body) {\n            if(evt_target == this.clockWidget) {\n                return true;\n            }\n\n            evt_target = evt_target.parentNode;\n        }\n\n        return false;\n    }\n\n    startTheClock() {\n        this.clockIntervalID = setInterval(function() {\n            this.time = new Date();\n            let hours = this.time.getHours();\n            let minutes = this.time.getMinutes();\n            if(hours < 10) {\n                hours = \"0\" + hours;\n            }\n            if(minutes < 10) {\n                minutes = \"0\" + minutes;\n            }\n            this.displayedTime = hours + \":\" + minutes;\n            this.clockValue.textContent = this.displayedTime;\n            if(this.panelInstance.taskBar) {\n                this.panelInstance.taskBar.calculateFreeSpace();\n            }\n        }.bind(this), 25);\n    }\n\n    createTheClockWidget() {\n        let tableTop = document.createElement(\"div\");\n        tableTop.classList.add(\"gui-panel__clock__clock-widget__table-top\");\n\n        let testDate = new Date();\n        let currYear = testDate.getFullYear();\n        let currMonth = testDate.getMonth();\n        let currDay = testDate.getDate();\n\n        let prevMonth = document.createElement(\"img\");\n        prevMonth.classList.add(\"gui-panel__clock__clock-widget__table-top__prevMonth\");\n        prevMonth.addEventListener('mousedown', function() {\n            currYear = this.clockWidgetDate.getFullYear();\n            currMonth = this.clockWidgetDate.getMonth();\n            this.renderMonth(currYear, currMonth-1);\n        }.bind(this));\n\n        let nextMonth = document.createElement(\"img\");\n        nextMonth.classList.add(\"gui-panel__clock__clock-widget__table-top__nextMonth\");\n        nextMonth.addEventListener('mousedown', function() {\n            currYear = this.clockWidgetDate.getFullYear();\n            currMonth = this.clockWidgetDate.getMonth();\n            this.renderMonth(currYear, currMonth+1);\n        }.bind(this));\n\n        tableTop.appendChild(prevMonth);\n\n        this.monthTextSpan = document.createElement(\"span\");\n        this.monthTextSpan.setAttribute('id', 'clock-widget-month-name');\n\n        tableTop.appendChild(this.monthTextSpan);\n        tableTop.appendChild(nextMonth);\n        this.clockContent = document.createElement(\"div\");\n        this.clockContent.appendChild(tableTop);\n        this.table = document.createElement(\"table\");\n        this.table.setAttribute('border', 1);\n        this.table.setAttribute('id', 'clock-widget-table');\n        this.clockContent.appendChild(this.table);\n\n        this.renderMonth(currYear, currMonth, currDay);\n\n        return this.clockContent;\n    }\n\n    renderMonth(year, month) {\n        let currDate = new Date();\n        let isCurrentMonth = (month == currDate.getMonth()) && (year == currDate.getFullYear());\n        if(!isCurrentMonth) {\n            currDate = new Date(year, month);\n        }\n\n        this.clockWidgetDate = currDate;\n\n        let currYear = currDate.getFullYear();\n        let currMonth = currDate.getMonth();\n        let currDay, currDayOfWeek;\n        if(isCurrentMonth) {\n            currDay = currDate.getDate();\n            currDayOfWeek = currDate.getDay();\n        }\n        let dayOfWeekOfTheFirstDay = (new Date(year, month, 0).getDay())+1;\n        let daysInTheMonth = this.daysInTheMonth(year, month);\n        let daysInThePreviousMonth = this.daysInTheMonth(year, (month-1));\n\n        let monthInText = \"\";\n\n        switch(currMonth+1) {\n            case 1: monthInText = \"January\"; break;\n            case 2: monthInText = \"February\"; break;\n            case 3: monthInText = \"March\"; break;\n            case 4: monthInText = \"April\"; break;\n            case 5: monthInText = \"May\"; break;\n            case 6: monthInText = \"June\"; break;\n            case 7: monthInText = \"July\"; break;\n            case 8: monthInText = \"August\"; break;\n            case 9: monthInText = \"September\"; break;\n            case 10: monthInText = \"October\"; break;\n            case 11: monthInText = \"November\"; break;\n            case 12: monthInText = \"December\"; break;\n        }\n\n        this.monthTextSpan.textContent = monthInText;\n\n        this.table.innerHTML = \"<thead><tr><td>Mon</td><td>Tue</td><td>Wed</td><td>Thu</td><td>Fri</td><td>Sat</td><td>Sun</td></tr></thead>\";\n        \n        let data = \"\";\n\n        let isInPreviousMonth = true;\n        let dayValue;\n        if(dayOfWeekOfTheFirstDay == 1) {\n            dayValue = 1;\n            isInPreviousMonth = false;\n        } else {\n            dayValue = daysInThePreviousMonth-(dayOfWeekOfTheFirstDay-2);\n        }\n\n        for(let i = 0, index = 0, isInNextMonth = false; i < 6; i++) {\n            let row = document.createElement(\"tr\");\n            for(let j = 0; j < 7; j++, index++) {\n                let data = document.createElement(\"td\");\n                data.classList.add(\"table-data\" + index);\n                data.textContent = dayValue;\n                if(isCurrentMonth && (dayValue == currDay) && (!isInPreviousMonth && !isInNextMonth)) {\n                    data.classList.add(\"today\");\n                }\n                if(isInPreviousMonth || isInNextMonth) {\n                    data.classList.add(\"not-this-month\");\n                }\n                row.appendChild(data);\n                dayValue++;\n                if(isInPreviousMonth) {\n                    if(dayValue > daysInThePreviousMonth) {\n                        dayValue = 1;\n                        isInPreviousMonth = false;\n                    }\n                } else {\n                    if(dayValue > daysInTheMonth) {\n                        dayValue = 1;\n                        isInNextMonth = true;\n                    }\n                }\n            }\n            this.table.appendChild(row);\n        }\n    }\n\n    daysInTheMonth(year, month) {\n        let num = 0;\n\n        if(month < 0) {\n            year--;\n            let month = 11;\n        } else if(month > 11) {\n            year++;\n            let month = 0;\n        }\n\n        while(true) {\n            let testDate = new Date(year, month, (num+1));\n\n            if(testDate.getMonth() != month) {\n                break;\n            }\n\n            num++;\n        }\n\n        return num;\n    }\n}\n\nexport default PanelItemClock;","class PanelItemContextMenu {\n    constructor(panelItem) {\n        this.panelITem = panelItem;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__item__context-menu\");\n        this.DOMObj.innerHTML = '<div class=\"gui-panel__task-bar__item__context-menu__content\"></div>';\n        this.menuContent = this.DOMObj.querySelector(\".gui-panel__task-bar__item__context-menu__content\");\n\n        document.addEventListener('mousedown', function(event) {\n            if(event.button == 0) {\n                if(!event.target.classList.contains(\"gui-panel__task-bar__item\")) {\n                    this.DOMObj.classList.remove(\"context-menu-fadein\");\n                }\n            }\n        }.bind(this));\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n\n    setBottomY(newY) {\n        this.DOMObj.style.bottom = newY+\"px\";\n    }\n\n    addAnItem(itemName, elementListener) {\n        let newElement = document.createElement(\"p\");\n        newElement.classList.add(\"gui-panel__task-bar__item__context-menu__content__menu-item\");\n        newElement.textContent = itemName;\n        newElement.addEventListener('mousedown', function() {\n            elementListener();\n            this.DOMObj.classList.toggle(\"context-menu-fadein\");\n        }.bind(this));\n        if(this.menuContent.length == 0) {\n            this.menuContent.appendChild(newElement);\n        } else {\n            this.menuContent.insertBefore(newElement, this.menuContent.querySelector(\"*\"));\n        }\n\n        return this;\n    }\n\n    addASeparator() {\n        let newElement = document.createElement(\"div\");\n        newElement.classList.add(\"gui-panel__task-bar__item__context-menu__content__item-separator\");\n        if(this.menuContent.length == 0) {\n            console.log(\"Didn't append the separator because the content of the menu is empty.\");\n        } else {\n            this.menuContent.insertBefore(newElement, this.menuContent.querySelector(\"p\"));\n        }\n\n        return this;\n    }\n}\n\nexport default PanelItemContextMenu;","import PanelItemContextMenu from './panel-item-contextmenu';\n\nclass PanelItem {\n    constructor(id, itemName) {\n        this.itemWidth = 0;\n        this.id = id;\n        this.maxTitleLength = 25;\n        this.withText = true;\n        this.itemName = itemName;\n        this.contextMenu = new PanelItemContextMenu(this);\n        this.item = document.createElement(\"div\");\n        this.item.classList.add(\"gui-panel__task-bar__item\");\n        this.nameObj = document.createElement(\"p\");\n        if(this.itemName.length > this.maxTitleLength) {\n            this.itemName = this.itemName.substring(0, (this.maxTitleLength-3)) + \"...\";\n        }\n        this.nameObj.textContent = this.itemName;\n        this.itemIcon = document.createElement(\"img\");\n        this.itemIcon.classList.add(\"gui-panel__task-bar__item__icon\");\n        this.item.appendChild(this.itemIcon);\n        this.item.appendChild(this.nameObj);\n        this.item.appendChild(this.contextMenu.getDOMObject());\n        this.changeMode();\n    }\n\n    getItem() {\n        return this.item;\n    }\n    getName() {\n        return this.itemName;\n    }\n    getId() {\n        return this.id;\n    }\n    getItem() {\n        return this.item;\n    }\n    getItemDefaultWidth() {\n        var width = window.getComputedStyle(this.item).getPropertyValue(\"width\");\n        var value = width;\n        value = value.substring(0, value.indexOf(\"px\"));\n\n        return Number(value);\n    }\n\n    getDOMObject() {\n        return this.item;\n    }\n\n    getContextMenu() {\n        return this.contextMenu;\n    }\n\n    getTitleObj() {\n        return this.nameObj;\n    }\n\n    setTitle(newtitle) {\n        this.itemName = newtitle;\n        if(this.itemName.length > this.maxTitleLength) {\n            this.itemName = this.itemName.substring(0, (this.maxTitleLength-3)) + \"...\";\n        }\n        this.nameObj.textContent = this.itemName;\n    }\n\n    setIcon(path) {\n        this.itemIcon.setAttribute(\"src\", path);\n        // console.log(\"actual width: \" +  this.itemIcon.clientWidth);\n    }\n\n    changeMode() {\n        if(!this.withText) {\n            this.nameObj.style.display = \"none\";\n            this.item.classList.add(\"gui-panel__task-bar__item--without-text\")\n            // iconWidth = window.getComputedStyle(this.itemIcon).getPropertyValue(\"width\");\n            // iconWidth = Number(iconWidth.substring(0, iconWidth.indexOf(\"px\")));\n            // console.log(iconWidth);\n            // sidesMargin = window.getComputedStyle(this.itemIcon).getPropertyValue(\"margin-left\");\n            // sidesMargin = Number(sidesMargin.substring(0, sidesMargin.indexOf(\"px\")))*2;\n            // console.log(sidesMargin);\n            // totalWidth = iconWidth + sidesMargin;\n            // console.log(\"width: \" + totalWidth);\n            // this.item.style.width = totalWidth+\"px\";\n        }\n    }\n}\n\nexport default PanelItem;","import PanelMenu from './panel-menu';\nimport PanelItemClock from './panel-clock';\nimport TaskBar from './task-bar';\n     \n     class Panel {\n            constructor() {\n            this.windows = [];\n            this.windowsStatus = new Map();\n            this.leftContainer = document.createElement(\"div\");\n            this.leftContainer.classList.add(\"gui-panel__left-container\");\n            this.rightContainer = document.createElement(\"div\");\n            this.rightContainer.classList.add(\"gui-panel__right-container\");\n            this.panelMenu = new PanelMenu();\n            this.panelMenu.addAnItem(\"Test #1\", () => console.log(\"test 1\")).addASeparator().addAnItem(\"Test #2\", () => console.log(\"test 2\"));\n            this.panelClock = new PanelItemClock(this);\n            this.desktop = SimpleJSGui.getDesktop();\n            this.DOMObj = document.createElement(\"div\");\n            this.DOMObj.classList.add(\"gui-panel\");\n            this.DOMObj.id = \"panelInstance1\";\n            this.panelInstance = this.DOMObj.id;\n            this.leftContainer.appendChild(this.panelMenu.getDOMObject());\n            this.rightContainer.appendChild(this.panelClock.getDOMObject());\n            this.DOMObj.appendChild(this.leftContainer);\n            this.DOMObj.appendChild(this.rightContainer);\n            this.panelClock.startTheClock();\n            document.body.appendChild(this.DOMObj);\n            this.taskBar = new TaskBar();\n            this.leftContainer.appendChild(this.taskBar.getDOMObject());\n            SimpleJSGui.registerPanel(this);\n\n            document.addEventListener('mousedown', function(event) {\n                if(event.button == 0 && this.windows.length > 0) {\n                    let element = event.target;\n                    let isAChild = false;\n                    do {\n                        if(element.classList && element.classList.contains(\"gui-window\")) {\n                            isAChild = true;\n                            break;\n                        }\n                        element = element.parentNode;\n                    } while(element);\n                    if(!isAChild) {\n                        this.windows[0].unfocusAllWindows();\n                    }\n                }\n            }.bind(this));\n        }\n\n        addAWindow(newWindow) {\n            this.windows.push(newWindow);\n            this.windowsStatus.set(newWindow.getId(), \"active\");\n            this.taskBar.addAnItem(new PanelItem(newWindow.getId(), newWindow.getTitle()));\n            let node = this.taskBar.getItems()[this.taskBar.getItems().length-1];\n            let nodeElem = node.getDOMObject();\n            nodeElem.classList.add(\"gui-panel__task-bar__item--active\");\n            nodeElem.addEventListener('click', function(event) {\n                let status = this.windowsStatus.get(newWindow.getId());\n                if(status == \"active\") {\n                    this.windowAction(\"minimize\", newWindow.getId());\n                    let contextMenu = nodeElem.querySelector(\".gui-panel__task-bar__item__context-menu\");\n                    if(contextMenu.style.display == \"inline-block\") {\n                        contextMenu.style.display = \"none\";\n                    }\n                } else if(status == \"unactive\") {\n                    this.windowAction(\"maximize\", newWindow.getId());\n                    let contextMenu = nodeElem.querySelector(\".gui-panel__task-bar__item__context-menu\");\n                    if(contextMenu.style.display == \"inline-block\") {\n                        contextMenu.style.display = \"none\";\n                    }\n                }\n            }.bind(this));\n            nodeElem.addEventListener('contextmenu', function(event) {\n                event.preventDefault();\n                let contextMenu = nodeElem.querySelector(\".gui-panel__task-bar__item__context-menu\");\n                let items = this.taskBar.getItems();\n                for(let i = 0; i < items.length; i++) {\n                    if(items[i].getId() != newWindow.getId()) {\n                        let anItem = items[i].getDOMObject().querySelector(\".gui-panel__task-bar__item__context-menu\");\n                        if(anItem.classList.contains(\"context-menu-fadein\")) {\n                            anItem.classList.remove(\"context-menu-fadein\");\n                        }\n                    }\n                }\n                this.panelMenu.close();\n                // if(contextMenu.style.display == \"none\") {\n                //     contextMenu.style.display = \"block\";\n                //     contextMenu.classList.add(\"context-menu-fadein\");\n                // } else {\n                //     contextMenu.classList.remove(\"context-menu-fadein\");\n                //     contextMenu.style.display = \"none\";\n                node.getContextMenu().setBottomY((window.innerHeight-this.DOMObj.getBoundingClientRect().top));\n                contextMenu.classList.toggle(\"context-menu-fadein\");\n                let status = this.windowsStatus.get(newWindow.getId());\n                if(status == \"unactive\") {\n                    this.windowAction(\"minimize\", newWindow.getId());\n                }\n                return false;\n            }.bind(this), false);\n            if(newWindow.isWindowPinnable()) {\n                let items = this.taskBar.getItems();\n                items[items.length-1].getContextMenu().addAnItem(\"Pin this app\", function() {}).addASeparator();\n            }\n            document.body.appendChild(newWindow.getDOMObject());\n            newWindow.focusWindow();\n        }\n        selectInstance(instanceId) {\n            this.panelInstance = instanceId;\n        }\n    \n        windowAction(actionToDo, id) {\n            if(actionToDo == \"minimize\") {\n                let status = this.windowsStatus.get(id);\n                if(status == \"active\") {\n                    let windowId = this.getWindowOrderNumberById(id);\n                    let node = document.getElementsByClassName(\"gui-panel__task-bar__item\")[windowId];\n                    this.windowsStatus.set(id, \"unactive\");\n                    node.classList.remove(\"gui-panel__task-bar__item--active\");\n                    document.getElementById(this.windows[windowId].getId()).style.display = \"none\";\n                } else if(status == \"unactive\") {\n                    let windowId = this.getWindowOrderNumberById(id);\n                    let node = document.getElementsByClassName(\"gui-panel__task-bar__item\")[windowId];\n                    this.windowsStatus.set(id, \"active\");\n                    node.classList.add(\"gui-panel__task-bar__item--active\");\n                    document.getElementById(this.windows[windowId].getId()).style.display = \"block\";\n                }\n            } else if(actionToDo == \"maximize\") {\n                let windowId = this.getWindowOrderNumberById(id);\n                let node = document.getElementsByClassName(\"gui-panel__task-bar__item\")[windowId];\n                this.windowsStatus.set(id, \"active\");\n                node.classList.add(\"gui-panel__task-bar__item--active\");\n                this.windows[windowId].focusWindow();\n                document.getElementById(this.windows[windowId].getId()).style.display = \"block\";\n            } else if(actionToDo == \"close\") {\n                let windowId = this.getWindowOrderNumberById(id);\n                let windownode = document.getElementsByClassName(\"gui-window\")[windowId];\n                let itemnode = document.getElementsByClassName(\"gui-panel__task-bar__item\")[windowId];\n                windownode.remove();\n                itemnode.remove();\n                this.windows.splice(windowId, 1);\n                this.windowsStatus.delete(windowId);\n                this.taskBar.getItems().splice(windowId, 1);\n            }\n        }\n\n        getWindows() {\n            return this.windows;\n        }\n\n        getWindowOrderNumberById(id) {\n            for(let i = 0; i < this.windows.length; i++) {\n                if(this.windows[i].getId() == id) {\n                    return i;\n                }\n            }\n        }\n    \n        getPanelItem(windowId) {\n            let items = this.taskBar.getItems();\n            for(let i = 0; i < items.length; i++) {\n                if(items[i].getId() == windowId) {\n                    return items[i];\n                }\n            }\n            return null;\n        }\n\n        calculateMinimalWidth() {\n            let dummyPanelItem = new PanelItem(\"DUMMY_ID\", \"DummyText\");\n            return this.panelMenu.getDOMObject().clientWidth+2 + dummyPanelItem.getItemDefaultWidth() + this.taskBar.getLineSwitcher().getDOMObject().clientWidth + this.rightContainer.clientWidth;\n        }\n    }\n\n    export default Panel;","class Window {\n    constructor(panelInstance, windowId) {\n        this.maxTitleLength = 3000;\n        this.titleText;\n        this.remInPixels;\n        this.DOMObj;\n\n        this.panelInstance = panelInstance;\n        this.isPinnable = true;\n        this.id = windowId;\n\n        this.panelItem = panelInstance.getPanelItem(this.id);\n\n        this.isBeingDragged = false;\n        this.cachedX = 0;\n        this.cachedY = 0;\n        \n        this.isBeingResized = false;\n        this.minWidth = 350;\n        this.minHeight = 400;\n        this.isResizingNW = false;\n        this.isResizingNE = false;\n        this.isResizingSW = false;\n        this.isResizingSE = false;\n        this.isResizingN = false;\n        this.isResizingS = false;\n        this.isResizingW = false;\n        this.isResizingE = false;\n        this.cachedResizeX = 0;\n        this.cachedResizeY = 0;\n        this.resizeListenerFullHD;\n        this.resizeListenerHD;\n        this.resizeListenerVGA;\n        this.resizeListenerQVGA;\n        this.wasListenerFullHDCalled = false;\n        this.wasListenerHDCalled = false;\n        this.wasListenerVGACalled = false;\n        this.wasListenerQVGACalled = false;\n        \n        this.isMaximized = false;\n        this.cachedXBeforeMax;\n        this.cachedYBeforeMax;\n        this.cachedWidth = 0;\n        this.cachedHeight = 0;\n        this.isSnapped = false;\n        this.snapEffectsToggled = false;\n        this.cachedXBeforeSnap;\n        this.isAtTop;\n        this.isAtLeft;\n        this.isAtRight;\n        this.createDOMObject();\n        this.setTitle(\"M\");\n        this.remInPixels = parseInt(getComputedStyle(this.DOMObj).fontSize);\n        this.setTitle(\"Window Title\");\n        this.guiWindow.style.top = \"50px\";\n        this.guiWindow.style.left = \"300px\";\n        this.setWidth(350);\n        this.setHeight(400);\n        this.registerEvents();\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n    getId() {\n        return this.id;\n    }\n    getPanelItem() {\n        return this.panelInstance.getPanelItem(this.id);\n    }\n    \n    createDOMObject() {\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.id = this.id;\n        this.DOMObj.innerHTML =  '<div class=\"gui-window\">'\n        +'<div id=\"nw-resize\"></div>'+'<div id=\"ne-resize\"></div>'+'<div id=\"sw-resize\"></div>'+'<div id=\"se-resize\"></div>'+'<div id=\"n-resize\"></div>'+'<div id=\"s-resize\"></div>'+'<div id=\"w-resize\"></div>'+'<div id=\"e-resize\"></div>'\n        +'<div class=\"gui-window__titlebar\">'\n        +'<div class=\"gui-window__titlebar__buttons\"><a class=\"window-btn window-btn-close\" href=\"#\"></a><a class=\"window-btn window-btn-minimize\" href=\"#\"></a><a class=\"window-btn window-btn-maximize\" href=\"#\"></a></div><div class=\"gui-window__titlebar__title\">Window Title</div><img class=\"gui-window__titlebar__icon\"></img>'\n        +'</div>'\n        +'<div class=\"gui-window__content\">Window content.</div>'\n        +'</div>';\n        this.guiWindow = this.DOMObj.querySelector(\".gui-window\");\n        this.nwResize = this.DOMObj.querySelector(\"#nw-resize\");\n        this.neResize = this.DOMObj.querySelector(\"#ne-resize\");\n        this.swResize = this.DOMObj.querySelector(\"#sw-resize\");\n        this.seResize = this.DOMObj.querySelector(\"#se-resize\");\n        this.nResize = this.DOMObj.querySelector(\"#n-resize\");\n        this.sResize = this.DOMObj.querySelector(\"#s-resize\");\n        this.wResize = this.DOMObj.querySelector(\"#w-resize\");\n        this.eResize = this.DOMObj.querySelector(\"#e-resize\");\n        this.titleBar = this.DOMObj.querySelector(\".gui-window__titlebar\");\n        this.close = this.DOMObj.getElementsByClassName(\"window-btn-close\")[0];\n        this.min = this.DOMObj.getElementsByClassName(\"window-btn-minimize\")[0];\n        this.max = this.DOMObj.getElementsByClassName(\"window-btn-maximize\")[0];\n        this.icon = this.DOMObj.querySelector(\".gui-window__titlebar__icon\");\n        this.title = this.DOMObj.querySelector(\".gui-window__titlebar__title\");\n        this.windowIcon = this.DOMObj.querySelector(\".gui-window__titlebar__icon\");\n        this.windowContent = this.DOMObj.querySelector(\".gui-window__content\");\n    }\n    \n    registerEvents() {\n        this.close.addEventListener('click', function() {\n            this.panelInstance.windowAction(\"close\", this.id);\n        }.bind(this));\n        \n        this.min.addEventListener('click', function() {\n            this.panelInstance.windowAction(\"minimize\", this.id);\n        }.bind(this));\n        \n        this.max.addEventListener('click', function() {\n            // let content = this.guiWindow.getElementsByClassName(\"gui-window__content\")[0];\n            // if(content.style.display == \"none\") {\n            //     content.style.display = \"block\";\n            // } else {\n            //     content.style.display = \"none\";\n            // }\n            this.maximizeWindow();\n        }.bind(this));\n        \n        this.nwResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingNW = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.neResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingNE = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.swResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingSW = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.seResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingSE = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n\n        this.nResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingN = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.sResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingS = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.wResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingW = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.eResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingE = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        document.addEventListener('mouseup', function(event) {\n            if(this.isBeingResized) {\n                this.isBeingResized = false;\n                this.isResizingNW = false;\n                this.isResizingNE = false;\n                this.isResizingSW = false;\n                this.isResizingSE = false;\n                this.isResizingN = false;\n                this.isResizingS = false;\n                this.isResizingW = false;\n                this.isResizingE = false;\n            }\n        }.bind(this));\n        \n        document.addEventListener('mousemove', function(event) {\n            if(this.isBeingResized) {\n                if(this.isResizingNW) {\n                    let change = this.cachedResizeX-event.clientX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.left = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.left = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n                    change = this.cachedResizeY-event.clientY;\n                    changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.top = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.top = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n                    \n                    this.cachedResizeX = event.clientX;\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingNE) {\n                    let change = event.clientX-this.cachedResizeX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.right = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.right = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n                    change = this.cachedResizeY-event.clientY;\n                    changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.top = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.top = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n                    \n                    this.cachedResizeX = event.clientX;\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingSW) {\n                    let change = this.cachedResizeX-event.clientX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.left = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.left = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n                    change = event.clientY-this.cachedResizeY;\n                    changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.bottom = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.bottom = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n                    \n                    this.cachedResizeX = event.clientX;\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingSE) {\n                    let change = event.clientX-this.cachedResizeX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.right = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.right = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n                    change = event.clientY-this.cachedResizeY;\n                    changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.bottom = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.bottom = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n                    \n                    this.cachedResizeX = event.clientX;\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingN) {\n                    let change = this.cachedResizeY-event.clientY;\n                    let changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.top = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.top = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingS) {\n                    let change = event.clientY-this.cachedResizeY;\n                    let changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.bottom = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.bottom = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingW) {\n                    let change = this.cachedResizeX-event.clientX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.left = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.left = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n\n                    this.cachedResizeX = event.clientX;\n                } else if(this.isResizingE) {\n                    let change = event.clientX-this.cachedResizeX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.right = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.right = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n\n                    this.cachedResizeX = event.clientX;\n                }\n                \n                this.calculateNewTitleLimits();\n            }\n        }.bind(this));\n        \n        this.guiWindow.addEventListener('mousedown', function(event) {\n            if(event.button == 0) {\n                this.focusWindow();\n            }\n        }.bind(this));\n        \n        this.titleBar.addEventListener('mousedown', function(event) {\n            this.isBeingDragged = true;\n            this.cachedX = event.clientX;\n            this.cachedY = event.clientY;\n            if(!this.guiWindow.classList.contains(\"window-effect-transparency\")) {\n                this.guiWindow.classList.add(\"window-effect-transparency\");\n            }\n        }.bind(this));\n\n        this.titleBar.addEventListener('dblclick', function(event) {\n            this.maximizeWindow();\n        }.bind(this));\n\n        document.addEventListener('mouseup', function(event) {\n            if(this.isBeingDragged) {\n                this.isBeingDragged = false;\n                if(!this.isMaximized && (this.isAtTop || this.isAtLeft || this.isAtRight)) {\n                    this.snapWindow();\n                }\n                this.guiWindow.classList.remove(\"window-effect-transparency\");\n            }\n        }.bind(this));\n        \n        document.addEventListener('mousemove', function(event) {\n            if(this.isBeingDragged) {\n                let coord = this.guiWindow.getBoundingClientRect();\n                let resizeChangeHorizontal = (((event.clientX)-this.cachedX)+coord.left);\n                let resizeChangeVertical = (((event.clientY)-this.cachedY)+coord.top);\n                this.guiWindow.style.left = resizeChangeHorizontal+\"px\";\n                this.guiWindow.style.top = resizeChangeVertical+\"px\";\n                coord = this.guiWindow.getBoundingClientRect();\n                if(coord.top < 0) {\n                    this.guiWindow.style.top = 0+\"px\";\n                    this.cachedX = event.clientX;\n                    this.setWindowY(0);\n                } else {\n                    this.cachedX = event.clientX;\n                    this.cachedY = event.clientY;\n                }\n                this.checkForEnterCorners(event);\n                this.checkForLeaveCorners(event);\n            }\n        }.bind(this));\n    }\n    \n    checkForEnterCorners(event) {\n        if(!this.isAtTop && this.getWindowY() <= 0) {\n            if(this.getWindowX() > 10 && ((this.getWindowX() + this.getWidth()) < (document.body.clientWidth-10))) {\n                this.isAtTop = true;\n                this.toggleWindowSnapVisualEffects(\"top\");\n            }\n        }\n        if(!this.isMaximized) {\n            if(!this.isAtLeft && this.getWindowX() < 10) {\n                this.isAtLeft = true;\n                this.toggleWindowSnapVisualEffects(\"left\");\n            }\n            if(!this.isAtRight && (this.getWindowX() + this.getWidth()) > (document.body.clientWidth-10)) {\n                this.isAtRight = true;\n                this.toggleWindowSnapVisualEffects(\"right\");\n            }\n        }\n    }\n    \n    checkForLeaveCorners() {\n        if(this.isAtTop) {\n            if(this.getWindowY() >= 10 || this.getWindowX() < 10 || ((this.getWindowX() + this.getWidth()) > (document.body.clientWidth-10))) {\n                this.isAtTop = false;\n                this.leaveCornerAction(\"top\");\n            }\n        }\n        if(this.isAtLeft) {\n            if(this.getWindowX() > 10) {\n                this.isAtLeft = false;\n                this.leaveCornerAction(\"left\");\n            }\n        }\n        if(this.isAtRight) {\n            if((this.getWindowX() + this.getWidth()) < (document.body.clientWidth-10)) {\n                this.isAtRight = false;\n                this.leaveCornerAction(\"right\");\n            }\n        }\n    }\n\n    leaveCornerAction(indicator) {\n        if(this.isSnapped) {\n            this.snapWindow();\n        }\n        \n        if(this.snapEffectsToggled) {\n            this.toggleWindowSnapVisualEffects(indicator);\n        }\n    }\n    \n    toggleWindowSnapVisualEffects(indicator) {\n        let desktop = SimpleJSGui.getDesktop().getDOMObject();\n        let visualEffectTop = desktop.querySelector(\".gui-desktop__window-snap-indicator-top\");\n        let visualEffectLeft = desktop.querySelector(\".gui-desktop__window-snap-indicator-left\");\n        let visualEffectRight = desktop.querySelector(\".gui-desktop__window-snap-indicator-right\");\n\n        if(indicator == \"top\") {\n            visualEffectTop.classList.toggle(\"window-snap-indicator-fade-in\");\n        }\n        if(indicator == \"left\") {\n            visualEffectLeft.classList.toggle(\"window-snap-indicator-fade-in\");\n        }\n        if(indicator == \"right\") {\n            visualEffectRight.classList.toggle(\"window-snap-indicator-fade-in\");\n        }\n        \n        let checkTop = visualEffectTop.classList.contains(\"window-snap-indicator-fade-in\");\n        let checkLeft = visualEffectLeft.classList.contains(\"window-snap-indicator-fade-in\");\n        let checkRight = visualEffectRight.classList.contains(\"window-snap-indicator-fade-in\");\n\n        if(checkTop || checkLeft || checkRight) {\n            this.snapEffectsToggled = true;\n        } else {\n            this.snapEffectsToggled = false;\n        }\n    }\n    \n    snapWindow() {\n        if(!this.isSnapped) {\n            if(this.isAtTop && !this.isMaximized) {\n                this.maximizeWindow();\n                this.toggleWindowSnapVisualEffects(\"top\");\n                this.isSnapped = true;\n            } else if(this.isAtLeft) {\n                this.cachedWidth = this.getWidth();\n                this.cachedHeight = this.getHeight();\n                this.cachedXBeforeSnap = 0;\n                this.guiWindow.style.left = \"0px\";\n                this.guiWindow.style.top = \"0px\";\n                this.setWidth(\"50%\");\n                this.setHeight(SimpleJSGui.getDesktop().getDesktopDOMObject().clientHeight);\n                this.toggleWindowSnapVisualEffects(\"left\");\n            } else if(this.isAtRight) {\n                this.cachedWidth = this.getWidth();\n                this.cachedHeight = this.getHeight();\n                this.cachedXBeforeSnap = document.body.clientWidth-this.getWidth();\n                this.setWidth(\"50%\");\n                this.setHeight(SimpleJSGui.getDesktop().getDesktopDOMObject().clientHeight);\n                let temp = (document.body.clientWidth - this.getWidth());\n                this.guiWindow.style.left = temp + \"px\";\n                this.guiWindow.style.top = \"0px\";\n                this.toggleWindowSnapVisualEffects(\"right\");\n            }\n            if((this.isAtTop && !this.isMaximized) || this.isAtLeft || this.isAtRight) {\n                this.isSnapped = true;\n            }\n        } else {\n            if(!this.isAtTop && this.isMaximized) {\n                this.maximizeWindow();\n            } else if(!this.isAtLeft || !this.isAtRight) {\n                this.setWidth(this.cachedWidth);\n                this.setHeight(this.cachedHeight);\n                this.setWindowX(this.cachedXBeforeSnap);\n            }\n            this.isSnapped = false;\n        }\n    }\n    \n    maximizeWindow() {\n        if(this.isMaximized) {\n            this.isMaximized = false;\n            this.isSnapped = false;\n            this.isAtTop = false;\n            this.setWindowX(this.cachedXBeforeMax);\n            if(!this.isBeingDragged) {\n                this.setWindowY(this.cachedYBeforeMax);\n            }\n            this.setWidth(this.cachedWidth);\n            this.setHeight(this.cachedHeight);\n        } else {\n            this.cachedXBeforeMax = this.getWindowX();\n            this.cachedYBeforeMax = this.getWindowY();\n            this.cachedWidth = this.getWidth();\n            this.cachedHeight = this.getHeight();\n            this.guiWindow.style.left = \"0\";\n            this.guiWindow.style.top = \"0\";\n            this.setWidth(\"100%\");\n            this.setHeight(SimpleJSGui.getDesktop().getDesktopDOMObject().clientHeight);\n            this.isMaximized = true;\n            this.isSnapped = true;\n            this.isAtTop = true;\n        }\n    }\n\n    setResizeListenerFullHD(newListener) {\n        this.resizeListenerFullHD = newListener;\n    }\n\n    setResizeListenerHD(newListener) {\n        this.resizeListenerHD = newListener;\n    }\n\n    setResizeListenerVGA(newListener) {\n        this.resizeListenerVGA = newListener;\n    }\n\n    setResizeListenerQVGA(newListener) {\n        this.resizeListenerQVGA = newListener;\n    }\n    \n    removeDimensionFlags() {\n        this.guiWindow.classList.remove(\"gui-window--size-fullhd\");\n        this.guiWindow.classList.remove(\"gui-window--size-hd\");\n        this.guiWindow.classList.remove(\"gui-window--size-vga\");\n        this.guiWindow.classList.remove(\"gui-window--size-qvga\");\n    }\n    \n    applyNewDimensionFlags(width) {\n        if(width.indexOf(\"%\") != -1) {\n            width = width.substring(0, width.length-1);\n            width = window.innerWidth * (width/100);\n        }\n        this.removeDimensionFlags();\n        if(width >= 1920) {\n            if(this.resizeListenerFullHD && !this.wasListenerFullHDCalled) {\n                this.resizeListenerFullHD();\n                this.wasListenerFullHDCalled = true;\n                this.wasListenerHDCalled = false;\n                this.wasListenerVGACalled = false;\n                this.wasListenerQVGACalled = false;\n            }\n            this.guiWindow.classList.add(\"gui-window--size-fullhd\");\n        } else if(width >= 1280) {\n            if(this.resizeListenerHD && !this.wasListenerHDCalled) {\n                this.resizeListenerHD();\n                this.wasListenerHDCalled = true;\n                this.wasListenerFullHDCalled = false;\n                this.wasListenerVGACalled = false;\n                this.wasListenerQVGACalled = false;\n            }\n            this.guiWindow.classList.add(\"gui-window--size-hd\");\n        } else if(width >= 640) {\n            if(this.resizeListenerVGA && !this.wasListenerVGACalled) {\n                this.resizeListenerVGA();\n                this.wasListenerVGACalled = true;\n                this.wasListenerFullHDCalled = false;\n                this.wasListenerHDCalled = false;\n                this.wasListenerQVGACalled = false;\n            }\n            this.guiWindow.classList.add(\"gui-window--size-vga\");\n        } else if(width < 640) {\n            if(this.resizeListenerQVGA && !this.wasListenerQVGACalled) {\n                this.resizeListenerQVGA();\n                this.wasListenerQVGACalled = true;\n                this.wasListenerFullHDCalled = false;\n                this.wasListenerHDCalled = false;\n                this.wasListenerVGACalled = false;\n            }\n            this.guiWindow.classList.add(\"gui-window--size-qvga\");\n        }\n    }\n    \n    unfocusAllWindows() {\n        let allWindows = this.panelInstance.getWindows();\n        for(let i = 0; i < allWindows.length; i++) {\n            let aWindow = allWindows[i].getDOMObject().querySelector(\".gui-window\");\n            if(!aWindow.classList.contains(\"window-effect-shade\")) {\n                aWindow.classList.add(\"window-effect-shade\");\n            }\n        }\n    }\n    \n    focusWindow() {\n        this.unfocusAllWindows();\n        this.guiWindow.classList.remove(\"window-effect-shade\");\n    }\n    \n    setWidth(width) {\n        width = width + \"\";\n        this.applyNewDimensionFlags(width);\n        if(width.indexOf('%') != -1) {\n            this.guiWindow.style.width = width;\n        } else {\n            this.guiWindow.style.width = width+\"px\";\n        }\n        this.calculateNewTitleLimits();\n    }\n    \n    setHeight(height) {\n        height = height + \"\";\n        if(height.indexOf('%') != -1) {\n            this.guiWindow.style.height = height;\n        } else {\n            this.guiWindow.style.height = height+\"px\";\n        }\n        this.calculateNewTitleLimits();\n    }\n    \n    setBackgroundColor(bgrcolor) {\n        this.guiWindow.querySelector(\".gui-window__content\").style.background = bgrcolor;\n    }\n    \n    setTitle(title) {\n        this.titleText = title;\n        if(title.length > this.maxTitleLength) {\n            title = title.substring(0, (this.maxTitleLength-3)) + \"...\";\n        }\n        this.title.textContent = title;\n        this.calculateNewTitleLimits();\n        if(this.panelInstance.getPanelItem(this.id) != null) {\n            this.panelInstance.getPanelItem(this.id).setTitle(title);\n        }\n    }\n    \n    calculateNewTitleLimits() {\n        let width = this.getWidth();\n        let leftLimit = this.DOMObj.querySelector(\".window-btn-maximize\").getBoundingClientRect().right - this.getWindowX();\n        let rightLimit = this.getWidth() - (this.DOMObj.querySelector(\".gui-window__titlebar__icon\").getBoundingClientRect().left-this.getWindowX());\n        let appliableWidth = width - (leftLimit + rightLimit);\n        let numOfChars = Math.floor(appliableWidth / this.remInPixels);\n        if(this.titleText.length > numOfChars) {\n            if(this.titleText[numOfChars-4] == \" \") {\n                this.title.textContent = this.titleText.substring(0, numOfChars-4)+\"...\";\n            } else {\n                this.title.textContent = this.titleText.substring(0, numOfChars-3)+\"...\";\n            }\n        } else {\n            this.title.textContent = this.titleText;\n        }\n    }\n    \n    setWindowIcon(path) {\n        this.windowIcon.setAttribute(\"src\", path);\n        this.panelInstance.getPanelItem(this.id).setIcon(path);\n    }\n    \n    setContent(content) {\n        if(content instanceof Object) {\n            this.content = content;\n            this.windowContent.appendChild(this.content);\n            content.remove();\n        } else if (!(content instanceof Object)) {\n            this.content = content;\n            this.windowContent.innerHTML = this.content;\n        }\n    }\n    \n    setWindowX(x) {\n        this.guiWindow.style.left = x+\"px\";\n    }\n    \n    setWindowY(y) {\n        this.guiWindow.style.top = y+\"px\";\n    }\n    \n    getWindowX() {\n        return Number(this.guiWindow.style.left.split(\"px\")[0]);\n    }\n    \n    getWindowY() {\n        return Number(this.guiWindow.style.top.split(\"px\")[0]);\n    }\n    \n    getWidth() {\n        if(this.guiWindow.style.width.indexOf(\"%\") != -1) {\n            return document.body.clientWidth * (Number(this.guiWindow.style.width.split(\"%\")[0])/100);\n        } else {\n            return Number(this.guiWindow.style.width.split(\"px\")[0]);\n        }\n    }\n    \n    getHeight() {\n        if(this.guiWindow.style.height.indexOf(\"%\") != -1) {\n            return document.body.clientHeight * (Number(this.guiWindow.style.height.split(\"%\")[0])/100);\n        } else {\n            return Number(this.guiWindow.style.height.split(\"px\")[0]);\n        }\n    }\n    \n    getBackgroundColor() {\n        return this.guiWindow.querySelector(\".gui-window__content\").style.background;\n    }\n    \n    getTitle() {\n        return this.title.textContent;\n    }\n    \n    getContent() {\n        return this.content;\n    }\n    \n    isWindowPinnable() {\n        return this.isPinnable;\n    }\n}\n\nexport default Window;"],"sourceRoot":""}