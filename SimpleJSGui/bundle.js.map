{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./engine/webpack-entry.js","webpack:///./engine/modules/desktop.js","webpack:///./engine/modules/overlay.js","webpack:///./engine/modules/system.js","webpack:///./engine/modules/windowmanager.js","webpack:///./engine/modules/task-bar.js","webpack:///./engine/modules/panel-menu.js","webpack:///./engine/modules/panel-clock.js","webpack:///./engine/modules/panel-item-contextmenu.js","webpack:///./engine/modules/panel-item.js","webpack:///./engine/modules/panel.js","webpack:///./engine/modules/window.js"],"names":["window","SimpleJSGui","System","Desktop","Overlay","TaskBar","PanelMenu","PanelClock","PanelItemContextMenu","PanelItem","Panel","Window","wholeScreenObj","document","createElement","classList","add","DOMObj","snapIndicatorTop","snapIndicatorLeft","snapIndicatorRight","appendChild","currentBgrDOM","width","height","option","bottomValue","body","clientHeight","style","bottom","newColor","backgroundColor","imageUrl","backgroundImage","backgroundSize","value","backgroundRepeat","a","b","backgroundPosition","started","minimumLoadingTime","desktop","smallScreenMsg","loadingOverlay","windowManager","WindowManager","getDOMObject","overLayMessage","textContent","loadingMsg","left","transform","display","addEventListener","event","panel","minimalWidth","calculateMinimalWidth","innerWidth","bind","newWindow","addAWindow","newPanel","setTimeout","intervalId","setInterval","readyState","cancelInterval","windows","windowIDS","lastWindowID","newID","push","setID","generateANewWindowID","newTopWindowIndex","currentWindow","currentIndex","zIndex","i","length","Number","FreeSpaceWidget","taskBar","clientWidth","leftContainer","rightContainer","panelWidth","leftContainerWidth","rightContainerWidth","switcherWidth","getLineContainer","getLineSwitcher","LineSwitcher","moveUp","moveDown","currentLevel","currentLine","getCurrentLine","switchLine","getLines","text","LineContainer","lines","wrapper","line","removeChild","firstChild","newLine","setCurrentLineText","top","getLineHeight","Line","items","getComputedStyle","getPropertyValue","substring","indexOf","item","getItem","mode","querySelector","lineContainer","addALine","lineSwitcher","getWrapperDOM","freeSpaceWidget","calculateFreeSpace","newItem","putAnItem","itemsInALine","Math","floor","getItemDefaultWidth","numOfItems","shouldEmptyLineContainer","cachedNumOfItems","amount","reduce","calculateWidth","numOfLines","visibility","empty","j","ij","rearrangeItems","innerHTML","menuIcon","menuContent","toggle","button","target","close","remove","itemName","elementListener","newElement","console","log","PanelItemClock","panelInstance","time","displayedTime","clockIntervalID","clockValue","clockWidget","createTheClockWidget","clockWidgetDate","isAClockWidget","evt_target","parentNode","Date","hours","getHours","minutes","getMinutes","tableTop","testDate","currYear","getFullYear","currMonth","getMonth","currDay","getDate","prevMonth","renderMonth","nextMonth","monthTextSpan","setAttribute","clockContent","table","year","month","currDate","isCurrentMonth","currDayOfWeek","getDay","dayOfWeekOfTheFirstDay","daysInTheMonth","daysInThePreviousMonth","monthInText","data","isInPreviousMonth","dayValue","index","isInNextMonth","row","num","panelItem","panelITem","contains","newY","insertBefore","id","itemWidth","maxTitleLength","withText","contextMenu","nameObj","itemIcon","changeMode","newtitle","path","windowsStatus","Map","panelMenu","addAnItem","addASeparator","panelClock","getDesktop","startTheClock","registerPanel","element","isAChild","unfocusAllWindows","set","getId","getTitle","node","getItems","nodeElem","status","get","windowAction","preventDefault","anItem","getContextMenu","setBottomY","innerHeight","getBoundingClientRect","isWindowPinnable","focusWindow","instanceId","actionToDo","windowId","getWindowOrderNumberById","getElementsByClassName","getElementById","windownode","itemnode","splice","delete","dummyPanelItem","titleText","remInPixels","isPinnable","getPanelItem","isBeingDragged","cachedX","cachedY","isBeingResized","minWidth","minHeight","isResizingNW","isResizingNE","isResizingSW","isResizingSE","isResizingN","isResizingS","isResizingW","isResizingE","cachedResizeX","cachedResizeY","resizeListenerFullHD","resizeListenerHD","resizeListenerVGA","resizeListenerQVGA","wasListenerFullHDCalled","wasListenerHDCalled","wasListenerVGACalled","wasListenerQVGACalled","isMaximized","cachedXBeforeMax","cachedYBeforeMax","cachedWidth","cachedHeight","isSnapped","snapEffectsToggled","cachedXBeforeSnap","isAtTop","isAtLeft","isAtRight","createDOMObject","setTitle","parseInt","fontSize","guiWindow","setWidth","setHeight","registerEvents","nwResize","neResize","swResize","seResize","nResize","sResize","wResize","eResize","titleBar","min","max","icon","title","windowIcon","windowContent","maximizeWindow","clientX","clientY","change","changeToApply","getWindowX","getWidth","getWindowY","getHeight","right","calculateNewTitleLimits","snapWindow","coord","resizeChangeHorizontal","resizeChangeVertical","setWindowY","checkForEnterCorners","checkForLeaveCorners","toggleWindowSnapVisualEffects","leaveCornerAction","indicator","visualEffectTop","visualEffectLeft","visualEffectRight","checkTop","checkLeft","checkRight","getDesktopDOMObject","temp","setWindowX","newListener","removeDimensionFlags","allWindows","getWindows","aWindow","applyNewDimensionFlags","bgrcolor","background","leftLimit","rightLimit","appliableWidth","numOfChars","setIcon","content","Object","x","y","split"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAA,MAAM,CAACC,WAAP,GAAqB,IAAIC,uDAAJ,EAArB;AAEAF,MAAM,CAACG,OAAP,GAAkBA,wDAAlB;AACAH,MAAM,CAACI,OAAP,GAAkBA,wDAAlB;AACAJ,MAAM,CAACK,OAAP,GAAkBA,yDAAlB;AACAL,MAAM,CAACM,SAAP,GAAoBA,2DAApB;AACAN,MAAM,CAACO,UAAP,GAAqBA,4DAArB;AACAP,MAAM,CAACQ,oBAAP,GAA+BA,uEAA/B;AACAR,MAAM,CAACS,SAAP,GAAoBA,2DAApB;AACAT,MAAM,CAACU,KAAP,GAAgBA,sDAAhB;AACAV,MAAM,CAACW,MAAP,GAAiBA,uDAAjB,C;;;;;;;;;;;;;;ICrBMR,O;;;AACF,qBAAc;AAAA;;AACV,SAAKS,cAAL,GAAsBC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAtB;AACA,SAAKF,cAAL,CAAoBG,SAApB,CAA8BC,GAA9B,CAAkC,aAAlC;AACA,SAAKC,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,aAA1B;AACA,SAAKC,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,2BAA1B;AACA,SAAKE,gBAAL,GAAwBL,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAxB;AACA,SAAKK,iBAAL,GAAyBN,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAzB;AACA,SAAKM,kBAAL,GAA0BP,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAA1B;AACA,SAAKI,gBAAL,CAAsBH,SAAtB,CAAgCC,GAAhC,CAAoC,wCAApC;AACA,SAAKG,iBAAL,CAAuBJ,SAAvB,CAAiCC,GAAjC,CAAqC,yCAArC;AACA,SAAKI,kBAAL,CAAwBL,SAAxB,CAAkCC,GAAlC,CAAsC,0CAAtC;AACA,SAAKC,MAAL,CAAYI,WAAZ,CAAwB,KAAKH,gBAA7B;AACA,SAAKD,MAAL,CAAYI,WAAZ,CAAwB,KAAKF,iBAA7B;AACA,SAAKF,MAAL,CAAYI,WAAZ,CAAwB,KAAKD,kBAA7B;AACA,SAAKR,cAAL,CAAoBS,WAApB,CAAgC,KAAKJ,MAArC;AACA,SAAKK,aAAL,GAAqB,KAAKL,MAA1B;AACA,SAAKM,KAAL;AACA,SAAKC,MAAL;AACH;;;;mCAEc;AACX,aAAO,KAAKZ,cAAZ;AACH;;;0CAEqB;AAClB,aAAO,KAAKK,MAAZ;AACH;;;uDAEkCQ,M,EAAQ;AACvC,UAAGA,MAAM,IAAI,IAAb,EAAmB;AACf,aAAKH,aAAL,GAAqB,KAAKV,cAA1B;AACA,YAAIc,WAAW,GAAGb,QAAQ,CAACc,IAAT,CAAcC,YAAd,GAA2B,KAAKX,MAAL,CAAYW,YAAzD;AACA,aAAKT,iBAAL,CAAuBU,KAAvB,CAA6BC,MAA7B,GAAsCJ,WAAW,GAAC,IAAlD;AACA,aAAKN,kBAAL,CAAwBS,KAAxB,CAA8BC,MAA9B,GAAuCJ,WAAW,GAAC,IAAnD;AACH,OALD,MAKO;AACH,aAAKJ,aAAL,GAAqB,KAAKL,MAA1B;AACA,aAAKE,iBAAL,CAAuBU,KAAvB,CAA6BC,MAA7B,GAAsC,CAAtC;AACA,aAAKV,kBAAL,CAAwBS,KAAxB,CAA8BC,MAA9B,GAAuC,CAAvC;AACH;AACJ;;;0CAEqBC,Q,EAAU;AAC5B,WAAKT,aAAL,CAAmBO,KAAnB,CAAyBG,eAAzB,GAA2CD,QAA3C;AACH;;;0CAEqBE,Q,EAAU;AAC5B,WAAKX,aAAL,CAAmBO,KAAnB,CAAyBK,eAAzB,GAA2C,UAAUD,QAAV,GAAqB,IAAhE;AACA,WAAKX,aAAL,CAAmBO,KAAnB,CAAyBM,cAAzB,GAA0C,OAA1C;AACH;;;sCAEiBC,K,EAAO;AACrB,WAAKd,aAAL,CAAmBO,KAAnB,CAAyBM,cAAzB,GAA0CC,KAA1C;AACH;;;wCAEmBA,K,EAAO;AACvB,WAAKd,aAAL,CAAmBO,KAAnB,CAAyBQ,gBAAzB,GAA4CD,KAA5C;AACH;;;0CAEqBE,C,EAAGC,C,EAAG;AACxB,WAAKjB,aAAL,CAAmBO,KAAnB,CAAyBW,kBAAzB,GAA8CF,CAA9C;;AACA,UAAGC,CAAH,EAAM;AACF,aAAKjB,aAAL,CAAmBO,KAAnB,CAAyBW,kBAAzB,IAA+C,MAAMD,CAArD;AACH;AACJ;;;;;;AAGUpC,sEAAf,E;;;;;;;;;;;;;;ICpEMC,O;;;AACF,qBAAc;AAAA;;AACV,SAAKa,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,aAA1B;AACH;;;;mCAEc;AACX,aAAO,KAAKC,MAAZ;AACH;;;;;;AAGUb,sEAAf,E;;;;;;;;;;;;;;;;;ACXA;AACA;AACA;;IAEMF,M;;;AACF,oBAAc;AAAA;;AACV,SAAKuC,OAAL,GAAe,KAAf;AACA,SAAKC,kBAAL,GAA0B,GAA1B;AACA,SAAKC,OAAL,GAAe,IAAIxC,gDAAJ,EAAf;AACA,SAAKyC,cAAL,GAAsB,IAAIxC,gDAAJ,EAAtB;AACA,SAAKyC,cAAL,GAAsB,IAAIzC,gDAAJ,EAAtB;AACA,SAAK0C,aAAL,GAAqB,IAAIC,sDAAJ,EAArB;AACAlC,YAAQ,CAACc,IAAT,CAAcN,WAAd,CAA0B,KAAKsB,OAAL,CAAaK,YAAb,EAA1B;AACAnC,YAAQ,CAACc,IAAT,CAAcN,WAAd,CAA0B,KAAKuB,cAAL,CAAoBI,YAApB,EAA1B;AACA,QAAIC,cAAc,GAAGpC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAArB;AACAmC,kBAAc,CAACC,WAAf,GAA6B,8EAA7B;AACA,SAAKN,cAAL,CAAoBI,YAApB,GAAmC3B,WAAnC,CAA+C4B,cAA/C;AACApC,YAAQ,CAACc,IAAT,CAAcN,WAAd,CAA0B,KAAKwB,cAAL,CAAoBG,YAApB,EAA1B;AACA,QAAIG,UAAU,GAAGtC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAjB;AACAqC,cAAU,CAACD,WAAX,GAAyB,YAAzB;AACAC,cAAU,CAACtB,KAAX,CAAiBuB,IAAjB,GAAwB,KAAxB;AACAD,cAAU,CAACtB,KAAX,CAAiBwB,SAAjB,GAA6B,uBAA7B;AACA,SAAKR,cAAL,CAAoBG,YAApB,GAAmC3B,WAAnC,CAA+C8B,UAA/C;AACA,SAAKN,cAAL,CAAoBG,YAApB,GAAmCnB,KAAnC,CAAyCyB,OAAzC,GAAmD,OAAnD;AAEAtD,UAAM,CAACuD,gBAAP,CAAwB,QAAxB,EAAkC,UAASC,KAAT,EAAgB;AAC9C,UAAG,KAAKC,KAAR,EAAe;AACX,aAAKC,YAAL,GAAoB,KAAKD,KAAL,CAAWE,qBAAX,EAApB;;AACA,YAAG3D,MAAM,CAAC4D,UAAP,GAAoB,KAAKF,YAA5B,EAA0C;AACtC,eAAKd,cAAL,CAAoBI,YAApB,GAAmCnB,KAAnC,CAAyCyB,OAAzC,GAAmD,OAAnD;AACH,SAFD,MAEO;AACH,eAAKV,cAAL,CAAoBI,YAApB,GAAmCnB,KAAnC,CAAyCyB,OAAzC,GAAmD,MAAnD;AACH;AACJ;AACJ,KATiC,CAShCO,IATgC,CAS3B,IAT2B,CAAlC;AAUH;;;;iCAEY;AACT,aAAO,KAAKlB,OAAZ;AACH;;;uCAEkB;AACf,aAAO,KAAKG,aAAZ;AACH;;;+BAEUgB,S,EAAW;AAClB,WAAKhB,aAAL,CAAmBiB,UAAnB,CAA8BD,SAA9B;AACH;;;kCAEaE,Q,EAAU;AACpB,WAAKP,KAAL,GAAaO,QAAb;AACH;;;4BAEO;AACJ,UAAG,CAAC,KAAKvB,OAAT,EAAkB;AACdzC,cAAM,CAACiE,UAAP,CAAkB,YAAW;AACzB,cAAIC,UAAU,GAAGlE,MAAM,CAACmE,WAAP,CAAmB,YAAW;AAC3C,gBAAGtD,QAAQ,CAACuD,UAAT,KAAwB,UAA3B,EAAuC;AACnC,mBAAK3B,OAAL,GAAe,IAAf;AACA,mBAAKI,cAAL,CAAoBG,YAApB,GAAmCnB,KAAnC,CAAyCyB,OAAzC,GAAmD,MAAnD;AACH;;AACDtD,kBAAM,CAACqE,cAAP,CAAsBH,UAAtB;AACH,WANmC,CAMlCL,IANkC,CAM7B,IAN6B,CAAnB,EAMH,GANG,CAAjB;AAOH,SARiB,CAQhBA,IARgB,CAQX,IARW,CAAlB,EAQc,KAAKnB,kBARnB;AASH;AACJ;;;;;;AAGUxC,qEAAf,E;;;;;;;;;;;;;;ICpEM6C,a;;;AACF,2BAAc;AAAA;;AACV,SAAKuB,OAAL,GAAe,EAAf;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKC,YAAL,GAAoB,CAApB;AACH;;;;2CAEsB;AACnB,UAAIC,KAAK,GAAG,EAAE,KAAKD,YAAnB;AACA,WAAKD,SAAL,CAAeG,IAAf,CAAoBD,KAApB;AACH;;;+BAEUX,S,EAAW;AAClBA,eAAS,CAACa,KAAV,CAAgB,KAAKC,oBAAL,EAAhB;AACA,WAAKN,OAAL,CAAaI,IAAb,CAAkBZ,SAAlB;AACH;;;wCAEmBe,iB,EAAmB;AACnC,UAAIC,aAAa,GAAG,KAAKR,OAAL,CAAaO,iBAAb,CAApB;AACA,UAAIE,YAAY,GAAGD,aAAa,CAACjD,KAAd,CAAoBmD,MAAvC;AACA,WAAKV,OAAL,CAAaO,iBAAb,EAAgChD,KAAhC,CAAsCmD,MAAtC,GAA+C,CAA/C;;AACA,WAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKX,OAAL,CAAaY,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AACzC,YAAID,MAAM,GAAG,KAAKV,OAAL,CAAaW,CAAb,EAAgBjC,YAAhB,GAA+BnB,KAA/B,CAAqCmD,MAAlD;;AACA,YAAG,EAAEA,MAAM,GAAGD,YAAX,CAAH,EAA6B;AACzBC,gBAAM,GAAGG,MAAM,CAACH,MAAD,CAAN,GAAiB,CAA1B;AACA,eAAKV,OAAL,CAAaW,CAAb,EAAgBjC,YAAhB,GAA+BnB,KAA/B,CAAqCmD,MAArC,GAA8CA,MAA9C;AACH;AACJ;AACJ;;;iCAEY;AACT,aAAO,KAAKV,OAAZ;AACH;;;;;;AAGUvB,4EAAf,E;;;;;;;;;;;;;;ICnCMqC,e;;;AACF,2BAAYC,OAAZ,EAAqB;AAAA;;AACjB,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKpE,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,iCAA1B;AACH;;;;mCAEc;AACX,aAAO,KAAKC,MAAZ;AACH;;;+BAEU;AACP,aAAO,KAAKA,MAAL,CAAYqE,WAAnB;AACH;;;mCAEc7B,K,EAAO8B,a,EAAeC,c,EAAgB;AACjD,UAAIC,UAAU,GAAGhC,KAAK,CAAC6B,WAAvB;AACA,UAAII,kBAAkB,GAAGH,aAAa,CAACD,WAAvC;AACA,UAAIK,mBAAmB,GAAGH,cAAc,CAACF,WAAzC,CAHiD,CAIjD;AACA;AACA;;AACA,UAAIM,aAAa,GAAG,CAApB;;AACA,UAAG,KAAKP,OAAL,IAAgB,KAAKA,OAAL,CAAaQ,gBAAb,EAAhB,IAAmD,KAAKR,OAAL,CAAaS,eAAb,EAAtD,EAAsF;AAClFF,qBAAa,GAAG,KAAKP,OAAL,CAAaS,eAAb,GAA+B9C,YAA/B,GAA8CsC,WAA9D;AACH;;AACD,UAAI/D,KAAK,GAAGkE,UAAU,IAAGC,kBAAkB,GAAC,KAAKzE,MAAL,CAAYqE,WAAhC,GAA6CK,mBAA/C,CAAtB,CAXiD,CAYjD;;AACA,UAAGpE,KAAK,GAAG,CAAX,EAAc;AACV,aAAKN,MAAL,CAAYY,KAAZ,CAAkBN,KAAlB,GAA0BA,KAAK,GAAC,IAAhC;AACH,OAFD,MAEO;AACH,aAAKN,MAAL,CAAYY,KAAZ,CAAkBN,KAAlB,GAA0B,KAA1B;AAEAA,aAAK,GAAGkE,UAAU,IAAIE,mBAAmB,IAAID,kBAAkB,GAAC,KAAKL,OAAL,CAAaQ,gBAAb,GAAgC7C,YAAhC,GAA+CsC,WAAtE,CAAvB,CAAlB;AACA,aAAKD,OAAL,CAAaQ,gBAAb,GAAgC7C,YAAhC,GAA+CnB,KAA/C,CAAqDN,KAArD,GAA6DA,KAAK,GAAC,IAAnE;AACH;AACJ;;;;;;IAGCwE,Y;;;AACF,wBAAYV,OAAZ,EAAqB;AAAA;;AACjB,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKpE,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,oCAA1B;AAEA,SAAKgF,MAAL,GAAcnF,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKkF,MAAL,CAAYjF,SAAZ,CAAsBC,GAAtB,CAA0B,6CAA1B;AACA,SAAKiF,QAAL,GAAgBpF,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;AACA,SAAKmF,QAAL,CAAclF,SAAd,CAAwBC,GAAxB,CAA4B,+CAA5B;AACA,SAAKkF,YAAL,GAAoBrF,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAApB;AACA,SAAKoF,YAAL,CAAkBnF,SAAlB,CAA4BC,GAA5B,CAAgC,mDAAhC;AACA,SAAKkF,YAAL,CAAkBhD,WAAlB,GAAgC,GAAhC;AAEA,SAAK+C,QAAL,CAAc1C,gBAAd,CAA+B,OAA/B,EAAwC,YAAW;AAC/C4C,iBAAW,GAAG,KAAKd,OAAL,CAAaQ,gBAAb,GAAgCO,cAAhC,EAAd,CAD+C,CAE/C;;AACA,UAAGD,WAAW,GAAG,CAAjB,EAAoB;AAChBA,mBAAW,IAAI,CAAf;AACA,aAAKd,OAAL,CAAaQ,gBAAb,GAAgCQ,UAAhC,CAA2CF,WAA3C,EAFgB,CAGhB;AACH;AACJ,KARuC,CAQtCtC,IARsC,CAQjC,IARiC,CAAxC;AAUA,SAAKmC,MAAL,CAAYzC,gBAAZ,CAA6B,OAA7B,EAAsC,YAAW;AAC7C4C,iBAAW,GAAG,KAAKd,OAAL,CAAaQ,gBAAb,GAAgCO,cAAhC,EAAd,CAD6C,CAE7C;;AACA,UAAGD,WAAW,GAAG,KAAKd,OAAL,CAAaQ,gBAAb,GAAgCS,QAAhC,GAA2CpB,MAA3C,GAAkD,CAAnE,EAAsE;AAClEiB,mBAAW,IAAI,CAAf;AACA,aAAKd,OAAL,CAAaQ,gBAAb,GAAgCQ,UAAhC,CAA2CF,WAA3C,EAFkE,CAGlE;AACH;AACJ,KARqC,CAQpCtC,IARoC,CAQ/B,IAR+B,CAAtC;AAUA,SAAK5C,MAAL,CAAYI,WAAZ,CAAwB,KAAK4E,QAA7B;AACA,SAAKhF,MAAL,CAAYI,WAAZ,CAAwB,KAAK6E,YAA7B;AACA,SAAKjF,MAAL,CAAYI,WAAZ,CAAwB,KAAK2E,MAA7B;AACH;;;;mCAEc;AACX,aAAO,KAAK/E,MAAZ;AACH;;;uCAEkBsF,I,EAAM;AACrB,WAAKL,YAAL,CAAkBhD,WAAlB,GAAgCqD,IAAhC;AACH;;;;;;IAGCC,a;;;AACF,yBAAYnB,OAAZ,EAAqB;AAAA;;AACjB,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKoB,KAAL,GAAa,EAAb;AACA,SAAKN,WAAL,GAAmB,CAAnB;AACA,SAAKO,OAAL,GAAe7F,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAf;AACA,SAAK4F,OAAL,CAAa3F,SAAb,CAAuBC,GAAvB,CAA2B,8BAA3B;AAEA,SAAKC,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,8CAA1B;AAEA,SAAK0F,OAAL,CAAarF,WAAb,CAAyB,KAAKJ,MAA9B;AACH;;;;6BAEQ0F,I,EAAM;AACX,WAAKF,KAAL,CAAW/B,IAAX,CAAgBiC,IAAhB;AACA,WAAK1F,MAAL,CAAYI,WAAZ,CAAwBsF,IAAI,CAAC3D,YAAL,EAAxB;AACH;;;4BAEO;AACJ,WAAI,IAAIiC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKwB,KAAL,CAAWvB,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACvC,aAAKhE,MAAL,CAAY2F,WAAZ,CAAwB,KAAK3F,MAAL,CAAY4F,UAApC;AACH;;AAED,WAAKJ,KAAL,GAAa,EAAb;AACH;;;+BAEU;AACP,aAAO,KAAKA,KAAZ;AACH;;;qCAEgB;AACb,aAAO,KAAKN,WAAZ;AACH;;;+BAEUW,O,EAAS;AAChB,WAAKX,WAAL,GAAmBW,OAAnB,CADgB,CAEhB;AACA;AACA;;AACA,WAAKzB,OAAL,CAAaS,eAAb,GAA+BiB,kBAA/B,CAAkDD,OAAO,GAAC,CAA1D;AACA,WAAK7F,MAAL,CAAYY,KAAZ,CAAkBmF,GAAlB,GAAwB,CAAEF,OAAF,GAAW,KAAKL,KAAL,CAAW,CAAX,EAAcQ,aAAd,EAAX,GAAyC,IAAjE;AACH;;;oCAEe;AACZ,aAAO,KAAKP,OAAZ;AACH;;;mCAEc;AACX,aAAO,KAAKzF,MAAZ;AACH;;;;;;IAGCiG,I;;;AACF,gBAAY7B,OAAZ,EAAqB;AAAA;;AACjB,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAK8B,KAAL,GAAa,EAAb;AACA,SAAK3F,MAAL,GAAc,CAAd;AACA,SAAKP,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,oDAA1B;AACA,QAAIQ,MAAM,GAAGxB,MAAM,CAACoH,gBAAP,CAAwB,KAAKnG,MAA7B,EAAqCoG,gBAArC,CAAsD,QAAtD,CAAb;AACA,SAAK7F,MAAL,GAAc2D,MAAM,CAAC3D,MAAM,CAAC8F,SAAP,CAAiB,CAAjB,EAAoB9F,MAAM,CAAC+F,OAAP,CAAe,IAAf,CAApB,CAAD,CAApB;AACH;;;;8BAESC,I,EAAM;AACZ,WAAKL,KAAL,CAAWzC,IAAX,CAAgB8C,IAAhB;AACA,WAAKvG,MAAL,CAAYI,WAAZ,CAAwBmG,IAAI,CAACC,OAAL,EAAxB;AACH;;;mCAEc;AACX,aAAO,KAAKxG,MAAZ;AACH;;;oCAEe;AACZ,aAAO,KAAKO,MAAZ;AACH;;;;;;IAGCnB,O;;;AACF,qBAAc;AAAA;;AACV,SAAKqH,IAAL,GAAY,YAAZ;AACA,SAAKP,KAAL,GAAa,EAAb;AACA,SAAK1D,KAAL,GAAa5C,QAAQ,CAAC8G,aAAT,CAAuB,YAAvB,CAAb;AACA,SAAKpC,aAAL,GAAqB1E,QAAQ,CAAC8G,aAAT,CAAuB,4BAAvB,CAArB;AACA,SAAKnC,cAAL,GAAsB3E,QAAQ,CAAC8G,aAAT,CAAuB,6BAAvB,CAAtB;AAEA,SAAKC,aAAL,GAAqB,IAAIpB,aAAJ,CAAkB,IAAlB,CAArB;AACA,SAAKoB,aAAL,CAAmBC,QAAnB,CAA4B,IAAIX,IAAJ,CAAS,IAAT,CAA5B;AAEA,SAAKY,YAAL,GAAoB,IAAI/B,YAAJ,CAAiB,IAAjB,CAApB;AACA,SAAK9E,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,qBAA1B;AACA,SAAKC,MAAL,CAAYI,WAAZ,CAAwB,KAAKuG,aAAL,CAAmBG,aAAnB,EAAxB;AACA,SAAK9G,MAAL,CAAYI,WAAZ,CAAwB,KAAKyG,YAAL,CAAkB9E,YAAlB,EAAxB;AACA,SAAKgF,eAAL,GAAuB,IAAI5C,eAAJ,CAAoB,IAApB,CAAvB;AACA,SAAKnE,MAAL,CAAYI,WAAZ,CAAwB,KAAK2G,eAAL,CAAqBhF,YAArB,EAAxB;AACA,SAAKiF,kBAAL;AAEAjI,UAAM,CAACuD,gBAAP,CAAwB,QAAxB,EAAkC,YAAW;AACzC,WAAK0E,kBAAL;AACH,KAFiC,CAEhCpE,IAFgC,CAE3B,IAF2B,CAAlC;AAGH;;;;mCAEc;AACX,aAAO,KAAK5C,MAAZ;AACH;;;uCAEkB;AACf,aAAO,KAAK2G,aAAZ;AACH;;;sCAEiB;AACd,aAAO,KAAKE,YAAZ;AACH;;;8BAESI,O,EAAS;AACf,WAAKf,KAAL,CAAWzC,IAAX,CAAgBwD,OAAhB;AACA,WAAKN,aAAL,CAAmBtB,QAAnB,GAA8B,CAA9B,EAAiC6B,SAAjC,CAA2CD,OAA3C;AACA,WAAKF,eAAL,CAAqBhF,YAArB,GAAoCnB,KAApC,CAA0CN,KAA1C,GAAkD,KAAlD;AACA,WAAK0G,kBAAL;AACH;;;+BAEU;AACP,aAAO,KAAKd,KAAZ;AACH;;;qCAEgB;AACb,UAAG,KAAKA,KAAL,CAAWjC,MAAX,GAAoB,CAAvB,EAA0B;AACtB;AACA,YAAIkD,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAW,CAAC,KAAKrH,MAAL,CAAYqE,WAAZ,GAAwB,KAAKwC,YAAL,CAAkB9E,YAAlB,GAAiCsC,WAA1D,IAAyE,KAAK6B,KAAL,CAAW,CAAX,EAAcoB,mBAAd,EAApF,CAAnB;;AACA,YAAGH,YAAY,IAAI,CAAnB,EAAsB;AAClBA,sBAAY,GAAG,CAAf;AACH;;AACD,YAAII,UAAU,GAAGJ,YAAjB;AACA,YAAIK,wBAAwB,GAAG,KAA/B;;AACA,YAAG,KAAKC,gBAAL,IAAyBF,UAA5B,EAAwC;AACpCC,kCAAwB,GAAG,IAA3B;AACH;;AACD,aAAKC,gBAAL,GAAwBF,UAAxB;;AACA,YAAG,KAAKrB,KAAL,CAAWjC,MAAX,GAAoBkD,YAAvB,EAAqC;AACjCI,oBAAU,GAAG,KAAKrB,KAAL,CAAWjC,MAAxB;AACH,SAdqB,CAetB;;;AACA,YAAIyD,MAAM,GAAIH,UAAU,GAAC,KAAKrB,KAAL,CAAW,CAAX,EAAcoB,mBAAd,EAAzB;AACA,aAAKX,aAAL,CAAmB5E,YAAnB,GAAkCnB,KAAlC,CAAwCN,KAAxC,GAAgDoH,MAAM,GAAG,IAAzD;AACA,YAAIC,MAAM,GAAG,KAAKZ,eAAL,CAAqBhF,YAArB,GAAoCsC,WAApC,GAAkDqD,MAA/D;AACA,aAAKX,eAAL,CAAqBhF,YAArB,GAAoCnB,KAApC,CAA0CN,KAA1C,GAAkD,IAAI,IAAtD;AACA,aAAKyG,eAAL,CAAqBa,cAArB,CAAoC,KAAKpF,KAAzC,EAAgD,KAAK8B,aAArD,EAAoE,KAAKC,cAAzE,EApBsB,CAqBtB;AACA;AACA;AACA;AACA;;AACA,YAAIsD,UAAU,GAAGT,IAAI,CAACC,KAAL,CAAW,KAAKnB,KAAL,CAAWjC,MAAX,GAAoBkD,YAA/B,CAAjB;;AACA,YAAG,KAAKjB,KAAL,CAAWjC,MAAX,GAAoBkD,YAApB,IAAoC,CAAvC,EAA0C;AACtCU,oBAAU;AACb;;AAED,YAAG,CAACA,UAAJ,EAAgB;AACZA,oBAAU,GAAG,CAAb;AACH;;AAED,YAAGA,UAAU,IAAI,CAAjB,EAAoB;AAChB,eAAKhB,YAAL,CAAkB9E,YAAlB,GAAiCnB,KAAjC,CAAuCkH,UAAvC,GAAoD,QAApD;AACH,SAFD,MAEO;AACH,eAAKjB,YAAL,CAAkB9E,YAAlB,GAAiCnB,KAAjC,CAAuCkH,UAAvC,GAAoD,SAApD;AACH;;AAED,YAAG,KAAKnB,aAAL,CAAmBxB,cAAnB,KAAsC0C,UAAU,GAAC,CAApD,EAAuD;AACnD,eAAKlB,aAAL,CAAmBvB,UAAnB,CAA8ByC,UAAU,GAAC,CAAzC;AACH,SA3CqB,CA6CtB;AACA;AACA;AACA;;;AAEA,YAAGL,wBAAH,EAA6B;AACzB,eAAKb,aAAL,CAAmBoB,KAAnB;AACA,eAAKvC,KAAL,GAAa,KAAKmB,aAAL,CAAmBtB,QAAnB,EAAb,CAFyB,CAIzB;;AAEA,eAAI,IAAIrB,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG6D,UAAnB,EAA+B7D,CAAC,EAAhC,EAAoC;AAChC,iBAAK2C,aAAL,CAAmBC,QAAnB,CAA4B,IAAIX,IAAJ,CAAS,IAAT,CAA5B,EADgC,CAEhC;AACH,WATwB,CAWzB;;;AAEA,eAAI,IAAIjC,EAAC,GAAG,CAAR,EAAWgE,CAAC,GAAG,CAAf,EAAkBC,EAAE,GAAG,CAA3B,EAA8BjE,EAAC,GAAG,KAAKkC,KAAL,CAAWjC,MAA7C,EAAqDD,EAAC,IAAIiE,EAAE,EAA5D,EAAgE;AAC5D,gBAAGA,EAAE,IAAId,YAAT,EAAuB;AACnBa,eAAC;AACDC,gBAAE,GAAG,CAAL;AACH,aAJ2D,CAK5D;AAEA;;;AACA,iBAAKzC,KAAL,CAAWwC,CAAX,EAAcd,SAAd,CAAwB,KAAKhB,KAAL,CAAWlC,EAAX,CAAxB;AACH;;AAED,eAAK+C,eAAL,CAAqBa,cAArB,CAAoC,KAAKpF,KAAzC,EAAgD,KAAK8B,aAArD,EAAoE,KAAKC,cAAzE;AACH,SA3EqB,CA6EtB;AACA;AACA;;AACH;AACJ;;;yCAEoB;AACjB,WAAKwC,eAAL,CAAqBa,cAArB,CAAoC,KAAKpF,KAAzC,EAAgD,KAAK8B,aAArD,EAAoE,KAAKC,cAAzE;AACA,WAAK2D,cAAL,GAFiB,CAGjB;AACA;AACA;AACH;;;;;;AAGU9I,sEAAf,E;;;;;;;;;;;;;;IClTMC,S;;;AACF,uBAAc;AAAA;;AACV,SAAKW,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,iBAA1B;AACA,SAAKC,MAAL,CAAYmI,SAAZ,GAAwB,oGAAxB;AACA,SAAKC,QAAL,GAAgB,KAAKpI,MAAL,CAAY0G,aAAZ,CAA0B,wBAA1B,CAAhB;AACA,SAAK2B,WAAL,GAAmB,KAAKrI,MAAL,CAAY0G,aAAZ,CAA0B,2BAA1B,CAAnB;AAEA,SAAK1G,MAAL,CAAYsC,gBAAZ,CAA6B,WAA7B,EAA0C,UAASC,KAAT,EAAgB;AACtD,WAAK8F,WAAL,CAAiBvI,SAAjB,CAA2BwI,MAA3B,CAAkC,aAAlC;AACH,KAFyC,CAExC1F,IAFwC,CAEnC,IAFmC,CAA1C;AAIAhD,YAAQ,CAAC0C,gBAAT,CAA0B,WAA1B,EAAuC,UAASC,KAAT,EAAgB;AACnD,UAAGA,KAAK,CAACgG,MAAN,IAAgB,CAAnB,EAAsB;AAClB,YAAGhG,KAAK,CAACiG,MAAN,IAAgB,KAAKJ,QAArB,IAAiC7F,KAAK,CAACiG,MAAN,IAAgB,KAAKH,WAAzD,EAAsE;AAClE,eAAKI,KAAL;AACH;AACJ;AACJ,KANsC,CAMrC7F,IANqC,CAMhC,IANgC,CAAvC;AAOH;;;;mCAEc;AACX,aAAO,KAAK5C,MAAZ;AACH;;;4BAEO;AACJ,WAAKqI,WAAL,CAAiBvI,SAAjB,CAA2B4I,MAA3B,CAAkC,aAAlC;AACH;;;8BAESC,Q,EAAUC,e,EAAiB;AACjC,UAAIC,UAAU,GAAGjJ,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAjB;AACAgJ,gBAAU,CAAC/I,SAAX,CAAqBC,GAArB,CAAyB,qCAAzB;AACA8I,gBAAU,CAAC5G,WAAX,GAAyB0G,QAAzB;AACAE,gBAAU,CAACvG,gBAAX,CAA4B,WAA5B,EAAyC,YAAW;AAChDsG,uBAAe;AACf,aAAK5I,MAAL,CAAYF,SAAZ,CAAsBwI,MAAtB,CAA6B,aAA7B;AACH,OAHwC,CAGvC1F,IAHuC,CAGlC,IAHkC,CAAzC;AAIA,WAAKyF,WAAL,CAAiBjI,WAAjB,CAA6ByI,UAA7B;AAEA,aAAO,IAAP;AACH;;;oCAEe;AACZ,UAAIA,UAAU,GAAGjJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AACAgJ,gBAAU,CAAC/I,SAAX,CAAqBC,GAArB,CAAyB,0CAAzB;;AACA,UAAG,KAAKsI,WAAL,CAAiBpE,MAAjB,IAA2B,CAA9B,EAAiC;AAC7B6E,eAAO,CAACC,GAAR,CAAY,uEAAZ;AACH,OAFD,MAEO;AACH,aAAKV,WAAL,CAAiBjI,WAAjB,CAA6ByI,UAA7B;AACH;;AAED,aAAO,IAAP;AACH;;;;;;AAGUxJ,wEAAf,E;;;;;;;;;;;;;;ICvDM2J,c;;;AACF,0BAAYC,aAAZ,EAA2B;AAAA;;AACvB,SAAKA,aAAL,GAAqBA,aAArB;AACA,SAAKC,IAAL;AACA,SAAKC,aAAL,GAAqB,OAArB;AACA,SAAKC,eAAL;AACA,SAAKpJ,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,kBAA1B;AACA,SAAKC,MAAL,CAAYmI,SAAZ,GAAwB,QAAM,KAAKgB,aAAX,GAAyB,wDAAjD;AACA,SAAKE,UAAL,GAAkB,KAAKrJ,MAAL,CAAY0G,aAAZ,CAA0B,GAA1B,CAAlB;AACA,SAAK4C,WAAL,GAAmB,KAAKtJ,MAAL,CAAY0G,aAAZ,CAA0B,iCAA1B,CAAnB;AACA,SAAK4C,WAAL,CAAiBlJ,WAAjB,CAA6B,KAAKmJ,oBAAL,EAA7B;AACA,SAAKC,eAAL;AAEA,SAAKH,UAAL,CAAgB/G,gBAAhB,CAAiC,WAAjC,EAA8C,YAAW;AACrD,WAAKgH,WAAL,CAAiBxJ,SAAjB,CAA2BwI,MAA3B,CAAkC,qBAAlC;AACH,KAF6C,CAE5C1F,IAF4C,CAEvC,IAFuC,CAA9C;AAIAhD,YAAQ,CAAC0C,gBAAT,CAA0B,WAA1B,EAAuC,UAASC,KAAT,EAAgB;AACnD,UAAGA,KAAK,CAACgG,MAAN,IAAgB,CAAnB,EAAsB;AAClB,YAAG,CAAC,KAAKkB,cAAL,CAAoBlH,KAAK,CAACiG,MAA1B,CAAD,IAAsCjG,KAAK,CAACiG,MAAN,IAAgB,KAAKa,UAA9D,EAA0E;AACtE,eAAKC,WAAL,CAAiBxJ,SAAjB,CAA2B4I,MAA3B,CAAkC,qBAAlC;AACH;AACJ;AACJ,KANsC,CAMrC9F,IANqC,CAMhC,IANgC,CAAvC;AAOH;;;;mCAEc;AACX,aAAO,KAAK5C,MAAZ;AACH;;;mCAEc0J,U,EAAY;AACvB,aAAMA,UAAU,IAAI9J,QAAQ,CAACc,IAA7B,EAAmC;AAC/B,YAAGgJ,UAAU,IAAI,KAAKJ,WAAtB,EAAmC;AAC/B,iBAAO,IAAP;AACH;;AAEDI,kBAAU,GAAGA,UAAU,CAACC,UAAxB;AACH;;AAED,aAAO,KAAP;AACH;;;oCAEe;AACZ,WAAKP,eAAL,GAAuBlG,WAAW,CAAC,YAAW;AAC1C,aAAKgG,IAAL,GAAY,IAAIU,IAAJ,EAAZ;AACA,YAAIC,KAAK,GAAG,KAAKX,IAAL,CAAUY,QAAV,EAAZ;AACA,YAAIC,OAAO,GAAG,KAAKb,IAAL,CAAUc,UAAV,EAAd;;AACA,YAAGH,KAAK,GAAG,EAAX,EAAe;AACXA,eAAK,GAAG,MAAMA,KAAd;AACH;;AACD,YAAGE,OAAO,GAAG,EAAb,EAAiB;AACbA,iBAAO,GAAG,MAAMA,OAAhB;AACH;;AACD,aAAKZ,aAAL,GAAqBU,KAAK,GAAG,GAAR,GAAcE,OAAnC;AACA,aAAKV,UAAL,CAAgBpH,WAAhB,GAA8B,KAAKkH,aAAnC;;AACA,YAAG,KAAKF,aAAL,CAAmB7E,OAAtB,EAA+B;AAC3B,eAAK6E,aAAL,CAAmB7E,OAAnB,CAA2B4C,kBAA3B;AACH;AACJ,OAfkC,CAejCpE,IAfiC,CAe5B,IAf4B,CAAD,EAepB,EAfoB,CAAlC;AAgBH;;;2CAEsB;AACnB,UAAIqH,QAAQ,GAAGrK,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAf;AACAoK,cAAQ,CAACnK,SAAT,CAAmBC,GAAnB,CAAuB,2CAAvB;AAEA,UAAImK,QAAQ,GAAG,IAAIN,IAAJ,EAAf;AACA,UAAIO,QAAQ,GAAGD,QAAQ,CAACE,WAAT,EAAf;AACA,UAAIC,SAAS,GAAGH,QAAQ,CAACI,QAAT,EAAhB;AACA,UAAIC,OAAO,GAAGL,QAAQ,CAACM,OAAT,EAAd;AAEA,UAAIC,SAAS,GAAG7K,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;AACA4K,eAAS,CAAC3K,SAAV,CAAoBC,GAApB,CAAwB,sDAAxB;AACA0K,eAAS,CAACnI,gBAAV,CAA2B,WAA3B,EAAwC,YAAW;AAC/C6H,gBAAQ,GAAG,KAAKX,eAAL,CAAqBY,WAArB,EAAX;AACAC,iBAAS,GAAG,KAAKb,eAAL,CAAqBc,QAArB,EAAZ;AACA,aAAKI,WAAL,CAAiBP,QAAjB,EAA2BE,SAAS,GAAC,CAArC;AACH,OAJuC,CAItCzH,IAJsC,CAIjC,IAJiC,CAAxC;AAMA,UAAI+H,SAAS,GAAG/K,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;AACA8K,eAAS,CAAC7K,SAAV,CAAoBC,GAApB,CAAwB,sDAAxB;AACA4K,eAAS,CAACrI,gBAAV,CAA2B,WAA3B,EAAwC,YAAW;AAC/C6H,gBAAQ,GAAG,KAAKX,eAAL,CAAqBY,WAArB,EAAX;AACAC,iBAAS,GAAG,KAAKb,eAAL,CAAqBc,QAArB,EAAZ;AACA,aAAKI,WAAL,CAAiBP,QAAjB,EAA2BE,SAAS,GAAC,CAArC;AACH,OAJuC,CAItCzH,IAJsC,CAIjC,IAJiC,CAAxC;AAMAqH,cAAQ,CAAC7J,WAAT,CAAqBqK,SAArB;AAEA,WAAKG,aAAL,GAAqBhL,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAArB;AACA,WAAK+K,aAAL,CAAmBC,YAAnB,CAAgC,IAAhC,EAAsC,yBAAtC;AAEAZ,cAAQ,CAAC7J,WAAT,CAAqB,KAAKwK,aAA1B;AACAX,cAAQ,CAAC7J,WAAT,CAAqBuK,SAArB;AACA,WAAKG,YAAL,GAAoBlL,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAApB;AACA,WAAKiL,YAAL,CAAkB1K,WAAlB,CAA8B6J,QAA9B;AACA,WAAKc,KAAL,GAAanL,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAb;AACA,WAAKkL,KAAL,CAAWF,YAAX,CAAwB,QAAxB,EAAkC,CAAlC;AACA,WAAKE,KAAL,CAAWF,YAAX,CAAwB,IAAxB,EAA8B,oBAA9B;AACA,WAAKC,YAAL,CAAkB1K,WAAlB,CAA8B,KAAK2K,KAAnC;AAEA,WAAKL,WAAL,CAAiBP,QAAjB,EAA2BE,SAA3B,EAAsCE,OAAtC;AAEA,aAAO,KAAKO,YAAZ;AACH;;;gCAEWE,I,EAAMC,K,EAAO;AACrB,UAAIC,QAAQ,GAAG,IAAItB,IAAJ,EAAf;AACA,UAAIuB,cAAc,GAAIF,KAAK,IAAIC,QAAQ,CAACZ,QAAT,EAAV,IAAmCU,IAAI,IAAIE,QAAQ,CAACd,WAAT,EAAhE;;AACA,UAAG,CAACe,cAAJ,EAAoB;AAChBD,gBAAQ,GAAG,IAAItB,IAAJ,CAASoB,IAAT,EAAeC,KAAf,CAAX;AACH;;AAED,WAAKzB,eAAL,GAAuB0B,QAAvB;AAEA,UAAIf,QAAQ,GAAGe,QAAQ,CAACd,WAAT,EAAf;AACA,UAAIC,SAAS,GAAGa,QAAQ,CAACZ,QAAT,EAAhB;AACA,UAAIC,OAAJ,EAAaa,aAAb;;AACA,UAAGD,cAAH,EAAmB;AACfZ,eAAO,GAAGW,QAAQ,CAACV,OAAT,EAAV;AACAY,qBAAa,GAAGF,QAAQ,CAACG,MAAT,EAAhB;AACH;;AACD,UAAIC,sBAAsB,GAAI,IAAI1B,IAAJ,CAASoB,IAAT,EAAeC,KAAf,EAAsB,CAAtB,EAAyBI,MAAzB,EAAD,GAAoC,CAAjE;AACA,UAAIE,cAAc,GAAG,KAAKA,cAAL,CAAoBP,IAApB,EAA0BC,KAA1B,CAArB;AACA,UAAIO,sBAAsB,GAAG,KAAKD,cAAL,CAAoBP,IAApB,EAA2BC,KAAK,GAAC,CAAjC,CAA7B;AAEA,UAAIQ,WAAW,GAAG,EAAlB;;AAEA,cAAOpB,SAAS,GAAC,CAAjB;AACI,aAAK,CAAL;AAAQoB,qBAAW,GAAG,SAAd;AAAyB;;AACjC,aAAK,CAAL;AAAQA,qBAAW,GAAG,UAAd;AAA0B;;AAClC,aAAK,CAAL;AAAQA,qBAAW,GAAG,OAAd;AAAuB;;AAC/B,aAAK,CAAL;AAAQA,qBAAW,GAAG,OAAd;AAAuB;;AAC/B,aAAK,CAAL;AAAQA,qBAAW,GAAG,KAAd;AAAqB;;AAC7B,aAAK,CAAL;AAAQA,qBAAW,GAAG,MAAd;AAAsB;;AAC9B,aAAK,CAAL;AAAQA,qBAAW,GAAG,MAAd;AAAsB;;AAC9B,aAAK,CAAL;AAAQA,qBAAW,GAAG,QAAd;AAAwB;;AAChC,aAAK,CAAL;AAAQA,qBAAW,GAAG,WAAd;AAA2B;;AACnC,aAAK,EAAL;AAASA,qBAAW,GAAG,SAAd;AAAyB;;AAClC,aAAK,EAAL;AAASA,qBAAW,GAAG,UAAd;AAA0B;;AACnC,aAAK,EAAL;AAASA,qBAAW,GAAG,UAAd;AAA0B;AAZvC;;AAeA,WAAKb,aAAL,CAAmB3I,WAAnB,GAAiCwJ,WAAjC;AAEA,WAAKV,KAAL,CAAW5C,SAAX,GAAuB,8GAAvB;AAEA,UAAIuD,IAAI,GAAG,EAAX;AAEA,UAAIC,iBAAiB,GAAG,IAAxB;AACA,UAAIC,QAAJ;;AACA,UAAGN,sBAAsB,IAAI,CAA7B,EAAgC;AAC5BM,gBAAQ,GAAG,CAAX;AACAD,yBAAiB,GAAG,KAApB;AACH,OAHD,MAGO;AACHC,gBAAQ,GAAGJ,sBAAsB,IAAEF,sBAAsB,GAAC,CAAzB,CAAjC;AACH;;AAED,WAAI,IAAItH,CAAC,GAAG,CAAR,EAAW6H,KAAK,GAAG,CAAnB,EAAsBC,aAAa,GAAG,KAA1C,EAAiD9H,CAAC,GAAG,CAArD,EAAwDA,CAAC,EAAzD,EAA6D;AACzD,YAAI+H,GAAG,GAAGnM,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAV;;AACA,aAAI,IAAImI,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,CAAnB,EAAsBA,CAAC,IAAI6D,KAAK,EAAhC,EAAoC;AAChC,cAAIH,KAAI,GAAG9L,QAAQ,CAACC,aAAT,CAAuB,IAAvB,CAAX;;AACA6L,eAAI,CAAC5L,SAAL,CAAeC,GAAf,CAAmB,eAAe8L,KAAlC;;AACAH,eAAI,CAACzJ,WAAL,GAAmB2J,QAAnB;;AACA,cAAGT,cAAc,IAAKS,QAAQ,IAAIrB,OAA/B,IAA4C,CAACoB,iBAAD,IAAsB,CAACG,aAAtE,EAAsF;AAClFJ,iBAAI,CAAC5L,SAAL,CAAeC,GAAf,CAAmB,OAAnB;AACH;;AACD,cAAG4L,iBAAiB,IAAIG,aAAxB,EAAuC;AACnCJ,iBAAI,CAAC5L,SAAL,CAAeC,GAAf,CAAmB,gBAAnB;AACH;;AACDgM,aAAG,CAAC3L,WAAJ,CAAgBsL,KAAhB;AACAE,kBAAQ;;AACR,cAAGD,iBAAH,EAAsB;AAClB,gBAAGC,QAAQ,GAAGJ,sBAAd,EAAsC;AAClCI,sBAAQ,GAAG,CAAX;AACAD,+BAAiB,GAAG,KAApB;AACH;AACJ,WALD,MAKO;AACH,gBAAGC,QAAQ,GAAGL,cAAd,EAA8B;AAC1BK,sBAAQ,GAAG,CAAX;AACAE,2BAAa,GAAG,IAAhB;AACH;AACJ;AACJ;;AACD,aAAKf,KAAL,CAAW3K,WAAX,CAAuB2L,GAAvB;AACH;AACJ;;;mCAEcf,I,EAAMC,K,EAAO;AACxB,UAAIe,GAAG,GAAG,CAAV;;AAEA,UAAGf,KAAK,GAAG,CAAX,EAAc;AACVD,YAAI;AACJ,YAAIC,MAAK,GAAG,EAAZ;AACH,OAHD,MAGO,IAAGA,KAAK,GAAG,EAAX,EAAe;AAClBD,YAAI;AACJ,YAAIC,OAAK,GAAG,CAAZ;AACH;;AAED,aAAM,IAAN,EAAY;AACR,YAAIf,QAAQ,GAAG,IAAIN,IAAJ,CAASoB,IAAT,EAAeC,KAAf,EAAuBe,GAAG,GAAC,CAA3B,CAAf;;AAEA,YAAG9B,QAAQ,CAACI,QAAT,MAAuBW,KAA1B,EAAiC;AAC7B;AACH;;AAEDe,WAAG;AACN;;AAED,aAAOA,GAAP;AACH;;;;;;AAGUhD,6EAAf,E;;;;;;;;;;;;;;ICrNMzJ,oB;;;AACF,gCAAY0M,SAAZ,EAAuB;AAAA;;AACnB,SAAKC,SAAL,GAAiBD,SAAjB;AACA,SAAKjM,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,yCAA1B;AACA,SAAKC,MAAL,CAAYmI,SAAZ,GAAwB,sEAAxB;AACA,SAAKE,WAAL,GAAmB,KAAKrI,MAAL,CAAY0G,aAAZ,CAA0B,mDAA1B,CAAnB;AAEA9G,YAAQ,CAAC0C,gBAAT,CAA0B,WAA1B,EAAuC,UAASC,KAAT,EAAgB;AACnD,UAAGA,KAAK,CAACgG,MAAN,IAAgB,CAAnB,EAAsB;AAClB,YAAG,CAAChG,KAAK,CAACiG,MAAN,CAAa1I,SAAb,CAAuBqM,QAAvB,CAAgC,2BAAhC,CAAJ,EAAkE;AAC9D,eAAKnM,MAAL,CAAYF,SAAZ,CAAsB4I,MAAtB,CAA6B,qBAA7B;AACH;AACJ;AACJ,KANsC,CAMrC9F,IANqC,CAMhC,IANgC,CAAvC;AAOH;;;;mCAEc;AACX,aAAO,KAAK5C,MAAZ;AACH;;;+BAEUoM,I,EAAM;AACb,WAAKpM,MAAL,CAAYY,KAAZ,CAAkBC,MAAlB,GAA2BuL,IAAI,GAAC,IAAhC;AACH;;;8BAESzD,Q,EAAUC,e,EAAiB;AACjC,UAAIC,UAAU,GAAGjJ,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAjB;AACAgJ,gBAAU,CAAC/I,SAAX,CAAqBC,GAArB,CAAyB,6DAAzB;AACA8I,gBAAU,CAAC5G,WAAX,GAAyB0G,QAAzB;AACAE,gBAAU,CAACvG,gBAAX,CAA4B,WAA5B,EAAyC,YAAW;AAChDsG,uBAAe;AACf,aAAK5I,MAAL,CAAYF,SAAZ,CAAsBwI,MAAtB,CAA6B,qBAA7B;AACH,OAHwC,CAGvC1F,IAHuC,CAGlC,IAHkC,CAAzC;;AAIA,UAAG,KAAKyF,WAAL,CAAiBpE,MAAjB,IAA2B,CAA9B,EAAiC;AAC7B,aAAKoE,WAAL,CAAiBjI,WAAjB,CAA6ByI,UAA7B;AACH,OAFD,MAEO;AACH,aAAKR,WAAL,CAAiBgE,YAAjB,CAA8BxD,UAA9B,EAA0C,KAAKR,WAAL,CAAiB3B,aAAjB,CAA+B,GAA/B,CAA1C;AACH;;AAED,aAAO,IAAP;AACH;;;oCAEe;AACZ,UAAImC,UAAU,GAAGjJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AACAgJ,gBAAU,CAAC/I,SAAX,CAAqBC,GAArB,CAAyB,kEAAzB;;AACA,UAAG,KAAKsI,WAAL,CAAiBpE,MAAjB,IAA2B,CAA9B,EAAiC;AAC7B6E,eAAO,CAACC,GAAR,CAAY,uEAAZ;AACH,OAFD,MAEO;AACH,aAAKV,WAAL,CAAiBgE,YAAjB,CAA8BxD,UAA9B,EAA0C,KAAKR,WAAL,CAAiB3B,aAAjB,CAA+B,GAA/B,CAA1C;AACH;;AAED,aAAO,IAAP;AACH;;;;;;AAGUnH,mFAAf,E;;;;;;;;;;;;;;;ACvDA;;IAEMC,S;;;AACF,qBAAY8M,EAAZ,EAAgB3D,QAAhB,EAA0B;AAAA;;AACtB,SAAK4D,SAAL,GAAiB,CAAjB;AACA,SAAKD,EAAL,GAAUA,EAAV;AACA,SAAKE,cAAL,GAAsB,EAAtB;AACA,SAAKC,QAAL,GAAgB,IAAhB;AACA,SAAK9D,QAAL,GAAgBA,QAAhB;AACA,SAAK+D,WAAL,GAAmB,IAAInN,+DAAJ,CAAyB,IAAzB,CAAnB;AACA,SAAKgH,IAAL,GAAY3G,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;AACA,SAAK0G,IAAL,CAAUzG,SAAV,CAAoBC,GAApB,CAAwB,2BAAxB;AACA,SAAK4M,OAAL,GAAe/M,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAf;;AACA,QAAG,KAAK8I,QAAL,CAAc1E,MAAd,GAAuB,KAAKuI,cAA/B,EAA+C;AAC3C,WAAK7D,QAAL,GAAgB,KAAKA,QAAL,CAActC,SAAd,CAAwB,CAAxB,EAA4B,KAAKmG,cAAL,GAAoB,CAAhD,IAAsD,KAAtE;AACH;;AACD,SAAKG,OAAL,CAAa1K,WAAb,GAA2B,KAAK0G,QAAhC;AACA,SAAKiE,QAAL,GAAgBhN,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAhB;AACA,SAAK+M,QAAL,CAAc9M,SAAd,CAAwBC,GAAxB,CAA4B,iCAA5B;AACA,SAAKwG,IAAL,CAAUnG,WAAV,CAAsB,KAAKwM,QAA3B;AACA,SAAKrG,IAAL,CAAUnG,WAAV,CAAsB,KAAKuM,OAA3B;AACA,SAAKpG,IAAL,CAAUnG,WAAV,CAAsB,KAAKsM,WAAL,CAAiB3K,YAAjB,EAAtB;AACA,SAAK8K,UAAL;AACH;;;;8BAES;AACN,aAAO,KAAKtG,IAAZ;AACH;;;8BACS;AACN,aAAO,KAAKoC,QAAZ;AACH;;;4BACO;AACJ,aAAO,KAAK2D,EAAZ;AACH;;;8BACS;AACN,aAAO,KAAK/F,IAAZ;AACH;;;0CACqB;AAClB,UAAIjG,KAAK,GAAGvB,MAAM,CAACoH,gBAAP,CAAwB,KAAKI,IAA7B,EAAmCH,gBAAnC,CAAoD,OAApD,CAAZ;AACA,UAAIjF,KAAK,GAAGb,KAAZ;AACAa,WAAK,GAAGA,KAAK,CAACkF,SAAN,CAAgB,CAAhB,EAAmBlF,KAAK,CAACmF,OAAN,CAAc,IAAd,CAAnB,CAAR;AAEA,aAAOpC,MAAM,CAAC/C,KAAD,CAAb;AACH;;;mCAEc;AACX,aAAO,KAAKoF,IAAZ;AACH;;;qCAEgB;AACb,aAAO,KAAKmG,WAAZ;AACH;;;kCAEa;AACV,aAAO,KAAKC,OAAZ;AACH;;;6BAEQG,Q,EAAU;AACf,WAAKnE,QAAL,GAAgBmE,QAAhB;;AACA,UAAG,KAAKnE,QAAL,CAAc1E,MAAd,GAAuB,KAAKuI,cAA/B,EAA+C;AAC3C,aAAK7D,QAAL,GAAgB,KAAKA,QAAL,CAActC,SAAd,CAAwB,CAAxB,EAA4B,KAAKmG,cAAL,GAAoB,CAAhD,IAAsD,KAAtE;AACH;;AACD,WAAKG,OAAL,CAAa1K,WAAb,GAA2B,KAAK0G,QAAhC;AACH;;;4BAEOoE,I,EAAM;AACV,WAAKH,QAAL,CAAc/B,YAAd,CAA2B,KAA3B,EAAkCkC,IAAlC,EADU,CAEV;AACH;;;iCAEY;AACT,UAAG,CAAC,KAAKN,QAAT,EAAmB;AACf,aAAKE,OAAL,CAAa/L,KAAb,CAAmByB,OAAnB,GAA6B,MAA7B;AACA,aAAKkE,IAAL,CAAUzG,SAAV,CAAoBC,GAApB,CAAwB,yCAAxB,EAFe,CAGf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;AACJ;;;;;;AAGUP,wEAAf,E;;;;;;;;;;;;;;;;;ACvFA;AACA;AACA;;IAEWC,K;;;AACC,mBAAc;AAAA;;AACd,SAAK4D,OAAL,GAAe,EAAf;AACA,SAAK2J,aAAL,GAAqB,IAAIC,GAAJ,EAArB;AACA,SAAK3I,aAAL,GAAqB1E,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAArB;AACA,SAAKyE,aAAL,CAAmBxE,SAAnB,CAA6BC,GAA7B,CAAiC,2BAAjC;AACA,SAAKwE,cAAL,GAAsB3E,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAtB;AACA,SAAK0E,cAAL,CAAoBzE,SAApB,CAA8BC,GAA9B,CAAkC,4BAAlC;AACA,SAAKmN,SAAL,GAAiB,IAAI7N,mDAAJ,EAAjB;AACA,SAAK6N,SAAL,CAAeC,SAAf,CAAyB,SAAzB,EAAoC;AAAA,aAAMrE,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAN;AAAA,KAApC,EAAiEqE,aAAjE,GAAiFD,SAAjF,CAA2F,SAA3F,EAAsG;AAAA,aAAMrE,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAN;AAAA,KAAtG;AACA,SAAKsE,UAAL,GAAkB,IAAIrE,oDAAJ,CAAmB,IAAnB,CAAlB;AACA,SAAKtH,OAAL,GAAe1C,WAAW,CAACsO,UAAZ,EAAf;AACA,SAAKtN,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,SAAKG,MAAL,CAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,WAA1B;AACA,SAAKC,MAAL,CAAYsM,EAAZ,GAAiB,gBAAjB;AACA,SAAKrD,aAAL,GAAqB,KAAKjJ,MAAL,CAAYsM,EAAjC;AACA,SAAKhI,aAAL,CAAmBlE,WAAnB,CAA+B,KAAK8M,SAAL,CAAenL,YAAf,EAA/B;AACA,SAAKwC,cAAL,CAAoBnE,WAApB,CAAgC,KAAKiN,UAAL,CAAgBtL,YAAhB,EAAhC;AACA,SAAK/B,MAAL,CAAYI,WAAZ,CAAwB,KAAKkE,aAA7B;AACA,SAAKtE,MAAL,CAAYI,WAAZ,CAAwB,KAAKmE,cAA7B;AACA,SAAK8I,UAAL,CAAgBE,aAAhB;AACA3N,YAAQ,CAACc,IAAT,CAAcN,WAAd,CAA0B,KAAKJ,MAA/B;AACA,SAAKoE,OAAL,GAAe,IAAIhF,iDAAJ,EAAf;AACA,SAAKkF,aAAL,CAAmBlE,WAAnB,CAA+B,KAAKgE,OAAL,CAAarC,YAAb,EAA/B;AACA/C,eAAW,CAACwO,aAAZ,CAA0B,IAA1B;AAEA5N,YAAQ,CAAC0C,gBAAT,CAA0B,WAA1B,EAAuC,UAASC,KAAT,EAAgB;AACnD,UAAGA,KAAK,CAACgG,MAAN,IAAgB,CAAhB,IAAqB,KAAKlF,OAAL,CAAaY,MAAb,GAAsB,CAA9C,EAAiD;AAC7C,YAAIwJ,OAAO,GAAGlL,KAAK,CAACiG,MAApB;AACA,YAAIkF,QAAQ,GAAG,KAAf;;AACA,WAAG;AACC,cAAGD,OAAO,CAAC3N,SAAR,IAAqB2N,OAAO,CAAC3N,SAAR,CAAkBqM,QAAlB,CAA2B,YAA3B,CAAxB,EAAkE;AAC9DuB,oBAAQ,GAAG,IAAX;AACA;AACH;;AACDD,iBAAO,GAAGA,OAAO,CAAC9D,UAAlB;AACH,SAND,QAMQ8D,OANR;;AAOA,YAAG,CAACC,QAAJ,EAAc;AACV,eAAKrK,OAAL,CAAa,CAAb,EAAgBsK,iBAAhB;AACH;AACJ;AACJ,KAfsC,CAerC/K,IAfqC,CAehC,IAfgC,CAAvC;AAgBH;;;;+BAEUC,S,EAAW;AAClB,WAAKQ,OAAL,CAAaI,IAAb,CAAkBZ,SAAlB;AACA,WAAKmK,aAAL,CAAmBY,GAAnB,CAAuB/K,SAAS,CAACgL,KAAV,EAAvB,EAA0C,QAA1C;AACA,WAAKzJ,OAAL,CAAa+I,SAAb,CAAuB,IAAI3N,SAAJ,CAAcqD,SAAS,CAACgL,KAAV,EAAd,EAAiChL,SAAS,CAACiL,QAAV,EAAjC,CAAvB;AACA,UAAIC,IAAI,GAAG,KAAK3J,OAAL,CAAa4J,QAAb,GAAwB,KAAK5J,OAAL,CAAa4J,QAAb,GAAwB/J,MAAxB,GAA+B,CAAvD,CAAX;AACA,UAAIgK,QAAQ,GAAGF,IAAI,CAAChM,YAAL,EAAf;AACAkM,cAAQ,CAACnO,SAAT,CAAmBC,GAAnB,CAAuB,mCAAvB;AACAkO,cAAQ,CAAC3L,gBAAT,CAA0B,OAA1B,EAAmC,UAASC,KAAT,EAAgB;AAC/C,YAAI2L,MAAM,GAAG,KAAKlB,aAAL,CAAmBmB,GAAnB,CAAuBtL,SAAS,CAACgL,KAAV,EAAvB,CAAb;;AACA,YAAGK,MAAM,IAAI,QAAb,EAAuB;AACnB,eAAKE,YAAL,CAAkB,UAAlB,EAA8BvL,SAAS,CAACgL,KAAV,EAA9B;AACA,cAAInB,WAAW,GAAGuB,QAAQ,CAACvH,aAAT,CAAuB,0CAAvB,CAAlB;;AACA,cAAGgG,WAAW,CAAC9L,KAAZ,CAAkByB,OAAlB,IAA6B,cAAhC,EAAgD;AAC5CqK,uBAAW,CAAC9L,KAAZ,CAAkByB,OAAlB,GAA4B,MAA5B;AACH;AACJ,SAND,MAMO,IAAG6L,MAAM,IAAI,UAAb,EAAyB;AAC5B,eAAKE,YAAL,CAAkB,UAAlB,EAA8BvL,SAAS,CAACgL,KAAV,EAA9B;;AACA,cAAInB,YAAW,GAAGuB,QAAQ,CAACvH,aAAT,CAAuB,0CAAvB,CAAlB;;AACA,cAAGgG,YAAW,CAAC9L,KAAZ,CAAkByB,OAAlB,IAA6B,cAAhC,EAAgD;AAC5CqK,wBAAW,CAAC9L,KAAZ,CAAkByB,OAAlB,GAA4B,MAA5B;AACH;AACJ;AACJ,OAfkC,CAejCO,IAfiC,CAe5B,IAf4B,CAAnC;AAgBAqL,cAAQ,CAAC3L,gBAAT,CAA0B,aAA1B,EAAyC,UAASC,KAAT,EAAgB;AACrDA,aAAK,CAAC8L,cAAN;AACA,YAAI3B,WAAW,GAAGuB,QAAQ,CAACvH,aAAT,CAAuB,0CAAvB,CAAlB;AACA,YAAIR,KAAK,GAAG,KAAK9B,OAAL,CAAa4J,QAAb,EAAZ;;AACA,aAAI,IAAIhK,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGkC,KAAK,CAACjC,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AAClC,cAAGkC,KAAK,CAAClC,CAAD,CAAL,CAAS6J,KAAT,MAAoBhL,SAAS,CAACgL,KAAV,EAAvB,EAA0C;AACtC,gBAAIS,MAAM,GAAGpI,KAAK,CAAClC,CAAD,CAAL,CAASjC,YAAT,GAAwB2E,aAAxB,CAAsC,0CAAtC,CAAb;;AACA,gBAAG4H,MAAM,CAACxO,SAAP,CAAiBqM,QAAjB,CAA0B,qBAA1B,CAAH,EAAqD;AACjDmC,oBAAM,CAACxO,SAAP,CAAiB4I,MAAjB,CAAwB,qBAAxB;AACH;AACJ;AACJ;;AACD,aAAKwE,SAAL,CAAezE,KAAf,GAZqD,CAarD;AACA;AACA;AACA;AACA;AACA;;AACAsF,YAAI,CAACQ,cAAL,GAAsBC,UAAtB,CAAkCzP,MAAM,CAAC0P,WAAP,GAAmB,KAAKzO,MAAL,CAAY0O,qBAAZ,GAAoC3I,GAAzF;AACA2G,mBAAW,CAAC5M,SAAZ,CAAsBwI,MAAtB,CAA6B,qBAA7B;AACA,YAAI4F,MAAM,GAAG,KAAKlB,aAAL,CAAmBmB,GAAnB,CAAuBtL,SAAS,CAACgL,KAAV,EAAvB,CAAb;;AACA,YAAGK,MAAM,IAAI,UAAb,EAAyB;AACrB,eAAKE,YAAL,CAAkB,UAAlB,EAA8BvL,SAAS,CAACgL,KAAV,EAA9B;AACH;;AACD,eAAO,KAAP;AACH,OA1BwC,CA0BvCjL,IA1BuC,CA0BlC,IA1BkC,CAAzC,EA0Bc,KA1Bd;;AA2BA,UAAGC,SAAS,CAAC8L,gBAAV,EAAH,EAAiC;AAC7B,YAAIzI,KAAK,GAAG,KAAK9B,OAAL,CAAa4J,QAAb,EAAZ;AACA9H,aAAK,CAACA,KAAK,CAACjC,MAAN,GAAa,CAAd,CAAL,CAAsBsK,cAAtB,GAAuCpB,SAAvC,CAAiD,cAAjD,EAAiE,YAAW,CAAE,CAA9E,EAAgFC,aAAhF;AACH;;AACDxN,cAAQ,CAACc,IAAT,CAAcN,WAAd,CAA0ByC,SAAS,CAACd,YAAV,EAA1B;AACAc,eAAS,CAAC+L,WAAV;AACH;;;mCACcC,U,EAAY;AACvB,WAAK5F,aAAL,GAAqB4F,UAArB;AACH;;;iCAEYC,U,EAAYxC,E,EAAI;AACzB,UAAGwC,UAAU,IAAI,UAAjB,EAA6B;AACzB,YAAIZ,MAAM,GAAG,KAAKlB,aAAL,CAAmBmB,GAAnB,CAAuB7B,EAAvB,CAAb;;AACA,YAAG4B,MAAM,IAAI,QAAb,EAAuB;AACnB,cAAIa,QAAQ,GAAG,KAAKC,wBAAL,CAA8B1C,EAA9B,CAAf;AACA,cAAIyB,IAAI,GAAGnO,QAAQ,CAACqP,sBAAT,CAAgC,2BAAhC,EAA6DF,QAA7D,CAAX;AACA,eAAK/B,aAAL,CAAmBY,GAAnB,CAAuBtB,EAAvB,EAA2B,UAA3B;AACAyB,cAAI,CAACjO,SAAL,CAAe4I,MAAf,CAAsB,mCAAtB;AACA9I,kBAAQ,CAACsP,cAAT,CAAwB,KAAK7L,OAAL,CAAa0L,QAAb,EAAuBlB,KAAvB,EAAxB,EAAwDjN,KAAxD,CAA8DyB,OAA9D,GAAwE,MAAxE;AACH,SAND,MAMO,IAAG6L,MAAM,IAAI,UAAb,EAAyB;AAC5B,cAAIa,SAAQ,GAAG,KAAKC,wBAAL,CAA8B1C,EAA9B,CAAf;;AACA,cAAIyB,KAAI,GAAGnO,QAAQ,CAACqP,sBAAT,CAAgC,2BAAhC,EAA6DF,SAA7D,CAAX;;AACA,eAAK/B,aAAL,CAAmBY,GAAnB,CAAuBtB,EAAvB,EAA2B,QAA3B;;AACAyB,eAAI,CAACjO,SAAL,CAAeC,GAAf,CAAmB,mCAAnB;;AACAH,kBAAQ,CAACsP,cAAT,CAAwB,KAAK7L,OAAL,CAAa0L,SAAb,EAAuBlB,KAAvB,EAAxB,EAAwDjN,KAAxD,CAA8DyB,OAA9D,GAAwE,OAAxE;AACH;AACJ,OAfD,MAeO,IAAGyM,UAAU,IAAI,UAAjB,EAA6B;AAChC,YAAIC,UAAQ,GAAG,KAAKC,wBAAL,CAA8B1C,EAA9B,CAAf;;AACA,YAAIyB,MAAI,GAAGnO,QAAQ,CAACqP,sBAAT,CAAgC,2BAAhC,EAA6DF,UAA7D,CAAX;;AACA,aAAK/B,aAAL,CAAmBY,GAAnB,CAAuBtB,EAAvB,EAA2B,QAA3B;;AACAyB,cAAI,CAACjO,SAAL,CAAeC,GAAf,CAAmB,mCAAnB;;AACA,aAAKsD,OAAL,CAAa0L,UAAb,EAAuBH,WAAvB;;AACAhP,gBAAQ,CAACsP,cAAT,CAAwB,KAAK7L,OAAL,CAAa0L,UAAb,EAAuBlB,KAAvB,EAAxB,EAAwDjN,KAAxD,CAA8DyB,OAA9D,GAAwE,OAAxE;AACH,OAPM,MAOA,IAAGyM,UAAU,IAAI,OAAjB,EAA0B;AAC7B,YAAIC,UAAQ,GAAG,KAAKC,wBAAL,CAA8B1C,EAA9B,CAAf;;AACA,YAAI6C,UAAU,GAAGvP,QAAQ,CAACqP,sBAAT,CAAgC,YAAhC,EAA8CF,UAA9C,CAAjB;;AACA,YAAIK,QAAQ,GAAGxP,QAAQ,CAACqP,sBAAT,CAAgC,2BAAhC,EAA6DF,UAA7D,CAAf;;AACAI,kBAAU,CAACzG,MAAX;AACA0G,gBAAQ,CAAC1G,MAAT;AACA,aAAKrF,OAAL,CAAagM,MAAb,CAAoBN,UAApB,EAA8B,CAA9B;AACA,aAAK/B,aAAL,CAAmBsC,MAAnB,CAA0BP,UAA1B;AACA,aAAK3K,OAAL,CAAa4J,QAAb,GAAwBqB,MAAxB,CAA+BN,UAA/B,EAAyC,CAAzC;AACH;AACJ;;;iCAEY;AACT,aAAO,KAAK1L,OAAZ;AACH;;;6CAEwBiJ,E,EAAI;AACzB,WAAI,IAAItI,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKX,OAAL,CAAaY,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AACzC,YAAG,KAAKX,OAAL,CAAaW,CAAb,EAAgB6J,KAAhB,MAA2BvB,EAA9B,EAAkC;AAC9B,iBAAOtI,CAAP;AACH;AACJ;AACJ;;;iCAEY+K,Q,EAAU;AACnB,UAAI7I,KAAK,GAAG,KAAK9B,OAAL,CAAa4J,QAAb,EAAZ;;AACA,WAAI,IAAIhK,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGkC,KAAK,CAACjC,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AAClC,YAAGkC,KAAK,CAAClC,CAAD,CAAL,CAAS6J,KAAT,MAAoBkB,QAAvB,EAAiC;AAC7B,iBAAO7I,KAAK,CAAClC,CAAD,CAAZ;AACH;AACJ;;AACD,aAAO,IAAP;AACH;;;4CAEuB;AACpB,UAAIuL,cAAc,GAAG,IAAI/P,SAAJ,CAAc,UAAd,EAA0B,WAA1B,CAArB;AACA,aAAO,KAAK0N,SAAL,CAAenL,YAAf,GAA8BsC,WAA9B,GAA0C,CAA1C,GAA8CkL,cAAc,CAACjI,mBAAf,EAA9C,GAAqF,KAAKlD,OAAL,CAAaS,eAAb,GAA+B9C,YAA/B,GAA8CsC,WAAnI,GAAiJ,KAAKE,cAAL,CAAoBF,WAA5K;AACH;;;;;;AAGU5E,oEAAf,E;;;;;;;;;;;;;;IC5KEC,M;;;AACF,kBAAYuJ,aAAZ,EAA2B8F,QAA3B,EAAqC;AAAA;;AACjC,SAAKvC,cAAL,GAAsB,IAAtB;AACA,SAAKgD,SAAL;AACA,SAAKC,WAAL;AACA,SAAKzP,MAAL;AAEA,SAAKiJ,aAAL,GAAqBA,aAArB;AACA,SAAKyG,UAAL,GAAkB,IAAlB;AAEA,SAAKzD,SAAL,GAAiBhD,aAAa,CAAC0G,YAAd,CAA2B,KAAKrD,EAAhC,CAAjB;AAEA,SAAKsD,cAAL,GAAsB,KAAtB;AACA,SAAKC,OAAL,GAAe,CAAf;AACA,SAAKC,OAAL,GAAe,CAAf;AAEA,SAAKC,cAAL,GAAsB,KAAtB;AACA,SAAKC,QAAL,GAAgB,GAAhB;AACA,SAAKC,SAAL,GAAiB,GAAjB;AACA,SAAKC,YAAL,GAAoB,KAApB;AACA,SAAKC,YAAL,GAAoB,KAApB;AACA,SAAKC,YAAL,GAAoB,KAApB;AACA,SAAKC,YAAL,GAAoB,KAApB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,aAAL,GAAqB,CAArB;AACA,SAAKC,aAAL,GAAqB,CAArB;AACA,SAAKC,oBAAL;AACA,SAAKC,gBAAL;AACA,SAAKC,iBAAL;AACA,SAAKC,kBAAL;AACA,SAAKC,uBAAL,GAA+B,KAA/B;AACA,SAAKC,mBAAL,GAA2B,KAA3B;AACA,SAAKC,oBAAL,GAA4B,KAA5B;AACA,SAAKC,qBAAL,GAA6B,KAA7B;AAEA,SAAKC,WAAL,GAAmB,KAAnB;AACA,SAAKC,gBAAL;AACA,SAAKC,gBAAL;AACA,SAAKC,WAAL,GAAmB,CAAnB;AACA,SAAKC,YAAL,GAAoB,CAApB;AACA,SAAKC,SAAL,GAAiB,KAAjB;AACA,SAAKC,kBAAL,GAA0B,KAA1B;AACA,SAAKC,iBAAL;AACA,SAAKC,OAAL;AACA,SAAKC,QAAL;AACA,SAAKC,SAAL;AACA,SAAKC,eAAL;AACA,SAAKC,QAAL,CAAc,GAAd;AACA,SAAKvC,WAAL,GAAmBwC,QAAQ,CAAC9L,gBAAgB,CAAC,KAAKnG,MAAN,CAAhB,CAA8BkS,QAA/B,CAA3B;AACA,SAAKF,QAAL,CAAc,cAAd;AACA,SAAKG,SAAL,CAAevR,KAAf,CAAqBmF,GAArB,GAA2B,MAA3B;AACA,SAAKoM,SAAL,CAAevR,KAAf,CAAqBuB,IAArB,GAA4B,OAA5B;AACA,SAAKiQ,QAAL,CAAc,GAAd;AACA,SAAKC,SAAL,CAAe,GAAf;AACA,SAAKC,cAAL;AACH;;;;mCAEc;AACX,aAAO,KAAKtS,MAAZ;AACH;;;0BAEKwD,K,EAAO;AACT,WAAK8I,EAAL,GAAU9I,KAAV;AACH;;;4BAEO;AACJ,aAAO,KAAK8I,EAAZ;AACH;;;mCAEc;AACX,aAAO,KAAKrD,aAAL,CAAmB0G,YAAnB,CAAgC,KAAKrD,EAArC,CAAP;AACH;;;sCAEiB;AACd,WAAKtM,MAAL,GAAcJ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;AACA,WAAKG,MAAL,CAAYsM,EAAZ,GAAiB,KAAKA,EAAtB;AACA,WAAKtM,MAAL,CAAYmI,SAAZ,GAAyB,6BACxB,4BADwB,GACK,4BADL,GACkC,4BADlC,GAC+D,4BAD/D,GAC4F,2BAD5F,GACwH,2BADxH,GACoJ,2BADpJ,GACgL,2BADhL,GAExB,oCAFwB,GAGxB,8TAHwB,GAIxB,QAJwB,GAKxB,wDALwB,GAMxB,QAND;AAOA,WAAKgK,SAAL,GAAiB,KAAKnS,MAAL,CAAY0G,aAAZ,CAA0B,aAA1B,CAAjB;AACA,WAAK6L,QAAL,GAAgB,KAAKvS,MAAL,CAAY0G,aAAZ,CAA0B,YAA1B,CAAhB;AACA,WAAK8L,QAAL,GAAgB,KAAKxS,MAAL,CAAY0G,aAAZ,CAA0B,YAA1B,CAAhB;AACA,WAAK+L,QAAL,GAAgB,KAAKzS,MAAL,CAAY0G,aAAZ,CAA0B,YAA1B,CAAhB;AACA,WAAKgM,QAAL,GAAgB,KAAK1S,MAAL,CAAY0G,aAAZ,CAA0B,YAA1B,CAAhB;AACA,WAAKiM,OAAL,GAAe,KAAK3S,MAAL,CAAY0G,aAAZ,CAA0B,WAA1B,CAAf;AACA,WAAKkM,OAAL,GAAe,KAAK5S,MAAL,CAAY0G,aAAZ,CAA0B,WAA1B,CAAf;AACA,WAAKmM,OAAL,GAAe,KAAK7S,MAAL,CAAY0G,aAAZ,CAA0B,WAA1B,CAAf;AACA,WAAKoM,OAAL,GAAe,KAAK9S,MAAL,CAAY0G,aAAZ,CAA0B,WAA1B,CAAf;AACA,WAAKqM,QAAL,GAAgB,KAAK/S,MAAL,CAAY0G,aAAZ,CAA0B,uBAA1B,CAAhB;AACA,WAAK+B,KAAL,GAAa,KAAKzI,MAAL,CAAYiP,sBAAZ,CAAmC,kBAAnC,EAAuD,CAAvD,CAAb;AACA,WAAK+D,GAAL,GAAW,KAAKhT,MAAL,CAAYiP,sBAAZ,CAAmC,qBAAnC,EAA0D,CAA1D,CAAX;AACA,WAAKgE,GAAL,GAAW,KAAKjT,MAAL,CAAYiP,sBAAZ,CAAmC,qBAAnC,EAA0D,CAA1D,CAAX;AACA,WAAKiE,IAAL,GAAY,KAAKlT,MAAL,CAAY0G,aAAZ,CAA0B,6BAA1B,CAAZ;AACA,WAAKyM,KAAL,GAAa,KAAKnT,MAAL,CAAY0G,aAAZ,CAA0B,8BAA1B,CAAb;AACA,WAAK0M,UAAL,GAAkB,KAAKpT,MAAL,CAAY0G,aAAZ,CAA0B,6BAA1B,CAAlB;AACA,WAAK2M,aAAL,GAAqB,KAAKrT,MAAL,CAAY0G,aAAZ,CAA0B,sBAA1B,CAArB;AACH;;;qCAEgB;AACb,WAAK+B,KAAL,CAAWnG,gBAAX,CAA4B,OAA5B,EAAqC,YAAW;AAC5C,aAAK2G,aAAL,CAAmBmF,YAAnB,CAAgC,OAAhC,EAAyC,KAAK9B,EAA9C;AACH,OAFoC,CAEnC1J,IAFmC,CAE9B,IAF8B,CAArC;AAIA,WAAKoQ,GAAL,CAAS1Q,gBAAT,CAA0B,OAA1B,EAAmC,YAAW;AAC1C,aAAK2G,aAAL,CAAmBmF,YAAnB,CAAgC,UAAhC,EAA4C,KAAK9B,EAAjD;AACH,OAFkC,CAEjC1J,IAFiC,CAE5B,IAF4B,CAAnC;AAIA,WAAKqQ,GAAL,CAAS3Q,gBAAT,CAA0B,OAA1B,EAAmC,YAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,aAAKgR,cAAL;AACH,OARkC,CAQjC1Q,IARiC,CAQ5B,IAR4B,CAAnC;AAUA,WAAK2P,QAAL,CAAcjQ,gBAAd,CAA+B,WAA/B,EAA4C,UAASC,KAAT,EAAgB;AACxD,aAAKwN,cAAL,GAAsB,IAAtB;AACA,aAAKG,YAAL,GAAoB,IAApB;AACA,aAAKQ,aAAL,GAAqBnO,KAAK,CAACgR,OAA3B;AACA,aAAK5C,aAAL,GAAqBpO,KAAK,CAACiR,OAA3B;AACH,OAL2C,CAK1C5Q,IAL0C,CAKrC,IALqC,CAA5C;AAOA,WAAK4P,QAAL,CAAclQ,gBAAd,CAA+B,WAA/B,EAA4C,UAASC,KAAT,EAAgB;AACxD,aAAKwN,cAAL,GAAsB,IAAtB;AACA,aAAKI,YAAL,GAAoB,IAApB;AACA,aAAKO,aAAL,GAAqBnO,KAAK,CAACgR,OAA3B;AACA,aAAK5C,aAAL,GAAqBpO,KAAK,CAACiR,OAA3B;AACH,OAL2C,CAK1C5Q,IAL0C,CAKrC,IALqC,CAA5C;AAOA,WAAK6P,QAAL,CAAcnQ,gBAAd,CAA+B,WAA/B,EAA4C,UAASC,KAAT,EAAgB;AACxD,aAAKwN,cAAL,GAAsB,IAAtB;AACA,aAAKK,YAAL,GAAoB,IAApB;AACA,aAAKM,aAAL,GAAqBnO,KAAK,CAACgR,OAA3B;AACA,aAAK5C,aAAL,GAAqBpO,KAAK,CAACiR,OAA3B;AACH,OAL2C,CAK1C5Q,IAL0C,CAKrC,IALqC,CAA5C;AAOA,WAAK8P,QAAL,CAAcpQ,gBAAd,CAA+B,WAA/B,EAA4C,UAASC,KAAT,EAAgB;AACxD,aAAKwN,cAAL,GAAsB,IAAtB;AACA,aAAKM,YAAL,GAAoB,IAApB;AACA,aAAKK,aAAL,GAAqBnO,KAAK,CAACgR,OAA3B;AACA,aAAK5C,aAAL,GAAqBpO,KAAK,CAACiR,OAA3B;AACH,OAL2C,CAK1C5Q,IAL0C,CAKrC,IALqC,CAA5C;AAOA,WAAK+P,OAAL,CAAarQ,gBAAb,CAA8B,WAA9B,EAA2C,UAASC,KAAT,EAAgB;AACvD,aAAKwN,cAAL,GAAsB,IAAtB;AACA,aAAKO,WAAL,GAAmB,IAAnB;AACA,aAAKI,aAAL,GAAqBnO,KAAK,CAACgR,OAA3B;AACA,aAAK5C,aAAL,GAAqBpO,KAAK,CAACiR,OAA3B;AACH,OAL0C,CAKzC5Q,IALyC,CAKpC,IALoC,CAA3C;AAOA,WAAKgQ,OAAL,CAAatQ,gBAAb,CAA8B,WAA9B,EAA2C,UAASC,KAAT,EAAgB;AACvD,aAAKwN,cAAL,GAAsB,IAAtB;AACA,aAAKQ,WAAL,GAAmB,IAAnB;AACA,aAAKG,aAAL,GAAqBnO,KAAK,CAACgR,OAA3B;AACA,aAAK5C,aAAL,GAAqBpO,KAAK,CAACiR,OAA3B;AACH,OAL0C,CAKzC5Q,IALyC,CAKpC,IALoC,CAA3C;AAOA,WAAKiQ,OAAL,CAAavQ,gBAAb,CAA8B,WAA9B,EAA2C,UAASC,KAAT,EAAgB;AACvD,aAAKwN,cAAL,GAAsB,IAAtB;AACA,aAAKS,WAAL,GAAmB,IAAnB;AACA,aAAKE,aAAL,GAAqBnO,KAAK,CAACgR,OAA3B;AACA,aAAK5C,aAAL,GAAqBpO,KAAK,CAACiR,OAA3B;AACH,OAL0C,CAKzC5Q,IALyC,CAKpC,IALoC,CAA3C;AAOA,WAAKkQ,OAAL,CAAaxQ,gBAAb,CAA8B,WAA9B,EAA2C,UAASC,KAAT,EAAgB;AACvD,aAAKwN,cAAL,GAAsB,IAAtB;AACA,aAAKU,WAAL,GAAmB,IAAnB;AACA,aAAKC,aAAL,GAAqBnO,KAAK,CAACgR,OAA3B;AACA,aAAK5C,aAAL,GAAqBpO,KAAK,CAACiR,OAA3B;AACH,OAL0C,CAKzC5Q,IALyC,CAKpC,IALoC,CAA3C;AAOAhD,cAAQ,CAAC0C,gBAAT,CAA0B,SAA1B,EAAqC,UAASC,KAAT,EAAgB;AACjD,YAAG,KAAKwN,cAAR,EAAwB;AACpB,eAAKA,cAAL,GAAsB,KAAtB;AACA,eAAKG,YAAL,GAAoB,KAApB;AACA,eAAKC,YAAL,GAAoB,KAApB;AACA,eAAKC,YAAL,GAAoB,KAApB;AACA,eAAKC,YAAL,GAAoB,KAApB;AACA,eAAKC,WAAL,GAAmB,KAAnB;AACA,eAAKC,WAAL,GAAmB,KAAnB;AACA,eAAKC,WAAL,GAAmB,KAAnB;AACA,eAAKC,WAAL,GAAmB,KAAnB;AACH;AACJ,OAZoC,CAYnC7N,IAZmC,CAY9B,IAZ8B,CAArC;AAcAhD,cAAQ,CAAC0C,gBAAT,CAA0B,WAA1B,EAAuC,UAASC,KAAT,EAAgB;AACnD,YAAG,KAAKwN,cAAR,EAAwB;AACpB,cAAG,KAAKG,YAAR,EAAsB;AAClB,gBAAIuD,MAAM,GAAG,KAAK/C,aAAL,GAAmBnO,KAAK,CAACgR,OAAtC;AACA,gBAAIG,aAAa,GAAG,KAAKC,UAAL,KAAoBF,MAAxC;;AACA,gBAAG,KAAKG,QAAL,KAAkB,KAAK5D,QAA1B,EAAoC;AAChC,mBAAKmC,SAAL,CAAevR,KAAf,CAAqBuB,IAArB,GAA4BuR,aAAa,GAAC,IAA1C;AACA,mBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,MAA9B;AACH,aAHD,MAGO;AACH,kBAAGA,MAAM,GAAG,CAAZ,EAAe;AACX,qBAAKtB,SAAL,CAAevR,KAAf,CAAqBuB,IAArB,GAA4BuR,aAAa,GAAC,IAA1C;AACA,qBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,MAA9B;AACH;AACJ;;AACDA,kBAAM,GAAG,KAAK9C,aAAL,GAAmBpO,KAAK,CAACiR,OAAlC;AACAE,yBAAa,GAAG,KAAKG,UAAL,KAAoBJ,MAApC;;AACA,gBAAG,KAAKK,SAAL,KAAmB,KAAK7D,SAA3B,EAAsC;AAClC,mBAAKkC,SAAL,CAAevR,KAAf,CAAqBmF,GAArB,GAA2B2N,aAAa,GAAC,IAAzC;AACA,mBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,MAAhC;AACH,aAHD,MAGO;AACH,kBAAGA,MAAM,GAAG,CAAZ,EAAe;AACX,qBAAKtB,SAAL,CAAevR,KAAf,CAAqBmF,GAArB,GAA2B2N,aAAa,GAAC,IAAzC;AACA,qBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,MAAhC;AACH;AACJ;;AAED,iBAAK/C,aAAL,GAAqBnO,KAAK,CAACgR,OAA3B;AACA,iBAAK5C,aAAL,GAAqBpO,KAAK,CAACiR,OAA3B;AACH,WA1BD,MA0BO,IAAG,KAAKrD,YAAR,EAAsB;AACzB,gBAAIsD,OAAM,GAAGlR,KAAK,CAACgR,OAAN,GAAc,KAAK7C,aAAhC;;AACA,gBAAIgD,cAAa,GAAG,KAAKC,UAAL,KAAoBF,OAAxC;;AACA,gBAAG,KAAKG,QAAL,KAAkB,KAAK5D,QAA1B,EAAoC;AAChC,mBAAKmC,SAAL,CAAevR,KAAf,CAAqBmT,KAArB,GAA6BL,cAAa,GAAC,IAA3C;AACA,mBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,OAA9B;AACH,aAHD,MAGO;AACH,kBAAGA,OAAM,GAAG,CAAZ,EAAe;AACX,qBAAKtB,SAAL,CAAevR,KAAf,CAAqBmT,KAArB,GAA6BL,cAAa,GAAC,IAA3C;AACA,qBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,OAA9B;AACH;AACJ;;AACDA,mBAAM,GAAG,KAAK9C,aAAL,GAAmBpO,KAAK,CAACiR,OAAlC;AACAE,0BAAa,GAAG,KAAKG,UAAL,KAAoBJ,OAApC;;AACA,gBAAG,KAAKK,SAAL,KAAmB,KAAK7D,SAA3B,EAAsC;AAClC,mBAAKkC,SAAL,CAAevR,KAAf,CAAqBmF,GAArB,GAA2B2N,cAAa,GAAC,IAAzC;AACA,mBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,OAAhC;AACH,aAHD,MAGO;AACH,kBAAGA,OAAM,GAAG,CAAZ,EAAe;AACX,qBAAKtB,SAAL,CAAevR,KAAf,CAAqBmF,GAArB,GAA2B2N,cAAa,GAAC,IAAzC;AACA,qBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,OAAhC;AACH;AACJ;;AAED,iBAAK/C,aAAL,GAAqBnO,KAAK,CAACgR,OAA3B;AACA,iBAAK5C,aAAL,GAAqBpO,KAAK,CAACiR,OAA3B;AACH,WA1BM,MA0BA,IAAG,KAAKpD,YAAR,EAAsB;AACzB,gBAAIqD,QAAM,GAAG,KAAK/C,aAAL,GAAmBnO,KAAK,CAACgR,OAAtC;;AACA,gBAAIG,eAAa,GAAG,KAAKC,UAAL,KAAoBF,QAAxC;;AACA,gBAAG,KAAKG,QAAL,KAAkB,KAAK5D,QAA1B,EAAoC;AAChC,mBAAKmC,SAAL,CAAevR,KAAf,CAAqBuB,IAArB,GAA4BuR,eAAa,GAAC,IAA1C;AACA,mBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,QAA9B;AACH,aAHD,MAGO;AACH,kBAAGA,QAAM,GAAG,CAAZ,EAAe;AACX,qBAAKtB,SAAL,CAAevR,KAAf,CAAqBuB,IAArB,GAA4BuR,eAAa,GAAC,IAA1C;AACA,qBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,QAA9B;AACH;AACJ;;AACDA,oBAAM,GAAGlR,KAAK,CAACiR,OAAN,GAAc,KAAK7C,aAA5B;AACA+C,2BAAa,GAAG,KAAKG,UAAL,KAAoBJ,QAApC;;AACA,gBAAG,KAAKK,SAAL,KAAmB,KAAK7D,SAA3B,EAAsC;AAClC,mBAAKkC,SAAL,CAAevR,KAAf,CAAqBC,MAArB,GAA8B6S,eAAa,GAAC,IAA5C;AACA,mBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,QAAhC;AACH,aAHD,MAGO;AACH,kBAAGA,QAAM,GAAG,CAAZ,EAAe;AACX,qBAAKtB,SAAL,CAAevR,KAAf,CAAqBC,MAArB,GAA8B6S,eAAa,GAAC,IAA5C;AACA,qBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,QAAhC;AACH;AACJ;;AAED,iBAAK/C,aAAL,GAAqBnO,KAAK,CAACgR,OAA3B;AACA,iBAAK5C,aAAL,GAAqBpO,KAAK,CAACiR,OAA3B;AACH,WA1BM,MA0BA,IAAG,KAAKnD,YAAR,EAAsB;AACzB,gBAAIoD,QAAM,GAAGlR,KAAK,CAACgR,OAAN,GAAc,KAAK7C,aAAhC;;AACA,gBAAIgD,eAAa,GAAG,KAAKC,UAAL,KAAoBF,QAAxC;;AACA,gBAAG,KAAKG,QAAL,KAAkB,KAAK5D,QAA1B,EAAoC;AAChC,mBAAKmC,SAAL,CAAevR,KAAf,CAAqBmT,KAArB,GAA6BL,eAAa,GAAC,IAA3C;AACA,mBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,QAA9B;AACH,aAHD,MAGO;AACH,kBAAGA,QAAM,GAAG,CAAZ,EAAe;AACX,qBAAKtB,SAAL,CAAevR,KAAf,CAAqBmT,KAArB,GAA6BL,eAAa,GAAC,IAA3C;AACA,qBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,QAA9B;AACH;AACJ;;AACDA,oBAAM,GAAGlR,KAAK,CAACiR,OAAN,GAAc,KAAK7C,aAA5B;AACA+C,2BAAa,GAAG,KAAKG,UAAL,KAAoBJ,QAApC;;AACA,gBAAG,KAAKK,SAAL,KAAmB,KAAK7D,SAA3B,EAAsC;AAClC,mBAAKkC,SAAL,CAAevR,KAAf,CAAqBC,MAArB,GAA8B6S,eAAa,GAAC,IAA5C;AACA,mBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,QAAhC;AACH,aAHD,MAGO;AACH,kBAAGA,QAAM,GAAG,CAAZ,EAAe;AACX,qBAAKtB,SAAL,CAAevR,KAAf,CAAqBC,MAArB,GAA8B6S,eAAa,GAAC,IAA5C;AACA,qBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,QAAhC;AACH;AACJ;;AAED,iBAAK/C,aAAL,GAAqBnO,KAAK,CAACgR,OAA3B;AACA,iBAAK5C,aAAL,GAAqBpO,KAAK,CAACiR,OAA3B;AACH,WA1BM,MA0BA,IAAG,KAAKlD,WAAR,EAAqB;AACxB,gBAAImD,QAAM,GAAG,KAAK9C,aAAL,GAAmBpO,KAAK,CAACiR,OAAtC;;AACA,gBAAIE,eAAa,GAAG,KAAKG,UAAL,KAAoBJ,QAAxC;;AACA,gBAAG,KAAKK,SAAL,KAAmB,KAAK7D,SAA3B,EAAsC;AAClC,mBAAKkC,SAAL,CAAevR,KAAf,CAAqBmF,GAArB,GAA2B2N,eAAa,GAAC,IAAzC;AACA,mBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,QAAhC;AACH,aAHD,MAGO;AACH,kBAAGA,QAAM,GAAG,CAAZ,EAAe;AACX,qBAAKtB,SAAL,CAAevR,KAAf,CAAqBmF,GAArB,GAA2B2N,eAAa,GAAC,IAAzC;AACA,qBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,QAAhC;AACH;AACJ;;AAED,iBAAK9C,aAAL,GAAqBpO,KAAK,CAACiR,OAA3B;AACH,WAdM,MAcA,IAAG,KAAKjD,WAAR,EAAqB;AACxB,gBAAIkD,QAAM,GAAGlR,KAAK,CAACiR,OAAN,GAAc,KAAK7C,aAAhC;;AACA,gBAAI+C,eAAa,GAAG,KAAKG,UAAL,KAAoBJ,QAAxC;;AACA,gBAAG,KAAKK,SAAL,KAAmB,KAAK7D,SAA3B,EAAsC;AAClC,mBAAKkC,SAAL,CAAevR,KAAf,CAAqBC,MAArB,GAA8B6S,eAAa,GAAC,IAA5C;AACA,mBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,QAAhC;AACH,aAHD,MAGO;AACH,kBAAGA,QAAM,GAAG,CAAZ,EAAe;AACX,qBAAKtB,SAAL,CAAevR,KAAf,CAAqBC,MAArB,GAA8B6S,eAAa,GAAC,IAA5C;AACA,qBAAKrB,SAAL,CAAe,KAAKyB,SAAL,KAAiBL,QAAhC;AACH;AACJ;;AAED,iBAAK9C,aAAL,GAAqBpO,KAAK,CAACiR,OAA3B;AACH,WAdM,MAcA,IAAG,KAAKhD,WAAR,EAAqB;AACxB,gBAAIiD,QAAM,GAAG,KAAK/C,aAAL,GAAmBnO,KAAK,CAACgR,OAAtC;;AACA,gBAAIG,eAAa,GAAG,KAAKC,UAAL,KAAoBF,QAAxC;;AACA,gBAAG,KAAKG,QAAL,KAAkB,KAAK5D,QAA1B,EAAoC;AAChC,mBAAKmC,SAAL,CAAevR,KAAf,CAAqBuB,IAArB,GAA4BuR,eAAa,GAAC,IAA1C;AACA,mBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,QAA9B;AACH,aAHD,MAGO;AACH,kBAAGA,QAAM,GAAG,CAAZ,EAAe;AACX,qBAAKtB,SAAL,CAAevR,KAAf,CAAqBuB,IAArB,GAA4BuR,eAAa,GAAC,IAA1C;AACA,qBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,QAA9B;AACH;AACJ;;AAED,iBAAK/C,aAAL,GAAqBnO,KAAK,CAACgR,OAA3B;AACH,WAdM,MAcA,IAAG,KAAK9C,WAAR,EAAqB;AACxB,gBAAIgD,QAAM,GAAGlR,KAAK,CAACgR,OAAN,GAAc,KAAK7C,aAAhC;;AACA,gBAAIgD,eAAa,GAAG,KAAKC,UAAL,KAAoBF,QAAxC;;AACA,gBAAG,KAAKG,QAAL,KAAkB,KAAK5D,QAA1B,EAAoC;AAChC,mBAAKmC,SAAL,CAAevR,KAAf,CAAqBmT,KAArB,GAA6BL,eAAa,GAAC,IAA3C;AACA,mBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,QAA9B;AACH,aAHD,MAGO;AACH,kBAAGA,QAAM,GAAG,CAAZ,EAAe;AACX,qBAAKtB,SAAL,CAAevR,KAAf,CAAqBmT,KAArB,GAA6BL,eAAa,GAAC,IAA3C;AACA,qBAAKtB,QAAL,CAAc,KAAKwB,QAAL,KAAgBH,QAA9B;AACH;AACJ;;AAED,iBAAK/C,aAAL,GAAqBnO,KAAK,CAACgR,OAA3B;AACH;;AAED,eAAKS,uBAAL;AACH;AACJ,OAtKsC,CAsKrCpR,IAtKqC,CAsKhC,IAtKgC,CAAvC;AAwKA,WAAKuP,SAAL,CAAe7P,gBAAf,CAAgC,WAAhC,EAA6C,UAASC,KAAT,EAAgB;AACzD,YAAGA,KAAK,CAACgG,MAAN,IAAgB,CAAnB,EAAsB;AAClB,eAAKqG,WAAL;AACH;AACJ,OAJ4C,CAI3ChM,IAJ2C,CAItC,IAJsC,CAA7C;AAMA,WAAKmQ,QAAL,CAAczQ,gBAAd,CAA+B,WAA/B,EAA4C,UAASC,KAAT,EAAgB;AACxD,aAAKqN,cAAL,GAAsB,IAAtB;AACA,aAAKC,OAAL,GAAetN,KAAK,CAACgR,OAArB;AACA,aAAKzD,OAAL,GAAevN,KAAK,CAACiR,OAArB;;AACA,YAAG,CAAC,KAAKrB,SAAL,CAAerS,SAAf,CAAyBqM,QAAzB,CAAkC,4BAAlC,CAAJ,EAAqE;AACjE,eAAKgG,SAAL,CAAerS,SAAf,CAAyBC,GAAzB,CAA6B,4BAA7B;AACH;AACJ,OAP2C,CAO1C6C,IAP0C,CAOrC,IAPqC,CAA5C;AASA,WAAKmQ,QAAL,CAAczQ,gBAAd,CAA+B,UAA/B,EAA2C,UAASC,KAAT,EAAgB;AACvD,aAAK+Q,cAAL;AACH,OAF0C,CAEzC1Q,IAFyC,CAEpC,IAFoC,CAA3C;AAIAhD,cAAQ,CAAC0C,gBAAT,CAA0B,SAA1B,EAAqC,UAASC,KAAT,EAAgB;AACjD,YAAG,KAAKqN,cAAR,EAAwB;AACpB,eAAKA,cAAL,GAAsB,KAAtB;;AACA,cAAG,CAAC,KAAKwB,WAAN,KAAsB,KAAKQ,OAAL,IAAgB,KAAKC,QAArB,IAAiC,KAAKC,SAA5D,CAAH,EAA2E;AACvE,iBAAKmC,UAAL;AACH;;AACD,eAAK9B,SAAL,CAAerS,SAAf,CAAyB4I,MAAzB,CAAgC,4BAAhC;AACH;AACJ,OARoC,CAQnC9F,IARmC,CAQ9B,IAR8B,CAArC;AAUAhD,cAAQ,CAAC0C,gBAAT,CAA0B,WAA1B,EAAuC,UAASC,KAAT,EAAgB;AACnD,YAAG,KAAKqN,cAAR,EAAwB;AACpB,cAAIsE,KAAK,GAAG,KAAK/B,SAAL,CAAezD,qBAAf,EAAZ;AACA,cAAIyF,sBAAsB,GAAM5R,KAAK,CAACgR,OAAP,GAAgB,KAAK1D,OAAtB,GAA+BqE,KAAK,CAAC/R,IAAnE;AACA,cAAIiS,oBAAoB,GAAM7R,KAAK,CAACiR,OAAP,GAAgB,KAAK1D,OAAtB,GAA+BoE,KAAK,CAACnO,GAAjE;AACA,eAAKoM,SAAL,CAAevR,KAAf,CAAqBuB,IAArB,GAA4BgS,sBAAsB,GAAC,IAAnD;AACA,eAAKhC,SAAL,CAAevR,KAAf,CAAqBmF,GAArB,GAA2BqO,oBAAoB,GAAC,IAAhD;AACAF,eAAK,GAAG,KAAK/B,SAAL,CAAezD,qBAAf,EAAR;;AACA,cAAGwF,KAAK,CAACnO,GAAN,GAAY,CAAf,EAAkB;AACd,iBAAKoM,SAAL,CAAevR,KAAf,CAAqBmF,GAArB,GAA2B,IAAE,IAA7B;AACA,iBAAK8J,OAAL,GAAetN,KAAK,CAACgR,OAArB;AACA,iBAAKc,UAAL,CAAgB,CAAhB;AACH,WAJD,MAIO;AACH,iBAAKxE,OAAL,GAAetN,KAAK,CAACgR,OAArB;AACA,iBAAKzD,OAAL,GAAevN,KAAK,CAACiR,OAArB;AACH;;AACD,eAAKc,oBAAL,CAA0B/R,KAA1B;AACA,eAAKgS,oBAAL,CAA0BhS,KAA1B;AACH;AACJ,OAnBsC,CAmBrCK,IAnBqC,CAmBhC,IAnBgC,CAAvC;AAoBH;;;yCAEoBL,K,EAAO;AACxB,UAAG,CAAC,KAAKqP,OAAN,IAAiB,KAAKiC,UAAL,MAAqB,CAAzC,EAA4C;AACxC,YAAG,KAAKF,UAAL,KAAoB,EAApB,IAA4B,KAAKA,UAAL,KAAoB,KAAKC,QAAL,EAArB,GAAyChU,QAAQ,CAACc,IAAT,CAAc2D,WAAd,GAA0B,EAAjG,EAAuG;AACnG,eAAKuN,OAAL,GAAe,IAAf;AACA,eAAK4C,6BAAL,CAAmC,KAAnC;AACH;AACJ;;AACD,UAAG,CAAC,KAAKpD,WAAT,EAAsB;AAClB,YAAG,CAAC,KAAKS,QAAN,IAAkB,KAAK8B,UAAL,KAAoB,EAAzC,EAA6C;AACzC,eAAK9B,QAAL,GAAgB,IAAhB;AACA,eAAK2C,6BAAL,CAAmC,MAAnC;AACH;;AACD,YAAG,CAAC,KAAK1C,SAAN,IAAoB,KAAK6B,UAAL,KAAoB,KAAKC,QAAL,EAArB,GAAyChU,QAAQ,CAACc,IAAT,CAAc2D,WAAd,GAA0B,EAAzF,EAA8F;AAC1F,eAAKyN,SAAL,GAAiB,IAAjB;AACA,eAAK0C,6BAAL,CAAmC,OAAnC;AACH;AACJ;AACJ;;;2CAEsB;AACnB,UAAG,KAAK5C,OAAR,EAAiB;AACb,YAAG,KAAKiC,UAAL,MAAqB,EAArB,IAA2B,KAAKF,UAAL,KAAoB,EAA/C,IAAuD,KAAKA,UAAL,KAAoB,KAAKC,QAAL,EAArB,GAAyChU,QAAQ,CAACc,IAAT,CAAc2D,WAAd,GAA0B,EAA5H,EAAkI;AAC9H,eAAKuN,OAAL,GAAe,KAAf;AACA,eAAK6C,iBAAL,CAAuB,KAAvB;AACH;AACJ;;AACD,UAAG,KAAK5C,QAAR,EAAkB;AACd,YAAG,KAAK8B,UAAL,KAAoB,EAAvB,EAA2B;AACvB,eAAK9B,QAAL,GAAgB,KAAhB;AACA,eAAK4C,iBAAL,CAAuB,MAAvB;AACH;AACJ;;AACD,UAAG,KAAK3C,SAAR,EAAmB;AACf,YAAI,KAAK6B,UAAL,KAAoB,KAAKC,QAAL,EAArB,GAAyChU,QAAQ,CAACc,IAAT,CAAc2D,WAAd,GAA0B,EAAtE,EAA2E;AACvE,eAAKyN,SAAL,GAAiB,KAAjB;AACA,eAAK2C,iBAAL,CAAuB,OAAvB;AACH;AACJ;AACJ;;;sCAEiBC,S,EAAW;AACzB,UAAG,KAAKjD,SAAR,EAAmB;AACf,aAAKwC,UAAL;AACH;;AAED,UAAG,KAAKvC,kBAAR,EAA4B;AACxB,aAAK8C,6BAAL,CAAmCE,SAAnC;AACH;AACJ;;;kDAE6BA,S,EAAW;AACrC,UAAIhT,OAAO,GAAG1C,WAAW,CAACsO,UAAZ,GAAyBvL,YAAzB,EAAd;AACA,UAAI4S,eAAe,GAAGjT,OAAO,CAACgF,aAAR,CAAsB,yCAAtB,CAAtB;AACA,UAAIkO,gBAAgB,GAAGlT,OAAO,CAACgF,aAAR,CAAsB,0CAAtB,CAAvB;AACA,UAAImO,iBAAiB,GAAGnT,OAAO,CAACgF,aAAR,CAAsB,2CAAtB,CAAxB;;AAEA,UAAGgO,SAAS,IAAI,KAAhB,EAAuB;AACnBC,uBAAe,CAAC7U,SAAhB,CAA0BwI,MAA1B,CAAiC,+BAAjC;AACH;;AACD,UAAGoM,SAAS,IAAI,MAAhB,EAAwB;AACpBE,wBAAgB,CAAC9U,SAAjB,CAA2BwI,MAA3B,CAAkC,+BAAlC;AACH;;AACD,UAAGoM,SAAS,IAAI,OAAhB,EAAyB;AACrBG,yBAAiB,CAAC/U,SAAlB,CAA4BwI,MAA5B,CAAmC,+BAAnC;AACH;;AAED,UAAIwM,QAAQ,GAAGH,eAAe,CAAC7U,SAAhB,CAA0BqM,QAA1B,CAAmC,+BAAnC,CAAf;AACA,UAAI4I,SAAS,GAAGH,gBAAgB,CAAC9U,SAAjB,CAA2BqM,QAA3B,CAAoC,+BAApC,CAAhB;AACA,UAAI6I,UAAU,GAAGH,iBAAiB,CAAC/U,SAAlB,CAA4BqM,QAA5B,CAAqC,+BAArC,CAAjB;;AAEA,UAAG2I,QAAQ,IAAIC,SAAZ,IAAyBC,UAA5B,EAAwC;AACpC,aAAKtD,kBAAL,GAA0B,IAA1B;AACH,OAFD,MAEO;AACH,aAAKA,kBAAL,GAA0B,KAA1B;AACH;AACJ;;;iCAEY;AACT,UAAG,CAAC,KAAKD,SAAT,EAAoB;AAChB,YAAG,KAAKG,OAAL,IAAgB,CAAC,KAAKR,WAAzB,EAAsC;AAClC,eAAKkC,cAAL;AACA,eAAKkB,6BAAL,CAAmC,KAAnC;AACA,eAAK/C,SAAL,GAAiB,IAAjB;AACH,SAJD,MAIO,IAAG,KAAKI,QAAR,EAAkB;AACrB,eAAKN,WAAL,GAAmB,KAAKqC,QAAL,EAAnB;AACA,eAAKpC,YAAL,GAAoB,KAAKsC,SAAL,EAApB;AACA,eAAKnC,iBAAL,GAAyB,CAAzB;AACA,eAAKQ,SAAL,CAAevR,KAAf,CAAqBuB,IAArB,GAA4B,KAA5B;AACA,eAAKgQ,SAAL,CAAevR,KAAf,CAAqBmF,GAArB,GAA2B,KAA3B;AACA,eAAKqM,QAAL,CAAc,KAAd;AACA,eAAKC,SAAL,CAAerT,WAAW,CAACsO,UAAZ,GAAyB2H,mBAAzB,GAA+CtU,YAA9D;AACA,eAAK6T,6BAAL,CAAmC,MAAnC;AACH,SATM,MASA,IAAG,KAAK1C,SAAR,EAAmB;AACtB,eAAKP,WAAL,GAAmB,KAAKqC,QAAL,EAAnB;AACA,eAAKpC,YAAL,GAAoB,KAAKsC,SAAL,EAApB;AACA,eAAKnC,iBAAL,GAAyB/R,QAAQ,CAACc,IAAT,CAAc2D,WAAd,GAA0B,KAAKuP,QAAL,EAAnD;AACA,eAAKxB,QAAL,CAAc,KAAd;AACA,eAAKC,SAAL,CAAerT,WAAW,CAACsO,UAAZ,GAAyB2H,mBAAzB,GAA+CtU,YAA9D;AACA,cAAIuU,IAAI,GAAItV,QAAQ,CAACc,IAAT,CAAc2D,WAAd,GAA4B,KAAKuP,QAAL,EAAxC;AACA,eAAKzB,SAAL,CAAevR,KAAf,CAAqBuB,IAArB,GAA4B+S,IAAI,GAAG,IAAnC;AACA,eAAK/C,SAAL,CAAevR,KAAf,CAAqBmF,GAArB,GAA2B,KAA3B;AACA,eAAKyO,6BAAL,CAAmC,OAAnC;AACH;;AACD,YAAI,KAAK5C,OAAL,IAAgB,CAAC,KAAKR,WAAvB,IAAuC,KAAKS,QAA5C,IAAwD,KAAKC,SAAhE,EAA2E;AACvE,eAAKL,SAAL,GAAiB,IAAjB;AACH;AACJ,OA5BD,MA4BO;AACH,YAAG,CAAC,KAAKG,OAAN,IAAiB,KAAKR,WAAzB,EAAsC;AAClC,eAAKkC,cAAL;AACH,SAFD,MAEO,IAAG,CAAC,KAAKzB,QAAN,IAAkB,CAAC,KAAKC,SAA3B,EAAsC;AACzC,eAAKM,QAAL,CAAc,KAAKb,WAAnB;AACA,eAAKc,SAAL,CAAe,KAAKb,YAApB;AACA,eAAK2D,UAAL,CAAgB,KAAKxD,iBAArB;AACH;;AACD,aAAKF,SAAL,GAAiB,KAAjB;AACH;AACJ;;;qCAEgB;AACb,UAAG,KAAKL,WAAR,EAAqB;AACjB,aAAKA,WAAL,GAAmB,KAAnB;AACA,aAAKK,SAAL,GAAiB,KAAjB;AACA,aAAKG,OAAL,GAAe,KAAf;AACA,aAAKuD,UAAL,CAAgB,KAAK9D,gBAArB;;AACA,YAAG,CAAC,KAAKzB,cAAT,EAAyB;AACrB,eAAKyE,UAAL,CAAgB,KAAK/C,gBAArB;AACH;;AACD,aAAKc,QAAL,CAAc,KAAKb,WAAnB;AACA,aAAKc,SAAL,CAAe,KAAKb,YAApB;AACH,OAVD,MAUO;AACH,aAAKH,gBAAL,GAAwB,KAAKsC,UAAL,EAAxB;AACA,aAAKrC,gBAAL,GAAwB,KAAKuC,UAAL,EAAxB;AACA,aAAKtC,WAAL,GAAmB,KAAKqC,QAAL,EAAnB;AACA,aAAKpC,YAAL,GAAoB,KAAKsC,SAAL,EAApB;AACA,aAAK3B,SAAL,CAAevR,KAAf,CAAqBuB,IAArB,GAA4B,GAA5B;AACA,aAAKgQ,SAAL,CAAevR,KAAf,CAAqBmF,GAArB,GAA2B,GAA3B;AACA,aAAKqM,QAAL,CAAc,MAAd;AACA,aAAKC,SAAL,CAAerT,WAAW,CAACsO,UAAZ,GAAyB2H,mBAAzB,GAA+CtU,YAA9D;AACA,aAAKyQ,WAAL,GAAmB,IAAnB;AACA,aAAKK,SAAL,GAAiB,IAAjB;AACA,aAAKG,OAAL,GAAe,IAAf;AACH;AACJ;;;4CAEuBwD,W,EAAa;AACjC,WAAKxE,oBAAL,GAA4BwE,WAA5B;AACH;;;wCAEmBA,W,EAAa;AAC7B,WAAKvE,gBAAL,GAAwBuE,WAAxB;AACH;;;yCAEoBA,W,EAAa;AAC9B,WAAKtE,iBAAL,GAAyBsE,WAAzB;AACH;;;0CAEqBA,W,EAAa;AAC/B,WAAKrE,kBAAL,GAA0BqE,WAA1B;AACH;;;2CAEsB;AACnB,WAAKjD,SAAL,CAAerS,SAAf,CAAyB4I,MAAzB,CAAgC,yBAAhC;AACA,WAAKyJ,SAAL,CAAerS,SAAf,CAAyB4I,MAAzB,CAAgC,qBAAhC;AACA,WAAKyJ,SAAL,CAAerS,SAAf,CAAyB4I,MAAzB,CAAgC,sBAAhC;AACA,WAAKyJ,SAAL,CAAerS,SAAf,CAAyB4I,MAAzB,CAAgC,uBAAhC;AACH;;;2CAEsBpI,K,EAAO;AAC1B,UAAGA,KAAK,CAACgG,OAAN,CAAc,GAAd,KAAsB,CAAC,CAA1B,EAA6B;AACzBhG,aAAK,GAAGA,KAAK,CAAC+F,SAAN,CAAgB,CAAhB,EAAmB/F,KAAK,CAAC2D,MAAN,GAAa,CAAhC,CAAR;AACA3D,aAAK,GAAGvB,MAAM,CAAC4D,UAAP,IAAqBrC,KAAK,GAAC,GAA3B,CAAR;AACH;;AACD,WAAK+U,oBAAL;;AACA,UAAG/U,KAAK,IAAI,IAAZ,EAAkB;AACd,YAAG,KAAKsQ,oBAAL,IAA6B,CAAC,KAAKI,uBAAtC,EAA+D;AAC3D,eAAKJ,oBAAL;AACA,eAAKI,uBAAL,GAA+B,IAA/B;AACA,eAAKC,mBAAL,GAA2B,KAA3B;AACA,eAAKC,oBAAL,GAA4B,KAA5B;AACA,eAAKC,qBAAL,GAA6B,KAA7B;AACH;;AACD,aAAKgB,SAAL,CAAerS,SAAf,CAAyBC,GAAzB,CAA6B,yBAA7B;AACH,OATD,MASO,IAAGO,KAAK,IAAI,IAAZ,EAAkB;AACrB,YAAG,KAAKuQ,gBAAL,IAAyB,CAAC,KAAKI,mBAAlC,EAAuD;AACnD,eAAKJ,gBAAL;AACA,eAAKI,mBAAL,GAA2B,IAA3B;AACA,eAAKD,uBAAL,GAA+B,KAA/B;AACA,eAAKE,oBAAL,GAA4B,KAA5B;AACA,eAAKC,qBAAL,GAA6B,KAA7B;AACH;;AACD,aAAKgB,SAAL,CAAerS,SAAf,CAAyBC,GAAzB,CAA6B,qBAA7B;AACH,OATM,MASA,IAAGO,KAAK,IAAI,GAAZ,EAAiB;AACpB,YAAG,KAAKwQ,iBAAL,IAA0B,CAAC,KAAKI,oBAAnC,EAAyD;AACrD,eAAKJ,iBAAL;AACA,eAAKI,oBAAL,GAA4B,IAA5B;AACA,eAAKF,uBAAL,GAA+B,KAA/B;AACA,eAAKC,mBAAL,GAA2B,KAA3B;AACA,eAAKE,qBAAL,GAA6B,KAA7B;AACH;;AACD,aAAKgB,SAAL,CAAerS,SAAf,CAAyBC,GAAzB,CAA6B,sBAA7B;AACH,OATM,MASA,IAAGO,KAAK,GAAG,GAAX,EAAgB;AACnB,YAAG,KAAKyQ,kBAAL,IAA2B,CAAC,KAAKI,qBAApC,EAA2D;AACvD,eAAKJ,kBAAL;AACA,eAAKI,qBAAL,GAA6B,IAA7B;AACA,eAAKH,uBAAL,GAA+B,KAA/B;AACA,eAAKC,mBAAL,GAA2B,KAA3B;AACA,eAAKC,oBAAL,GAA4B,KAA5B;AACH;;AACD,aAAKiB,SAAL,CAAerS,SAAf,CAAyBC,GAAzB,CAA6B,uBAA7B;AACH;AACJ;;;wCAEmB;AAChB,UAAIuV,UAAU,GAAG,KAAKrM,aAAL,CAAmBsM,UAAnB,EAAjB;;AACA,WAAI,IAAIvR,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGsR,UAAU,CAACrR,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACvC,YAAIwR,OAAO,GAAGF,UAAU,CAACtR,CAAD,CAAV,CAAcjC,YAAd,GAA6B2E,aAA7B,CAA2C,aAA3C,CAAd;;AACA,YAAG,CAAC8O,OAAO,CAAC1V,SAAR,CAAkBqM,QAAlB,CAA2B,qBAA3B,CAAJ,EAAuD;AACnDqJ,iBAAO,CAAC1V,SAAR,CAAkBC,GAAlB,CAAsB,qBAAtB;AACH;AACJ;AACJ;;;kCAEa;AACV,WAAK4N,iBAAL;AACA,WAAKwE,SAAL,CAAerS,SAAf,CAAyB4I,MAAzB,CAAgC,qBAAhC;AACH;;;6BAEQpI,K,EAAO;AACZA,WAAK,GAAGA,KAAK,GAAG,EAAhB;AACA,WAAKmV,sBAAL,CAA4BnV,KAA5B;;AACA,UAAGA,KAAK,CAACgG,OAAN,CAAc,GAAd,KAAsB,CAAC,CAA1B,EAA6B;AACzB,aAAK6L,SAAL,CAAevR,KAAf,CAAqBN,KAArB,GAA6BA,KAA7B;AACH,OAFD,MAEO;AACH,aAAK6R,SAAL,CAAevR,KAAf,CAAqBN,KAArB,GAA6BA,KAAK,GAAC,IAAnC;AACH;;AACD,WAAK0T,uBAAL;AACH;;;8BAESzT,M,EAAQ;AACdA,YAAM,GAAGA,MAAM,GAAG,EAAlB;;AACA,UAAGA,MAAM,CAAC+F,OAAP,CAAe,GAAf,KAAuB,CAAC,CAA3B,EAA8B;AAC1B,aAAK6L,SAAL,CAAevR,KAAf,CAAqBL,MAArB,GAA8BA,MAA9B;AACH,OAFD,MAEO;AACH,aAAK4R,SAAL,CAAevR,KAAf,CAAqBL,MAArB,GAA8BA,MAAM,GAAC,IAArC;AACH;;AACD,WAAKyT,uBAAL;AACH;;;uCAEkB0B,Q,EAAU;AACzB,WAAKvD,SAAL,CAAezL,aAAf,CAA6B,sBAA7B,EAAqD9F,KAArD,CAA2D+U,UAA3D,GAAwED,QAAxE;AACH;;;6BAEQvC,K,EAAO;AACZ,WAAK3D,SAAL,GAAiB2D,KAAjB;;AACA,UAAGA,KAAK,CAAClP,MAAN,GAAe,KAAKuI,cAAvB,EAAuC;AACnC2G,aAAK,GAAGA,KAAK,CAAC9M,SAAN,CAAgB,CAAhB,EAAoB,KAAKmG,cAAL,GAAoB,CAAxC,IAA8C,KAAtD;AACH;;AACD,WAAK2G,KAAL,CAAWlR,WAAX,GAAyBkR,KAAzB;AACA,WAAKa,uBAAL;;AACA,UAAG,KAAK/K,aAAL,CAAmB0G,YAAnB,CAAgC,KAAKrD,EAArC,KAA4C,IAA/C,EAAqD;AACjD,aAAKrD,aAAL,CAAmB0G,YAAnB,CAAgC,KAAKrD,EAArC,EAAyC0F,QAAzC,CAAkDmB,KAAlD;AACH;AACJ;;;8CAEyB;AACtB,UAAI7S,KAAK,GAAG,KAAKsT,QAAL,EAAZ;AACA,UAAIgC,SAAS,GAAG,KAAK5V,MAAL,CAAY0G,aAAZ,CAA0B,sBAA1B,EAAkDgI,qBAAlD,GAA0EqF,KAA1E,GAAkF,KAAKJ,UAAL,EAAlG;AACA,UAAIkC,UAAU,GAAG,KAAKjC,QAAL,MAAmB,KAAK5T,MAAL,CAAY0G,aAAZ,CAA0B,6BAA1B,EAAyDgI,qBAAzD,GAAiFvM,IAAjF,GAAsF,KAAKwR,UAAL,EAAzG,CAAjB;AACA,UAAImC,cAAc,GAAGxV,KAAK,IAAIsV,SAAS,GAAGC,UAAhB,CAA1B;AACA,UAAIE,UAAU,GAAG3O,IAAI,CAACC,KAAL,CAAWyO,cAAc,GAAG,KAAKrG,WAAjC,CAAjB;;AACA,UAAG,KAAKD,SAAL,CAAevL,MAAf,GAAwB8R,UAA3B,EAAuC;AACnC,YAAG,KAAKvG,SAAL,CAAeuG,UAAU,GAAC,CAA1B,KAAgC,GAAnC,EAAwC;AACpC,eAAK5C,KAAL,CAAWlR,WAAX,GAAyB,KAAKuN,SAAL,CAAenJ,SAAf,CAAyB,CAAzB,EAA4B0P,UAAU,GAAC,CAAvC,IAA0C,KAAnE;AACH,SAFD,MAEO;AACH,eAAK5C,KAAL,CAAWlR,WAAX,GAAyB,KAAKuN,SAAL,CAAenJ,SAAf,CAAyB,CAAzB,EAA4B0P,UAAU,GAAC,CAAvC,IAA0C,KAAnE;AACH;AACJ,OAND,MAMO;AACH,aAAK5C,KAAL,CAAWlR,WAAX,GAAyB,KAAKuN,SAA9B;AACH;AACJ;;;kCAEazC,I,EAAM;AAChB,WAAKqG,UAAL,CAAgBvI,YAAhB,CAA6B,KAA7B,EAAoCkC,IAApC;AACA,WAAK9D,aAAL,CAAmB0G,YAAnB,CAAgC,KAAKrD,EAArC,EAAyC0J,OAAzC,CAAiDjJ,IAAjD;AACH;;;+BAEUkJ,O,EAAS;AAChB,UAAGA,OAAO,YAAYC,MAAtB,EAA8B;AAC1B,aAAKD,OAAL,GAAeA,OAAf;AACA,aAAK5C,aAAL,CAAmBjT,WAAnB,CAA+B,KAAK6V,OAApC;AACAA,eAAO,CAACvN,MAAR;AACH,OAJD,MAIO,IAAI,EAAEuN,OAAO,YAAYC,MAArB,CAAJ,EAAkC;AACrC,aAAKD,OAAL,GAAeA,OAAf;AACA,aAAK5C,aAAL,CAAmBlL,SAAnB,GAA+B,KAAK8N,OAApC;AACH;AACJ;;;+BAEUE,C,EAAG;AACV,WAAKhE,SAAL,CAAevR,KAAf,CAAqBuB,IAArB,GAA4BgU,CAAC,GAAC,IAA9B;AACH;;;+BAEUC,C,EAAG;AACV,WAAKjE,SAAL,CAAevR,KAAf,CAAqBmF,GAArB,GAA2BqQ,CAAC,GAAC,IAA7B;AACH;;;iCAEY;AACT,aAAOlS,MAAM,CAAC,KAAKiO,SAAL,CAAevR,KAAf,CAAqBuB,IAArB,CAA0BkU,KAA1B,CAAgC,IAAhC,EAAsC,CAAtC,CAAD,CAAb;AACH;;;iCAEY;AACT,aAAOnS,MAAM,CAAC,KAAKiO,SAAL,CAAevR,KAAf,CAAqBmF,GAArB,CAAyBsQ,KAAzB,CAA+B,IAA/B,EAAqC,CAArC,CAAD,CAAb;AACH;;;+BAEU;AACP,UAAG,KAAKlE,SAAL,CAAevR,KAAf,CAAqBN,KAArB,CAA2BgG,OAA3B,CAAmC,GAAnC,KAA2C,CAAC,CAA/C,EAAkD;AAC9C,eAAO1G,QAAQ,CAACc,IAAT,CAAc2D,WAAd,IAA6BH,MAAM,CAAC,KAAKiO,SAAL,CAAevR,KAAf,CAAqBN,KAArB,CAA2B+V,KAA3B,CAAiC,GAAjC,EAAsC,CAAtC,CAAD,CAAN,GAAiD,GAA9E,CAAP;AACH,OAFD,MAEO;AACH,eAAOnS,MAAM,CAAC,KAAKiO,SAAL,CAAevR,KAAf,CAAqBN,KAArB,CAA2B+V,KAA3B,CAAiC,IAAjC,EAAuC,CAAvC,CAAD,CAAb;AACH;AACJ;;;gCAEW;AACR,UAAG,KAAKlE,SAAL,CAAevR,KAAf,CAAqBL,MAArB,CAA4B+F,OAA5B,CAAoC,GAApC,KAA4C,CAAC,CAAhD,EAAmD;AAC/C,eAAO1G,QAAQ,CAACc,IAAT,CAAcC,YAAd,IAA8BuD,MAAM,CAAC,KAAKiO,SAAL,CAAevR,KAAf,CAAqBL,MAArB,CAA4B8V,KAA5B,CAAkC,GAAlC,EAAuC,CAAvC,CAAD,CAAN,GAAkD,GAAhF,CAAP;AACH,OAFD,MAEO;AACH,eAAOnS,MAAM,CAAC,KAAKiO,SAAL,CAAevR,KAAf,CAAqBL,MAArB,CAA4B8V,KAA5B,CAAkC,IAAlC,EAAwC,CAAxC,CAAD,CAAb;AACH;AACJ;;;yCAEoB;AACjB,aAAO,KAAKlE,SAAL,CAAezL,aAAf,CAA6B,sBAA7B,EAAqD9F,KAArD,CAA2D+U,UAAlE;AACH;;;+BAEU;AACP,aAAO,KAAKxC,KAAL,CAAWlR,WAAlB;AACH;;;iCAEY;AACT,aAAO,KAAKgU,OAAZ;AACH;;;uCAEkB;AACf,aAAO,KAAKvG,UAAZ;AACH;;;;;;AAGUhQ,qEAAf,E","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import Desktop from './modules/desktop';\nimport Overlay from './modules/overlay';\nimport System from './modules/system';\nimport TaskBar from './modules/task-bar';\nimport PanelMenu from './modules/panel-menu';\nimport PanelClock from './modules/panel-clock'\nimport PanelItemContextMenu from './modules/panel-item-contextmenu';\nimport PanelItem from './modules/panel-item';\nimport Panel from './modules/panel';\nimport Window from './modules/window';\n\nwindow.SimpleJSGui = new System();\n\nwindow.Desktop =  Desktop;\nwindow.Overlay =  Overlay;\nwindow.TaskBar =  TaskBar;\nwindow.PanelMenu =  PanelMenu;\nwindow.PanelClock =  PanelClock;\nwindow.PanelItemContextMenu =  PanelItemContextMenu;\nwindow.PanelItem =  PanelItem;\nwindow.Panel =  Panel;\nwindow.Window =  Window;","class Desktop {\n    constructor() {\n        this.wholeScreenObj = document.createElement(\"div\");\n        this.wholeScreenObj.classList.add(\"gui-desktop\");\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-desktop\");\n        this.DOMObj.classList.add(\"gui-desktop--only-desktop\");\n        this.snapIndicatorTop = document.createElement(\"div\");    \n        this.snapIndicatorLeft = document.createElement(\"div\");\n        this.snapIndicatorRight = document.createElement(\"div\");\n        this.snapIndicatorTop.classList.add(\"gui-desktop__window-snap-indicator-top\");\n        this.snapIndicatorLeft.classList.add(\"gui-desktop__window-snap-indicator-left\");\n        this.snapIndicatorRight.classList.add(\"gui-desktop__window-snap-indicator-right\");\n        this.DOMObj.appendChild(this.snapIndicatorTop);\n        this.DOMObj.appendChild(this.snapIndicatorLeft);\n        this.DOMObj.appendChild(this.snapIndicatorRight);\n        this.wholeScreenObj.appendChild(this.DOMObj);\n        this.currentBgrDOM = this.DOMObj;\n        this.width;\n        this.height;\n    }\n\n    getDOMObject() {\n        return this.wholeScreenObj;\n    }\n\n    getDesktopDOMObject() {\n        return this.DOMObj;\n    }\n\n    shouldBackgroundCoverWholeViewport(option) {\n        if(option == true) {\n            this.currentBgrDOM = this.wholeScreenObj;\n            var bottomValue = document.body.clientHeight-this.DOMObj.clientHeight;\n            this.snapIndicatorLeft.style.bottom = bottomValue+\"px\";\n            this.snapIndicatorRight.style.bottom = bottomValue+\"px\";\n        } else {\n            this.currentBgrDOM = this.DOMObj;\n            this.snapIndicatorLeft.style.bottom = 0;\n            this.snapIndicatorRight.style.bottom = 0;\n        }\n    }\n\n    changeBackgroundColor(newColor) {\n        this.currentBgrDOM.style.backgroundColor = newColor;\n    }\n\n    changeBackgroundImage(imageUrl) {\n        this.currentBgrDOM.style.backgroundImage = \"url('\" + imageUrl + \"')\";\n        this.currentBgrDOM.style.backgroundSize = \"cover\";\n    }\n    \n    setBackgroundSize(value) {\n        this.currentBgrDOM.style.backgroundSize = value;\n    }\n\n    setBackgroundRepeat(value) {\n        this.currentBgrDOM.style.backgroundRepeat = value;\n    }\n\n    setBackgroundPosition(a, b) {\n        this.currentBgrDOM.style.backgroundPosition = a;\n        if(b) {\n            this.currentBgrDOM.style.backgroundPosition += \" \" + b;\n        }\n    }\n}\n\nexport default Desktop;","class Overlay {\n    constructor() {\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-overlay\");\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n}\n\nexport default Overlay;","import Desktop from './desktop';\nimport Overlay from './overlay';\nimport WindowManager from './windowmanager';\n\nclass System {\n    constructor() {\n        this.started = false;\n        this.minimumLoadingTime = 250;\n        this.desktop = new Desktop();\n        this.smallScreenMsg = new Overlay();\n        this.loadingOverlay = new Overlay();\n        this.windowManager = new WindowManager();\n        document.body.appendChild(this.desktop.getDOMObject());\n        document.body.appendChild(this.smallScreenMsg.getDOMObject());\n        var overLayMessage = document.createElement(\"p\");\n        overLayMessage.textContent = \"The browser window is too small to fit the necessary SimpleJSGui components.\";\n        this.smallScreenMsg.getDOMObject().appendChild(overLayMessage);\n        document.body.appendChild(this.loadingOverlay.getDOMObject());\n        var loadingMsg = document.createElement(\"p\");\n        loadingMsg.textContent = \"Loading...\";\n        loadingMsg.style.left = \"50%\";\n        loadingMsg.style.transform = \"translate(-50%, -50%)\";\n        this.loadingOverlay.getDOMObject().appendChild(loadingMsg);\n        this.loadingOverlay.getDOMObject().style.display = \"block\";\n        \n        window.addEventListener('resize', function(event) {\n            if(this.panel) {\n                this.minimalWidth = this.panel.calculateMinimalWidth();\n                if(window.innerWidth < this.minimalWidth) {\n                    this.smallScreenMsg.getDOMObject().style.display = \"block\";\n                } else {\n                    this.smallScreenMsg.getDOMObject().style.display = \"none\";\n                }\n            }\n        }.bind(this));\n    }\n    \n    getDesktop() {\n        return this.desktop;\n    }\n\n    getWindowManager() {\n        return this.windowManager;\n    }\n\n    addAWindow(newWindow) {\n        this.windowManager.addAWindow(newWindow);\n    }\n    \n    registerPanel(newPanel) {\n        this.panel = newPanel;\n    }\n    \n    start() {\n        if(!this.started) {\n            window.setTimeout(function() {\n                var intervalId = window.setInterval(function() {\n                    if(document.readyState === \"complete\") {\n                        this.started = true;\n                        this.loadingOverlay.getDOMObject().style.display = \"none\";\n                    }\n                    window.cancelInterval(intervalId);\n                }.bind(this), 100);\n            }.bind(this), this.minimumLoadingTime);\n        }\n    }\n}\n\nexport default System;","class WindowManager {\n    constructor() {\n        this.windows = [];\n        this.windowIDS = [];\n        this.lastWindowID = 0;\n    }\n\n    generateANewWindowID() {\n        let newID = ++this.lastWindowID;\n        this.windowIDS.push(newID);\n    }\n\n    addAWindow(newWindow) {\n        newWindow.setID(this.generateANewWindowID());\n        this.windows.push(newWindow);\n    }\n\n    sortWindowsByZIndex(newTopWindowIndex) {\n        let currentWindow = this.windows[newTopWindowIndex];\n        let currentIndex = currentWindow.style.zIndex;\n        this.windows[newTopWindowIndex].style.zIndex = 0;\n        for(let i = 0; i < this.windows.length; i++) {\n            let zIndex = this.windows[i].getDOMObject().style.zIndex;\n            if(!(zIndex < currentIndex)) {\n                zIndex = Number(zIndex) - 1;\n                this.windows[i].getDOMObject().style.zIndex = zIndex;\n            }\n        }\n    }\n\n    getWindows() {\n        return this.windows;\n    }\n}\n\nexport default WindowManager;","class FreeSpaceWidget {\n    constructor(taskBar) {\n        this.taskBar = taskBar;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__free-space\");\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n    \n    getWidth() {\n        return this.DOMObj.clientWidth;\n    }\n    \n    calculateWidth(panel, leftContainer, rightContainer) {\n        let panelWidth = panel.clientWidth;\n        let leftContainerWidth = leftContainer.clientWidth;\n        let rightContainerWidth = rightContainer.clientWidth;\n        // console.log(\"panel \" + panelWidth);\n        // console.log(\"left \" + leftContainerWidth);\n        // console.log(\"right \" + rightContainerWidth);\n        let switcherWidth = 0;\n        if(this.taskBar && this.taskBar.getLineContainer() && this.taskBar.getLineSwitcher()) {\n            switcherWidth = this.taskBar.getLineSwitcher().getDOMObject().clientWidth;\n        }\n        let width = panelWidth-((leftContainerWidth-this.DOMObj.clientWidth)+rightContainerWidth);\n        // console.log(\"width is at: \" + width + \"px\");\n        if(width > 0) {\n            this.DOMObj.style.width = width+\"px\";\n        } else {\n            this.DOMObj.style.width = \"0px\";\n            \n            width = panelWidth - (rightContainerWidth + (leftContainerWidth-this.taskBar.getLineContainer().getDOMObject().clientWidth));\n            this.taskBar.getLineContainer().getDOMObject().style.width = width+\"px\";\n        }\n    }\n}\n\nclass LineSwitcher {\n    constructor(taskBar) {\n        this.taskBar = taskBar;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__line-switcher\");\n        \n        this.moveUp = document.createElement(\"img\");\n        this.moveUp.classList.add(\"gui-panel__task-bar__line-switcher__move-up\");\n        this.moveDown = document.createElement(\"img\");\n        this.moveDown.classList.add(\"gui-panel__task-bar__line-switcher__move-down\");\n        this.currentLevel = document.createElement(\"p\");\n        this.currentLevel.classList.add(\"gui-panel__task-bar__line-switcher__current-level\");\n        this.currentLevel.textContent = \"1\";\n        \n        this.moveDown.addEventListener(\"click\", function() {\n            currentLine = this.taskBar.getLineContainer().getCurrentLine();\n            // console.log(\"Going down, line is \" + currentLine);\n            if(currentLine > 0) {\n                currentLine -= 1;\n                this.taskBar.getLineContainer().switchLine(currentLine);\n                // console.log(\"Line Down! #\" + currentLine);\n            }\n        }.bind(this));\n        \n        this.moveUp.addEventListener(\"click\", function() {\n            currentLine = this.taskBar.getLineContainer().getCurrentLine();\n            // console.log(\"Going up, line is \" + currentLine + \" \" + this.taskBar.getLineContainer().getLines().length);\n            if(currentLine < this.taskBar.getLineContainer().getLines().length-1) {\n                currentLine += 1;\n                this.taskBar.getLineContainer().switchLine(currentLine);\n                // console.log(\"Line Up! #\" + currentLine);\n            }\n        }.bind(this));\n        \n        this.DOMObj.appendChild(this.moveDown);\n        this.DOMObj.appendChild(this.currentLevel);\n        this.DOMObj.appendChild(this.moveUp);\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n    \n    setCurrentLineText(text) {\n        this.currentLevel.textContent = text;\n    }\n}\n\nclass LineContainer {\n    constructor(taskBar) {\n        this.taskBar = taskBar;\n        this.lines = [];\n        this.currentLine = 0;\n        this.wrapper = document.createElement(\"div\");\n        this.wrapper.classList.add(\"gui-panel__task-bar__wrapper\");\n        \n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__wrapper__line-container\");\n        \n        this.wrapper.appendChild(this.DOMObj);\n    }\n    \n    addALine(line) {\n        this.lines.push(line);\n        this.DOMObj.appendChild(line.getDOMObject());\n    }\n    \n    empty() {\n        for(let i = 0; i < this.lines.length; i++) {\n            this.DOMObj.removeChild(this.DOMObj.firstChild);\n        }\n        \n        this.lines = [];\n    }\n    \n    getLines() {\n        return this.lines;\n    }\n    \n    getCurrentLine() {\n        return this.currentLine;\n    }\n    \n    switchLine(newLine) {\n        this.currentLine = newLine;\n        // console.log(\"currentLine is now: \" + newLine);\n        // console.log(\"Line height of first line is: \" + this.lines[0].getLineHeight());\n        // console.log(\"New top is: \" + -(newLine)*this.lines[0].getLineHeight());\n        this.taskBar.getLineSwitcher().setCurrentLineText(newLine+1);\n        this.DOMObj.style.top = -(newLine)*this.lines[0].getLineHeight()+\"px\";\n    }\n    \n    getWrapperDOM() {\n        return this.wrapper;\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n}\n\nclass Line {\n    constructor(taskBar) {\n        this.taskBar = taskBar;\n        this.items = [];\n        this.height = 0;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__wrapper__line-container__line\");\n        let height = window.getComputedStyle(this.DOMObj).getPropertyValue(\"height\");\n        this.height = Number(height.substring(0, height.indexOf(\"px\")));\n    }\n    \n    putAnItem(item) {\n        this.items.push(item);\n        this.DOMObj.appendChild(item.getItem());\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n    \n    getLineHeight() {\n        return this.height;\n    }\n}\n\nclass TaskBar {\n    constructor() {\n        this.mode = \"icons text\";\n        this.items = [];\n        this.panel = document.querySelector(\".gui-panel\");\n        this.leftContainer = document.querySelector(\".gui-panel__left-container\");\n        this.rightContainer = document.querySelector(\".gui-panel__right-container\");\n        \n        this.lineContainer = new LineContainer(this);\n        this.lineContainer.addALine(new Line(this));\n        \n        this.lineSwitcher = new LineSwitcher(this);\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar\");\n        this.DOMObj.appendChild(this.lineContainer.getWrapperDOM());\n        this.DOMObj.appendChild(this.lineSwitcher.getDOMObject());\n        this.freeSpaceWidget = new FreeSpaceWidget(this);\n        this.DOMObj.appendChild(this.freeSpaceWidget.getDOMObject());\n        this.calculateFreeSpace();\n        \n        window.addEventListener('resize', function() {\n            this.calculateFreeSpace();\n        }.bind(this));\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n    \n    getLineContainer() {\n        return this.lineContainer;\n    }\n    \n    getLineSwitcher() {\n        return this.lineSwitcher;\n    }\n    \n    addAnItem(newItem) {\n        this.items.push(newItem);\n        this.lineContainer.getLines()[0].putAnItem(newItem);\n        this.freeSpaceWidget.getDOMObject().style.width = \"0px\";\n        this.calculateFreeSpace();\n    }\n    \n    getItems() {\n        return this.items;\n    }\n    \n    rearrangeItems() {\n        if(this.items.length > 0) {\n            // console.log(\"Rearranging items...\");\n            let itemsInALine = Math.floor((this.DOMObj.clientWidth-this.lineSwitcher.getDOMObject().clientWidth) / this.items[0].getItemDefaultWidth());\n            if(itemsInALine == 0) {\n                itemsInALine = 1;\n            }\n            let numOfItems = itemsInALine;\n            let shouldEmptyLineContainer = false;\n            if(this.cachedNumOfItems != numOfItems) {\n                shouldEmptyLineContainer = true;\n            }\n            this.cachedNumOfItems = numOfItems;\n            if(this.items.length < itemsInALine) {\n                numOfItems = this.items.length;\n            }\n            // console.log(\"items: \" + numOfItems);\n            let amount = (numOfItems*this.items[0].getItemDefaultWidth());\n            this.lineContainer.getDOMObject().style.width = amount + \"px\";\n            let reduce = this.freeSpaceWidget.getDOMObject().clientWidth - amount;\n            this.freeSpaceWidget.getDOMObject().style.width = 0 + \"px\";\n            this.freeSpaceWidget.calculateWidth(this.panel, this.leftContainer, this.rightContainer);\n            // if(this.freeSpaceWidget.getWidth() <= 0) {\n            //     itemsInALine--;\n            // }\n            // console.log(\"width is at: \" + this.DOMObj.clientWidth);\n            // console.log(\"panel is at: \" + this.panel.clientWidth + \", and right is at: \" + this.rightContainer.clientWidth);\n            let numOfLines = Math.floor(this.items.length / itemsInALine);\n            if(this.items.length % itemsInALine != 0) {\n                numOfLines++;\n            }\n            \n            if(!numOfLines) {\n                numOfLines = 0;\n            }\n            \n            if(numOfLines <= 1) {\n                this.lineSwitcher.getDOMObject().style.visibility = \"hidden\";\n            } else {\n                this.lineSwitcher.getDOMObject().style.visibility = \"visible\";\n            }\n            \n            if(this.lineContainer.getCurrentLine() > numOfLines-1) {\n                this.lineContainer.switchLine(numOfLines-1);\n            }\n            \n            // console.log(\"length: \" + this.items.length);\n            // console.log(\"inaline: \" + itemsInALine);\n            // console.log(\"numOfLines: \" + numOfLines);\n            // console.log(\"lines: \" + numOfLines);\n            \n            if(shouldEmptyLineContainer) {\n                this.lineContainer.empty();\n                this.lines = this.lineContainer.getLines();\n                \n                // console.log(this.lines.length);\n                \n                for(let i = 0; i < numOfLines; i++) {\n                    this.lineContainer.addALine(new Line(this));\n                    // newLine = this.lines[this.lines.length-1];\n                }\n                \n                // console.log(this.lines.length);\n                \n                for(let i = 0, j = 0, ij = 0; i < this.items.length; i++, ij++) {\n                    if(ij >= itemsInALine) {\n                        j++;\n                        ij = 0;\n                    }\n                    // console.log(\"Line is: \" + j + \" and item is: \" + i);\n                    \n                    // console.log(this.items[i]);\n                    this.lines[j].putAnItem(this.items[i]);\n                }\n                \n                this.freeSpaceWidget.calculateWidth(this.panel, this.leftContainer, this.rightContainer);\n            }\n            \n            // console.log(\"Num of lines: \" + this.lines.length);\n            // console.log(\"Done rearranging!\");\n            // console.log(\" \");\n        }\n    }\n    \n    calculateFreeSpace() {\n        this.freeSpaceWidget.calculateWidth(this.panel, this.leftContainer, this.rightContainer);\n        this.rearrangeItems();\n        // if(this.freeSpaceWidget.getWidth() <= 0) {\n        //     this.rearrangeItems();\n        // }\n    }\n}\n\nexport default TaskBar;","class PanelMenu {\n    constructor() {\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__menu\");\n        this.DOMObj.innerHTML = '<div class=\"gui-panel__menu__icon\"></div><div class=\"gui-panel__menu__content\"><h1>Menu</h1></div>';\n        this.menuIcon = this.DOMObj.querySelector(\".gui-panel__menu__icon\");\n        this.menuContent = this.DOMObj.querySelector(\".gui-panel__menu__content\");\n\n        this.DOMObj.addEventListener('mousedown', function(event) {\n            this.menuContent.classList.toggle(\"menu-fadein\");\n        }.bind(this));\n\n        document.addEventListener('mousedown', function(event) {\n            if(event.button == 0) {\n                if(event.target != this.menuIcon && event.target != this.menuContent) {\n                    this.close();\n                }\n            }\n        }.bind(this));\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n\n    close() {\n        this.menuContent.classList.remove(\"menu-fadein\");\n    }\n\n    addAnItem(itemName, elementListener) {\n        let newElement = document.createElement(\"p\");\n        newElement.classList.add(\"gui-panel__menu__content__menu-item\");\n        newElement.textContent = itemName;\n        newElement.addEventListener('mousedown', function() {\n            elementListener();\n            this.DOMObj.classList.toggle(\"menu-fadein\");\n        }.bind(this));\n        this.menuContent.appendChild(newElement);\n\n        return this;\n    }\n\n    addASeparator() {\n        let newElement = document.createElement(\"div\");\n        newElement.classList.add(\"gui-panel__menu__content__item-separator\");\n        if(this.menuContent.length == 0) {\n            console.log(\"Didn't append the separator because the content of the menu is empty.\");\n        } else {\n            this.menuContent.appendChild(newElement);\n        }\n\n        return this;\n    }\n}\n\nexport default PanelMenu;","class PanelItemClock {\n    constructor(panelInstance) {\n        this.panelInstance = panelInstance;\n        this.time;\n        this.displayedTime = \"00:00\";\n        this.clockIntervalID;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__clock\");\n        this.DOMObj.innerHTML = \"<p>\"+this.displayedTime+\"</p><div class='gui-panel__clock__clock-widget'></div>\";\n        this.clockValue = this.DOMObj.querySelector(\"p\");\n        this.clockWidget = this.DOMObj.querySelector(\".gui-panel__clock__clock-widget\");\n        this.clockWidget.appendChild(this.createTheClockWidget());\n        this.clockWidgetDate;\n\n        this.clockValue.addEventListener('mousedown', function() {\n            this.clockWidget.classList.toggle(\"clock-widget-fadein\");\n        }.bind(this));\n\n        document.addEventListener('mousedown', function(event) {\n            if(event.button == 0) {\n                if(!this.isAClockWidget(event.target) && event.target != this.clockValue) {\n                    this.clockWidget.classList.remove(\"clock-widget-fadein\");\n                }\n            }\n        }.bind(this));\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n\n    isAClockWidget(evt_target) {\n        while(evt_target != document.body) {\n            if(evt_target == this.clockWidget) {\n                return true;\n            }\n\n            evt_target = evt_target.parentNode;\n        }\n\n        return false;\n    }\n\n    startTheClock() {\n        this.clockIntervalID = setInterval(function() {\n            this.time = new Date();\n            let hours = this.time.getHours();\n            let minutes = this.time.getMinutes();\n            if(hours < 10) {\n                hours = \"0\" + hours;\n            }\n            if(minutes < 10) {\n                minutes = \"0\" + minutes;\n            }\n            this.displayedTime = hours + \":\" + minutes;\n            this.clockValue.textContent = this.displayedTime;\n            if(this.panelInstance.taskBar) {\n                this.panelInstance.taskBar.calculateFreeSpace();\n            }\n        }.bind(this), 25);\n    }\n\n    createTheClockWidget() {\n        let tableTop = document.createElement(\"div\");\n        tableTop.classList.add(\"gui-panel__clock__clock-widget__table-top\");\n\n        let testDate = new Date();\n        let currYear = testDate.getFullYear();\n        let currMonth = testDate.getMonth();\n        let currDay = testDate.getDate();\n\n        let prevMonth = document.createElement(\"img\");\n        prevMonth.classList.add(\"gui-panel__clock__clock-widget__table-top__prevMonth\");\n        prevMonth.addEventListener('mousedown', function() {\n            currYear = this.clockWidgetDate.getFullYear();\n            currMonth = this.clockWidgetDate.getMonth();\n            this.renderMonth(currYear, currMonth-1);\n        }.bind(this));\n\n        let nextMonth = document.createElement(\"img\");\n        nextMonth.classList.add(\"gui-panel__clock__clock-widget__table-top__nextMonth\");\n        nextMonth.addEventListener('mousedown', function() {\n            currYear = this.clockWidgetDate.getFullYear();\n            currMonth = this.clockWidgetDate.getMonth();\n            this.renderMonth(currYear, currMonth+1);\n        }.bind(this));\n\n        tableTop.appendChild(prevMonth);\n\n        this.monthTextSpan = document.createElement(\"span\");\n        this.monthTextSpan.setAttribute('id', 'clock-widget-month-name');\n\n        tableTop.appendChild(this.monthTextSpan);\n        tableTop.appendChild(nextMonth);\n        this.clockContent = document.createElement(\"div\");\n        this.clockContent.appendChild(tableTop);\n        this.table = document.createElement(\"table\");\n        this.table.setAttribute('border', 1);\n        this.table.setAttribute('id', 'clock-widget-table');\n        this.clockContent.appendChild(this.table);\n\n        this.renderMonth(currYear, currMonth, currDay);\n\n        return this.clockContent;\n    }\n\n    renderMonth(year, month) {\n        let currDate = new Date();\n        let isCurrentMonth = (month == currDate.getMonth()) && (year == currDate.getFullYear());\n        if(!isCurrentMonth) {\n            currDate = new Date(year, month);\n        }\n\n        this.clockWidgetDate = currDate;\n\n        let currYear = currDate.getFullYear();\n        let currMonth = currDate.getMonth();\n        let currDay, currDayOfWeek;\n        if(isCurrentMonth) {\n            currDay = currDate.getDate();\n            currDayOfWeek = currDate.getDay();\n        }\n        let dayOfWeekOfTheFirstDay = (new Date(year, month, 0).getDay())+1;\n        let daysInTheMonth = this.daysInTheMonth(year, month);\n        let daysInThePreviousMonth = this.daysInTheMonth(year, (month-1));\n\n        let monthInText = \"\";\n\n        switch(currMonth+1) {\n            case 1: monthInText = \"January\"; break;\n            case 2: monthInText = \"February\"; break;\n            case 3: monthInText = \"March\"; break;\n            case 4: monthInText = \"April\"; break;\n            case 5: monthInText = \"May\"; break;\n            case 6: monthInText = \"June\"; break;\n            case 7: monthInText = \"July\"; break;\n            case 8: monthInText = \"August\"; break;\n            case 9: monthInText = \"September\"; break;\n            case 10: monthInText = \"October\"; break;\n            case 11: monthInText = \"November\"; break;\n            case 12: monthInText = \"December\"; break;\n        }\n\n        this.monthTextSpan.textContent = monthInText;\n\n        this.table.innerHTML = \"<thead><tr><td>Mon</td><td>Tue</td><td>Wed</td><td>Thu</td><td>Fri</td><td>Sat</td><td>Sun</td></tr></thead>\";\n        \n        let data = \"\";\n\n        let isInPreviousMonth = true;\n        let dayValue;\n        if(dayOfWeekOfTheFirstDay == 1) {\n            dayValue = 1;\n            isInPreviousMonth = false;\n        } else {\n            dayValue = daysInThePreviousMonth-(dayOfWeekOfTheFirstDay-2);\n        }\n\n        for(let i = 0, index = 0, isInNextMonth = false; i < 6; i++) {\n            let row = document.createElement(\"tr\");\n            for(let j = 0; j < 7; j++, index++) {\n                let data = document.createElement(\"td\");\n                data.classList.add(\"table-data\" + index);\n                data.textContent = dayValue;\n                if(isCurrentMonth && (dayValue == currDay) && (!isInPreviousMonth && !isInNextMonth)) {\n                    data.classList.add(\"today\");\n                }\n                if(isInPreviousMonth || isInNextMonth) {\n                    data.classList.add(\"not-this-month\");\n                }\n                row.appendChild(data);\n                dayValue++;\n                if(isInPreviousMonth) {\n                    if(dayValue > daysInThePreviousMonth) {\n                        dayValue = 1;\n                        isInPreviousMonth = false;\n                    }\n                } else {\n                    if(dayValue > daysInTheMonth) {\n                        dayValue = 1;\n                        isInNextMonth = true;\n                    }\n                }\n            }\n            this.table.appendChild(row);\n        }\n    }\n\n    daysInTheMonth(year, month) {\n        let num = 0;\n\n        if(month < 0) {\n            year--;\n            let month = 11;\n        } else if(month > 11) {\n            year++;\n            let month = 0;\n        }\n\n        while(true) {\n            let testDate = new Date(year, month, (num+1));\n\n            if(testDate.getMonth() != month) {\n                break;\n            }\n\n            num++;\n        }\n\n        return num;\n    }\n}\n\nexport default PanelItemClock;","class PanelItemContextMenu {\n    constructor(panelItem) {\n        this.panelITem = panelItem;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__item__context-menu\");\n        this.DOMObj.innerHTML = '<div class=\"gui-panel__task-bar__item__context-menu__content\"></div>';\n        this.menuContent = this.DOMObj.querySelector(\".gui-panel__task-bar__item__context-menu__content\");\n\n        document.addEventListener('mousedown', function(event) {\n            if(event.button == 0) {\n                if(!event.target.classList.contains(\"gui-panel__task-bar__item\")) {\n                    this.DOMObj.classList.remove(\"context-menu-fadein\");\n                }\n            }\n        }.bind(this));\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n\n    setBottomY(newY) {\n        this.DOMObj.style.bottom = newY+\"px\";\n    }\n\n    addAnItem(itemName, elementListener) {\n        let newElement = document.createElement(\"p\");\n        newElement.classList.add(\"gui-panel__task-bar__item__context-menu__content__menu-item\");\n        newElement.textContent = itemName;\n        newElement.addEventListener('mousedown', function() {\n            elementListener();\n            this.DOMObj.classList.toggle(\"context-menu-fadein\");\n        }.bind(this));\n        if(this.menuContent.length == 0) {\n            this.menuContent.appendChild(newElement);\n        } else {\n            this.menuContent.insertBefore(newElement, this.menuContent.querySelector(\"*\"));\n        }\n\n        return this;\n    }\n\n    addASeparator() {\n        let newElement = document.createElement(\"div\");\n        newElement.classList.add(\"gui-panel__task-bar__item__context-menu__content__item-separator\");\n        if(this.menuContent.length == 0) {\n            console.log(\"Didn't append the separator because the content of the menu is empty.\");\n        } else {\n            this.menuContent.insertBefore(newElement, this.menuContent.querySelector(\"p\"));\n        }\n\n        return this;\n    }\n}\n\nexport default PanelItemContextMenu;","import PanelItemContextMenu from './panel-item-contextmenu';\n\nclass PanelItem {\n    constructor(id, itemName) {\n        this.itemWidth = 0;\n        this.id = id;\n        this.maxTitleLength = 25;\n        this.withText = true;\n        this.itemName = itemName;\n        this.contextMenu = new PanelItemContextMenu(this);\n        this.item = document.createElement(\"div\");\n        this.item.classList.add(\"gui-panel__task-bar__item\");\n        this.nameObj = document.createElement(\"p\");\n        if(this.itemName.length > this.maxTitleLength) {\n            this.itemName = this.itemName.substring(0, (this.maxTitleLength-3)) + \"...\";\n        }\n        this.nameObj.textContent = this.itemName;\n        this.itemIcon = document.createElement(\"img\");\n        this.itemIcon.classList.add(\"gui-panel__task-bar__item__icon\");\n        this.item.appendChild(this.itemIcon);\n        this.item.appendChild(this.nameObj);\n        this.item.appendChild(this.contextMenu.getDOMObject());\n        this.changeMode();\n    }\n\n    getItem() {\n        return this.item;\n    }\n    getName() {\n        return this.itemName;\n    }\n    getId() {\n        return this.id;\n    }\n    getItem() {\n        return this.item;\n    }\n    getItemDefaultWidth() {\n        var width = window.getComputedStyle(this.item).getPropertyValue(\"width\");\n        var value = width;\n        value = value.substring(0, value.indexOf(\"px\"));\n\n        return Number(value);\n    }\n\n    getDOMObject() {\n        return this.item;\n    }\n\n    getContextMenu() {\n        return this.contextMenu;\n    }\n\n    getTitleObj() {\n        return this.nameObj;\n    }\n\n    setTitle(newtitle) {\n        this.itemName = newtitle;\n        if(this.itemName.length > this.maxTitleLength) {\n            this.itemName = this.itemName.substring(0, (this.maxTitleLength-3)) + \"...\";\n        }\n        this.nameObj.textContent = this.itemName;\n    }\n\n    setIcon(path) {\n        this.itemIcon.setAttribute(\"src\", path);\n        // console.log(\"actual width: \" +  this.itemIcon.clientWidth);\n    }\n\n    changeMode() {\n        if(!this.withText) {\n            this.nameObj.style.display = \"none\";\n            this.item.classList.add(\"gui-panel__task-bar__item--without-text\")\n            // iconWidth = window.getComputedStyle(this.itemIcon).getPropertyValue(\"width\");\n            // iconWidth = Number(iconWidth.substring(0, iconWidth.indexOf(\"px\")));\n            // console.log(iconWidth);\n            // sidesMargin = window.getComputedStyle(this.itemIcon).getPropertyValue(\"margin-left\");\n            // sidesMargin = Number(sidesMargin.substring(0, sidesMargin.indexOf(\"px\")))*2;\n            // console.log(sidesMargin);\n            // totalWidth = iconWidth + sidesMargin;\n            // console.log(\"width: \" + totalWidth);\n            // this.item.style.width = totalWidth+\"px\";\n        }\n    }\n}\n\nexport default PanelItem;","import PanelMenu from './panel-menu';\nimport PanelItemClock from './panel-clock';\nimport TaskBar from './task-bar';\n     \n     class Panel {\n            constructor() {\n            this.windows = [];\n            this.windowsStatus = new Map();\n            this.leftContainer = document.createElement(\"div\");\n            this.leftContainer.classList.add(\"gui-panel__left-container\");\n            this.rightContainer = document.createElement(\"div\");\n            this.rightContainer.classList.add(\"gui-panel__right-container\");\n            this.panelMenu = new PanelMenu();\n            this.panelMenu.addAnItem(\"Test #1\", () => console.log(\"test 1\")).addASeparator().addAnItem(\"Test #2\", () => console.log(\"test 2\"));\n            this.panelClock = new PanelItemClock(this);\n            this.desktop = SimpleJSGui.getDesktop();\n            this.DOMObj = document.createElement(\"div\");\n            this.DOMObj.classList.add(\"gui-panel\");\n            this.DOMObj.id = \"panelInstance1\";\n            this.panelInstance = this.DOMObj.id;\n            this.leftContainer.appendChild(this.panelMenu.getDOMObject());\n            this.rightContainer.appendChild(this.panelClock.getDOMObject());\n            this.DOMObj.appendChild(this.leftContainer);\n            this.DOMObj.appendChild(this.rightContainer);\n            this.panelClock.startTheClock();\n            document.body.appendChild(this.DOMObj);\n            this.taskBar = new TaskBar();\n            this.leftContainer.appendChild(this.taskBar.getDOMObject());\n            SimpleJSGui.registerPanel(this);\n\n            document.addEventListener('mousedown', function(event) {\n                if(event.button == 0 && this.windows.length > 0) {\n                    let element = event.target;\n                    let isAChild = false;\n                    do {\n                        if(element.classList && element.classList.contains(\"gui-window\")) {\n                            isAChild = true;\n                            break;\n                        }\n                        element = element.parentNode;\n                    } while(element);\n                    if(!isAChild) {\n                        this.windows[0].unfocusAllWindows();\n                    }\n                }\n            }.bind(this));\n        }\n\n        addAWindow(newWindow) {\n            this.windows.push(newWindow);\n            this.windowsStatus.set(newWindow.getId(), \"active\");\n            this.taskBar.addAnItem(new PanelItem(newWindow.getId(), newWindow.getTitle()));\n            let node = this.taskBar.getItems()[this.taskBar.getItems().length-1];\n            let nodeElem = node.getDOMObject();\n            nodeElem.classList.add(\"gui-panel__task-bar__item--active\");\n            nodeElem.addEventListener('click', function(event) {\n                let status = this.windowsStatus.get(newWindow.getId());\n                if(status == \"active\") {\n                    this.windowAction(\"minimize\", newWindow.getId());\n                    let contextMenu = nodeElem.querySelector(\".gui-panel__task-bar__item__context-menu\");\n                    if(contextMenu.style.display == \"inline-block\") {\n                        contextMenu.style.display = \"none\";\n                    }\n                } else if(status == \"unactive\") {\n                    this.windowAction(\"maximize\", newWindow.getId());\n                    let contextMenu = nodeElem.querySelector(\".gui-panel__task-bar__item__context-menu\");\n                    if(contextMenu.style.display == \"inline-block\") {\n                        contextMenu.style.display = \"none\";\n                    }\n                }\n            }.bind(this));\n            nodeElem.addEventListener('contextmenu', function(event) {\n                event.preventDefault();\n                let contextMenu = nodeElem.querySelector(\".gui-panel__task-bar__item__context-menu\");\n                let items = this.taskBar.getItems();\n                for(let i = 0; i < items.length; i++) {\n                    if(items[i].getId() != newWindow.getId()) {\n                        let anItem = items[i].getDOMObject().querySelector(\".gui-panel__task-bar__item__context-menu\");\n                        if(anItem.classList.contains(\"context-menu-fadein\")) {\n                            anItem.classList.remove(\"context-menu-fadein\");\n                        }\n                    }\n                }\n                this.panelMenu.close();\n                // if(contextMenu.style.display == \"none\") {\n                //     contextMenu.style.display = \"block\";\n                //     contextMenu.classList.add(\"context-menu-fadein\");\n                // } else {\n                //     contextMenu.classList.remove(\"context-menu-fadein\");\n                //     contextMenu.style.display = \"none\";\n                node.getContextMenu().setBottomY((window.innerHeight-this.DOMObj.getBoundingClientRect().top));\n                contextMenu.classList.toggle(\"context-menu-fadein\");\n                let status = this.windowsStatus.get(newWindow.getId());\n                if(status == \"unactive\") {\n                    this.windowAction(\"minimize\", newWindow.getId());\n                }\n                return false;\n            }.bind(this), false);\n            if(newWindow.isWindowPinnable()) {\n                let items = this.taskBar.getItems();\n                items[items.length-1].getContextMenu().addAnItem(\"Pin this app\", function() {}).addASeparator();\n            }\n            document.body.appendChild(newWindow.getDOMObject());\n            newWindow.focusWindow();\n        }\n        selectInstance(instanceId) {\n            this.panelInstance = instanceId;\n        }\n    \n        windowAction(actionToDo, id) {\n            if(actionToDo == \"minimize\") {\n                let status = this.windowsStatus.get(id);\n                if(status == \"active\") {\n                    let windowId = this.getWindowOrderNumberById(id);\n                    let node = document.getElementsByClassName(\"gui-panel__task-bar__item\")[windowId];\n                    this.windowsStatus.set(id, \"unactive\");\n                    node.classList.remove(\"gui-panel__task-bar__item--active\");\n                    document.getElementById(this.windows[windowId].getId()).style.display = \"none\";\n                } else if(status == \"unactive\") {\n                    let windowId = this.getWindowOrderNumberById(id);\n                    let node = document.getElementsByClassName(\"gui-panel__task-bar__item\")[windowId];\n                    this.windowsStatus.set(id, \"active\");\n                    node.classList.add(\"gui-panel__task-bar__item--active\");\n                    document.getElementById(this.windows[windowId].getId()).style.display = \"block\";\n                }\n            } else if(actionToDo == \"maximize\") {\n                let windowId = this.getWindowOrderNumberById(id);\n                let node = document.getElementsByClassName(\"gui-panel__task-bar__item\")[windowId];\n                this.windowsStatus.set(id, \"active\");\n                node.classList.add(\"gui-panel__task-bar__item--active\");\n                this.windows[windowId].focusWindow();\n                document.getElementById(this.windows[windowId].getId()).style.display = \"block\";\n            } else if(actionToDo == \"close\") {\n                let windowId = this.getWindowOrderNumberById(id);\n                let windownode = document.getElementsByClassName(\"gui-window\")[windowId];\n                let itemnode = document.getElementsByClassName(\"gui-panel__task-bar__item\")[windowId];\n                windownode.remove();\n                itemnode.remove();\n                this.windows.splice(windowId, 1);\n                this.windowsStatus.delete(windowId);\n                this.taskBar.getItems().splice(windowId, 1);\n            }\n        }\n\n        getWindows() {\n            return this.windows;\n        }\n\n        getWindowOrderNumberById(id) {\n            for(let i = 0; i < this.windows.length; i++) {\n                if(this.windows[i].getId() == id) {\n                    return i;\n                }\n            }\n        }\n    \n        getPanelItem(windowId) {\n            let items = this.taskBar.getItems();\n            for(let i = 0; i < items.length; i++) {\n                if(items[i].getId() == windowId) {\n                    return items[i];\n                }\n            }\n            return null;\n        }\n\n        calculateMinimalWidth() {\n            let dummyPanelItem = new PanelItem(\"DUMMY_ID\", \"DummyText\");\n            return this.panelMenu.getDOMObject().clientWidth+2 + dummyPanelItem.getItemDefaultWidth() + this.taskBar.getLineSwitcher().getDOMObject().clientWidth + this.rightContainer.clientWidth;\n        }\n    }\n\n    export default Panel;","class Window {\n    constructor(panelInstance, windowId) {\n        this.maxTitleLength = 3000;\n        this.titleText;\n        this.remInPixels;\n        this.DOMObj;\n\n        this.panelInstance = panelInstance;\n        this.isPinnable = true;\n\n        this.panelItem = panelInstance.getPanelItem(this.id);\n\n        this.isBeingDragged = false;\n        this.cachedX = 0;\n        this.cachedY = 0;\n        \n        this.isBeingResized = false;\n        this.minWidth = 350;\n        this.minHeight = 400;\n        this.isResizingNW = false;\n        this.isResizingNE = false;\n        this.isResizingSW = false;\n        this.isResizingSE = false;\n        this.isResizingN = false;\n        this.isResizingS = false;\n        this.isResizingW = false;\n        this.isResizingE = false;\n        this.cachedResizeX = 0;\n        this.cachedResizeY = 0;\n        this.resizeListenerFullHD;\n        this.resizeListenerHD;\n        this.resizeListenerVGA;\n        this.resizeListenerQVGA;\n        this.wasListenerFullHDCalled = false;\n        this.wasListenerHDCalled = false;\n        this.wasListenerVGACalled = false;\n        this.wasListenerQVGACalled = false;\n        \n        this.isMaximized = false;\n        this.cachedXBeforeMax;\n        this.cachedYBeforeMax;\n        this.cachedWidth = 0;\n        this.cachedHeight = 0;\n        this.isSnapped = false;\n        this.snapEffectsToggled = false;\n        this.cachedXBeforeSnap;\n        this.isAtTop;\n        this.isAtLeft;\n        this.isAtRight;\n        this.createDOMObject();\n        this.setTitle(\"M\");\n        this.remInPixels = parseInt(getComputedStyle(this.DOMObj).fontSize);\n        this.setTitle(\"Window Title\");\n        this.guiWindow.style.top = \"50px\";\n        this.guiWindow.style.left = \"300px\";\n        this.setWidth(350);\n        this.setHeight(400);\n        this.registerEvents();\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n\n    setID(newID) {\n        this.id = newID;\n    }\n\n    getID() {\n        return this.id;\n    }\n    \n    getPanelItem() {\n        return this.panelInstance.getPanelItem(this.id);\n    }\n    \n    createDOMObject() {\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.id = this.id;\n        this.DOMObj.innerHTML =  '<div class=\"gui-window\">'\n        +'<div id=\"nw-resize\"></div>'+'<div id=\"ne-resize\"></div>'+'<div id=\"sw-resize\"></div>'+'<div id=\"se-resize\"></div>'+'<div id=\"n-resize\"></div>'+'<div id=\"s-resize\"></div>'+'<div id=\"w-resize\"></div>'+'<div id=\"e-resize\"></div>'\n        +'<div class=\"gui-window__titlebar\">'\n        +'<div class=\"gui-window__titlebar__buttons\"><a class=\"window-btn window-btn-close\" href=\"#\"></a><a class=\"window-btn window-btn-minimize\" href=\"#\"></a><a class=\"window-btn window-btn-maximize\" href=\"#\"></a></div><div class=\"gui-window__titlebar__title\">Window Title</div><img class=\"gui-window__titlebar__icon\"></img>'\n        +'</div>'\n        +'<div class=\"gui-window__content\">Window content.</div>'\n        +'</div>';\n        this.guiWindow = this.DOMObj.querySelector(\".gui-window\");\n        this.nwResize = this.DOMObj.querySelector(\"#nw-resize\");\n        this.neResize = this.DOMObj.querySelector(\"#ne-resize\");\n        this.swResize = this.DOMObj.querySelector(\"#sw-resize\");\n        this.seResize = this.DOMObj.querySelector(\"#se-resize\");\n        this.nResize = this.DOMObj.querySelector(\"#n-resize\");\n        this.sResize = this.DOMObj.querySelector(\"#s-resize\");\n        this.wResize = this.DOMObj.querySelector(\"#w-resize\");\n        this.eResize = this.DOMObj.querySelector(\"#e-resize\");\n        this.titleBar = this.DOMObj.querySelector(\".gui-window__titlebar\");\n        this.close = this.DOMObj.getElementsByClassName(\"window-btn-close\")[0];\n        this.min = this.DOMObj.getElementsByClassName(\"window-btn-minimize\")[0];\n        this.max = this.DOMObj.getElementsByClassName(\"window-btn-maximize\")[0];\n        this.icon = this.DOMObj.querySelector(\".gui-window__titlebar__icon\");\n        this.title = this.DOMObj.querySelector(\".gui-window__titlebar__title\");\n        this.windowIcon = this.DOMObj.querySelector(\".gui-window__titlebar__icon\");\n        this.windowContent = this.DOMObj.querySelector(\".gui-window__content\");\n    }\n    \n    registerEvents() {\n        this.close.addEventListener('click', function() {\n            this.panelInstance.windowAction(\"close\", this.id);\n        }.bind(this));\n        \n        this.min.addEventListener('click', function() {\n            this.panelInstance.windowAction(\"minimize\", this.id);\n        }.bind(this));\n        \n        this.max.addEventListener('click', function() {\n            // let content = this.guiWindow.getElementsByClassName(\"gui-window__content\")[0];\n            // if(content.style.display == \"none\") {\n            //     content.style.display = \"block\";\n            // } else {\n            //     content.style.display = \"none\";\n            // }\n            this.maximizeWindow();\n        }.bind(this));\n        \n        this.nwResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingNW = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.neResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingNE = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.swResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingSW = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.seResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingSE = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n\n        this.nResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingN = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.sResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingS = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.wResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingW = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.eResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingE = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        document.addEventListener('mouseup', function(event) {\n            if(this.isBeingResized) {\n                this.isBeingResized = false;\n                this.isResizingNW = false;\n                this.isResizingNE = false;\n                this.isResizingSW = false;\n                this.isResizingSE = false;\n                this.isResizingN = false;\n                this.isResizingS = false;\n                this.isResizingW = false;\n                this.isResizingE = false;\n            }\n        }.bind(this));\n        \n        document.addEventListener('mousemove', function(event) {\n            if(this.isBeingResized) {\n                if(this.isResizingNW) {\n                    let change = this.cachedResizeX-event.clientX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.left = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.left = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n                    change = this.cachedResizeY-event.clientY;\n                    changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.top = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.top = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n                    \n                    this.cachedResizeX = event.clientX;\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingNE) {\n                    let change = event.clientX-this.cachedResizeX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.right = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.right = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n                    change = this.cachedResizeY-event.clientY;\n                    changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.top = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.top = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n                    \n                    this.cachedResizeX = event.clientX;\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingSW) {\n                    let change = this.cachedResizeX-event.clientX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.left = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.left = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n                    change = event.clientY-this.cachedResizeY;\n                    changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.bottom = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.bottom = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n                    \n                    this.cachedResizeX = event.clientX;\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingSE) {\n                    let change = event.clientX-this.cachedResizeX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.right = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.right = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n                    change = event.clientY-this.cachedResizeY;\n                    changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.bottom = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.bottom = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n                    \n                    this.cachedResizeX = event.clientX;\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingN) {\n                    let change = this.cachedResizeY-event.clientY;\n                    let changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.top = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.top = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingS) {\n                    let change = event.clientY-this.cachedResizeY;\n                    let changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.bottom = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.bottom = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingW) {\n                    let change = this.cachedResizeX-event.clientX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.left = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.left = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n\n                    this.cachedResizeX = event.clientX;\n                } else if(this.isResizingE) {\n                    let change = event.clientX-this.cachedResizeX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.right = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.right = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n\n                    this.cachedResizeX = event.clientX;\n                }\n                \n                this.calculateNewTitleLimits();\n            }\n        }.bind(this));\n        \n        this.guiWindow.addEventListener('mousedown', function(event) {\n            if(event.button == 0) {\n                this.focusWindow();\n            }\n        }.bind(this));\n        \n        this.titleBar.addEventListener('mousedown', function(event) {\n            this.isBeingDragged = true;\n            this.cachedX = event.clientX;\n            this.cachedY = event.clientY;\n            if(!this.guiWindow.classList.contains(\"window-effect-transparency\")) {\n                this.guiWindow.classList.add(\"window-effect-transparency\");\n            }\n        }.bind(this));\n\n        this.titleBar.addEventListener('dblclick', function(event) {\n            this.maximizeWindow();\n        }.bind(this));\n\n        document.addEventListener('mouseup', function(event) {\n            if(this.isBeingDragged) {\n                this.isBeingDragged = false;\n                if(!this.isMaximized && (this.isAtTop || this.isAtLeft || this.isAtRight)) {\n                    this.snapWindow();\n                }\n                this.guiWindow.classList.remove(\"window-effect-transparency\");\n            }\n        }.bind(this));\n        \n        document.addEventListener('mousemove', function(event) {\n            if(this.isBeingDragged) {\n                let coord = this.guiWindow.getBoundingClientRect();\n                let resizeChangeHorizontal = (((event.clientX)-this.cachedX)+coord.left);\n                let resizeChangeVertical = (((event.clientY)-this.cachedY)+coord.top);\n                this.guiWindow.style.left = resizeChangeHorizontal+\"px\";\n                this.guiWindow.style.top = resizeChangeVertical+\"px\";\n                coord = this.guiWindow.getBoundingClientRect();\n                if(coord.top < 0) {\n                    this.guiWindow.style.top = 0+\"px\";\n                    this.cachedX = event.clientX;\n                    this.setWindowY(0);\n                } else {\n                    this.cachedX = event.clientX;\n                    this.cachedY = event.clientY;\n                }\n                this.checkForEnterCorners(event);\n                this.checkForLeaveCorners(event);\n            }\n        }.bind(this));\n    }\n    \n    checkForEnterCorners(event) {\n        if(!this.isAtTop && this.getWindowY() <= 0) {\n            if(this.getWindowX() > 10 && ((this.getWindowX() + this.getWidth()) < (document.body.clientWidth-10))) {\n                this.isAtTop = true;\n                this.toggleWindowSnapVisualEffects(\"top\");\n            }\n        }\n        if(!this.isMaximized) {\n            if(!this.isAtLeft && this.getWindowX() < 10) {\n                this.isAtLeft = true;\n                this.toggleWindowSnapVisualEffects(\"left\");\n            }\n            if(!this.isAtRight && (this.getWindowX() + this.getWidth()) > (document.body.clientWidth-10)) {\n                this.isAtRight = true;\n                this.toggleWindowSnapVisualEffects(\"right\");\n            }\n        }\n    }\n    \n    checkForLeaveCorners() {\n        if(this.isAtTop) {\n            if(this.getWindowY() >= 10 || this.getWindowX() < 10 || ((this.getWindowX() + this.getWidth()) > (document.body.clientWidth-10))) {\n                this.isAtTop = false;\n                this.leaveCornerAction(\"top\");\n            }\n        }\n        if(this.isAtLeft) {\n            if(this.getWindowX() > 10) {\n                this.isAtLeft = false;\n                this.leaveCornerAction(\"left\");\n            }\n        }\n        if(this.isAtRight) {\n            if((this.getWindowX() + this.getWidth()) < (document.body.clientWidth-10)) {\n                this.isAtRight = false;\n                this.leaveCornerAction(\"right\");\n            }\n        }\n    }\n\n    leaveCornerAction(indicator) {\n        if(this.isSnapped) {\n            this.snapWindow();\n        }\n        \n        if(this.snapEffectsToggled) {\n            this.toggleWindowSnapVisualEffects(indicator);\n        }\n    }\n    \n    toggleWindowSnapVisualEffects(indicator) {\n        let desktop = SimpleJSGui.getDesktop().getDOMObject();\n        let visualEffectTop = desktop.querySelector(\".gui-desktop__window-snap-indicator-top\");\n        let visualEffectLeft = desktop.querySelector(\".gui-desktop__window-snap-indicator-left\");\n        let visualEffectRight = desktop.querySelector(\".gui-desktop__window-snap-indicator-right\");\n\n        if(indicator == \"top\") {\n            visualEffectTop.classList.toggle(\"window-snap-indicator-fade-in\");\n        }\n        if(indicator == \"left\") {\n            visualEffectLeft.classList.toggle(\"window-snap-indicator-fade-in\");\n        }\n        if(indicator == \"right\") {\n            visualEffectRight.classList.toggle(\"window-snap-indicator-fade-in\");\n        }\n        \n        let checkTop = visualEffectTop.classList.contains(\"window-snap-indicator-fade-in\");\n        let checkLeft = visualEffectLeft.classList.contains(\"window-snap-indicator-fade-in\");\n        let checkRight = visualEffectRight.classList.contains(\"window-snap-indicator-fade-in\");\n\n        if(checkTop || checkLeft || checkRight) {\n            this.snapEffectsToggled = true;\n        } else {\n            this.snapEffectsToggled = false;\n        }\n    }\n    \n    snapWindow() {\n        if(!this.isSnapped) {\n            if(this.isAtTop && !this.isMaximized) {\n                this.maximizeWindow();\n                this.toggleWindowSnapVisualEffects(\"top\");\n                this.isSnapped = true;\n            } else if(this.isAtLeft) {\n                this.cachedWidth = this.getWidth();\n                this.cachedHeight = this.getHeight();\n                this.cachedXBeforeSnap = 0;\n                this.guiWindow.style.left = \"0px\";\n                this.guiWindow.style.top = \"0px\";\n                this.setWidth(\"50%\");\n                this.setHeight(SimpleJSGui.getDesktop().getDesktopDOMObject().clientHeight);\n                this.toggleWindowSnapVisualEffects(\"left\");\n            } else if(this.isAtRight) {\n                this.cachedWidth = this.getWidth();\n                this.cachedHeight = this.getHeight();\n                this.cachedXBeforeSnap = document.body.clientWidth-this.getWidth();\n                this.setWidth(\"50%\");\n                this.setHeight(SimpleJSGui.getDesktop().getDesktopDOMObject().clientHeight);\n                let temp = (document.body.clientWidth - this.getWidth());\n                this.guiWindow.style.left = temp + \"px\";\n                this.guiWindow.style.top = \"0px\";\n                this.toggleWindowSnapVisualEffects(\"right\");\n            }\n            if((this.isAtTop && !this.isMaximized) || this.isAtLeft || this.isAtRight) {\n                this.isSnapped = true;\n            }\n        } else {\n            if(!this.isAtTop && this.isMaximized) {\n                this.maximizeWindow();\n            } else if(!this.isAtLeft || !this.isAtRight) {\n                this.setWidth(this.cachedWidth);\n                this.setHeight(this.cachedHeight);\n                this.setWindowX(this.cachedXBeforeSnap);\n            }\n            this.isSnapped = false;\n        }\n    }\n    \n    maximizeWindow() {\n        if(this.isMaximized) {\n            this.isMaximized = false;\n            this.isSnapped = false;\n            this.isAtTop = false;\n            this.setWindowX(this.cachedXBeforeMax);\n            if(!this.isBeingDragged) {\n                this.setWindowY(this.cachedYBeforeMax);\n            }\n            this.setWidth(this.cachedWidth);\n            this.setHeight(this.cachedHeight);\n        } else {\n            this.cachedXBeforeMax = this.getWindowX();\n            this.cachedYBeforeMax = this.getWindowY();\n            this.cachedWidth = this.getWidth();\n            this.cachedHeight = this.getHeight();\n            this.guiWindow.style.left = \"0\";\n            this.guiWindow.style.top = \"0\";\n            this.setWidth(\"100%\");\n            this.setHeight(SimpleJSGui.getDesktop().getDesktopDOMObject().clientHeight);\n            this.isMaximized = true;\n            this.isSnapped = true;\n            this.isAtTop = true;\n        }\n    }\n\n    setResizeListenerFullHD(newListener) {\n        this.resizeListenerFullHD = newListener;\n    }\n\n    setResizeListenerHD(newListener) {\n        this.resizeListenerHD = newListener;\n    }\n\n    setResizeListenerVGA(newListener) {\n        this.resizeListenerVGA = newListener;\n    }\n\n    setResizeListenerQVGA(newListener) {\n        this.resizeListenerQVGA = newListener;\n    }\n    \n    removeDimensionFlags() {\n        this.guiWindow.classList.remove(\"gui-window--size-fullhd\");\n        this.guiWindow.classList.remove(\"gui-window--size-hd\");\n        this.guiWindow.classList.remove(\"gui-window--size-vga\");\n        this.guiWindow.classList.remove(\"gui-window--size-qvga\");\n    }\n    \n    applyNewDimensionFlags(width) {\n        if(width.indexOf(\"%\") != -1) {\n            width = width.substring(0, width.length-1);\n            width = window.innerWidth * (width/100);\n        }\n        this.removeDimensionFlags();\n        if(width >= 1920) {\n            if(this.resizeListenerFullHD && !this.wasListenerFullHDCalled) {\n                this.resizeListenerFullHD();\n                this.wasListenerFullHDCalled = true;\n                this.wasListenerHDCalled = false;\n                this.wasListenerVGACalled = false;\n                this.wasListenerQVGACalled = false;\n            }\n            this.guiWindow.classList.add(\"gui-window--size-fullhd\");\n        } else if(width >= 1280) {\n            if(this.resizeListenerHD && !this.wasListenerHDCalled) {\n                this.resizeListenerHD();\n                this.wasListenerHDCalled = true;\n                this.wasListenerFullHDCalled = false;\n                this.wasListenerVGACalled = false;\n                this.wasListenerQVGACalled = false;\n            }\n            this.guiWindow.classList.add(\"gui-window--size-hd\");\n        } else if(width >= 640) {\n            if(this.resizeListenerVGA && !this.wasListenerVGACalled) {\n                this.resizeListenerVGA();\n                this.wasListenerVGACalled = true;\n                this.wasListenerFullHDCalled = false;\n                this.wasListenerHDCalled = false;\n                this.wasListenerQVGACalled = false;\n            }\n            this.guiWindow.classList.add(\"gui-window--size-vga\");\n        } else if(width < 640) {\n            if(this.resizeListenerQVGA && !this.wasListenerQVGACalled) {\n                this.resizeListenerQVGA();\n                this.wasListenerQVGACalled = true;\n                this.wasListenerFullHDCalled = false;\n                this.wasListenerHDCalled = false;\n                this.wasListenerVGACalled = false;\n            }\n            this.guiWindow.classList.add(\"gui-window--size-qvga\");\n        }\n    }\n    \n    unfocusAllWindows() {\n        let allWindows = this.panelInstance.getWindows();\n        for(let i = 0; i < allWindows.length; i++) {\n            let aWindow = allWindows[i].getDOMObject().querySelector(\".gui-window\");\n            if(!aWindow.classList.contains(\"window-effect-shade\")) {\n                aWindow.classList.add(\"window-effect-shade\");\n            }\n        }\n    }\n    \n    focusWindow() {\n        this.unfocusAllWindows();\n        this.guiWindow.classList.remove(\"window-effect-shade\");\n    }\n    \n    setWidth(width) {\n        width = width + \"\";\n        this.applyNewDimensionFlags(width);\n        if(width.indexOf('%') != -1) {\n            this.guiWindow.style.width = width;\n        } else {\n            this.guiWindow.style.width = width+\"px\";\n        }\n        this.calculateNewTitleLimits();\n    }\n    \n    setHeight(height) {\n        height = height + \"\";\n        if(height.indexOf('%') != -1) {\n            this.guiWindow.style.height = height;\n        } else {\n            this.guiWindow.style.height = height+\"px\";\n        }\n        this.calculateNewTitleLimits();\n    }\n    \n    setBackgroundColor(bgrcolor) {\n        this.guiWindow.querySelector(\".gui-window__content\").style.background = bgrcolor;\n    }\n    \n    setTitle(title) {\n        this.titleText = title;\n        if(title.length > this.maxTitleLength) {\n            title = title.substring(0, (this.maxTitleLength-3)) + \"...\";\n        }\n        this.title.textContent = title;\n        this.calculateNewTitleLimits();\n        if(this.panelInstance.getPanelItem(this.id) != null) {\n            this.panelInstance.getPanelItem(this.id).setTitle(title);\n        }\n    }\n    \n    calculateNewTitleLimits() {\n        let width = this.getWidth();\n        let leftLimit = this.DOMObj.querySelector(\".window-btn-maximize\").getBoundingClientRect().right - this.getWindowX();\n        let rightLimit = this.getWidth() - (this.DOMObj.querySelector(\".gui-window__titlebar__icon\").getBoundingClientRect().left-this.getWindowX());\n        let appliableWidth = width - (leftLimit + rightLimit);\n        let numOfChars = Math.floor(appliableWidth / this.remInPixels);\n        if(this.titleText.length > numOfChars) {\n            if(this.titleText[numOfChars-4] == \" \") {\n                this.title.textContent = this.titleText.substring(0, numOfChars-4)+\"...\";\n            } else {\n                this.title.textContent = this.titleText.substring(0, numOfChars-3)+\"...\";\n            }\n        } else {\n            this.title.textContent = this.titleText;\n        }\n    }\n    \n    setWindowIcon(path) {\n        this.windowIcon.setAttribute(\"src\", path);\n        this.panelInstance.getPanelItem(this.id).setIcon(path);\n    }\n    \n    setContent(content) {\n        if(content instanceof Object) {\n            this.content = content;\n            this.windowContent.appendChild(this.content);\n            content.remove();\n        } else if (!(content instanceof Object)) {\n            this.content = content;\n            this.windowContent.innerHTML = this.content;\n        }\n    }\n    \n    setWindowX(x) {\n        this.guiWindow.style.left = x+\"px\";\n    }\n    \n    setWindowY(y) {\n        this.guiWindow.style.top = y+\"px\";\n    }\n    \n    getWindowX() {\n        return Number(this.guiWindow.style.left.split(\"px\")[0]);\n    }\n    \n    getWindowY() {\n        return Number(this.guiWindow.style.top.split(\"px\")[0]);\n    }\n    \n    getWidth() {\n        if(this.guiWindow.style.width.indexOf(\"%\") != -1) {\n            return document.body.clientWidth * (Number(this.guiWindow.style.width.split(\"%\")[0])/100);\n        } else {\n            return Number(this.guiWindow.style.width.split(\"px\")[0]);\n        }\n    }\n    \n    getHeight() {\n        if(this.guiWindow.style.height.indexOf(\"%\") != -1) {\n            return document.body.clientHeight * (Number(this.guiWindow.style.height.split(\"%\")[0])/100);\n        } else {\n            return Number(this.guiWindow.style.height.split(\"px\")[0]);\n        }\n    }\n    \n    getBackgroundColor() {\n        return this.guiWindow.querySelector(\".gui-window__content\").style.background;\n    }\n    \n    getTitle() {\n        return this.title.textContent;\n    }\n    \n    getContent() {\n        return this.content;\n    }\n    \n    isWindowPinnable() {\n        return this.isPinnable;\n    }\n}\n\nexport default Window;"],"sourceRoot":""}