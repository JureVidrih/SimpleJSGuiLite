{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./engine/webpack-entry.js","webpack:///./engine/modules/desktop.js","webpack:///./engine/modules/overlay.js","webpack:///./engine/modules/system.js","webpack:///./engine/modules/task-bar.js","webpack:///./engine/modules/panel-menu.js","webpack:///./engine/modules/panel-clock.js","webpack:///./engine/modules/panel-item-contextmenu.js","webpack:///./engine/modules/panel-item.js","webpack:///./engine/modules/panel.js","webpack:///./engine/modules/window.js"],"names":["window","SimpleJSGui","System","Desktop","Overlay","TaskBar","PanelMenu","PanelClock","PanelItemContextMenu","PanelItem","Panel","Window","wholeScreenObj","document","createElement","classList","add","DOMObj","snapIndicatorTop","snapIndicatorLeft","snapIndicatorRight","appendChild","currentBgrDOM","width","height","option","bottomValue","body","clientHeight","style","bottom","newColor","backgroundColor","imageUrl","backgroundImage","backgroundSize","value","backgroundRepeat","a","b","backgroundPosition","started","minimumLoadingTime","desktop","smallScreenMsg","loadingOverlay","getDOMObject","overLayMessage","textContent","loadingMsg","left","transform","display","addEventListener","event","panel","minimalWidth","calculateMinimalWidth","innerWidth","bind","newPanel","setTimeout","intervalId","setInterval","readyState","cancelInterval","FreeSpaceWidget","taskBar","clientWidth","leftContainer","rightContainer","panelWidth","leftContainerWidth","rightContainerWidth","switcherWidth","getLineContainer","getLineSwitcher","LineSwitcher","moveUp","moveDown","currentLevel","currentLine","getCurrentLine","switchLine","getLines","length","text","LineContainer","lines","wrapper","line","push","i","removeChild","firstChild","newLine","setCurrentLineText","top","getLineHeight","Line","items","getComputedStyle","getPropertyValue","Number","substring","indexOf","item","getItem","mode","querySelector","lineContainer","addALine","lineSwitcher","getWrapperDOM","freeSpaceWidget","calculateFreeSpace","newItem","putAnItem","itemsInALine","Math","floor","getItemDefaultWidth","numOfItems","shouldEmptyLineContainer","cachedNumOfItems","amount","reduce","calculateWidth","numOfLines","visibility","empty","j","ij","rearrangeItems","innerHTML","menuIcon","menuContent","toggle","button","target","close","remove","itemName","elementListener","newElement","console","log","PanelItemClock","panelInstance","time","displayedTime","clockIntervalID","clockValue","clockWidget","createTheClockWidget","clockWidgetDate","isAClockWidget","evt_target","parentNode","Date","hours","getHours","minutes","getMinutes","tableTop","testDate","currYear","getFullYear","currMonth","getMonth","currDay","getDate","prevMonth","renderMonth","nextMonth","monthTextSpan","setAttribute","clockContent","table","year","month","currDate","isCurrentMonth","currDayOfWeek","getDay","dayOfWeekOfTheFirstDay","daysInTheMonth","daysInThePreviousMonth","monthInText","data","isInPreviousMonth","dayValue","index","isInNextMonth","row","num","panelItem","panelITem","contains","newY","insertBefore","id","itemWidth","maxTitleLength","withText","contextMenu","nameObj","itemIcon","changeMode","newtitle","path","windows","windowsStatus","Map","panelMenu","addAnItem","addASeparator","panelClock","getDesktop","startTheClock","registerPanel","element","isAChild","unfocusAllWindows","newWindow","set","getId","getTitle","node","getItems","nodeElem","status","get","windowAction","preventDefault","anItem","getContextMenu","setBottomY","innerHeight","getBoundingClientRect","isWindowPinnable","focusWindow","instanceId","actionToDo","windowId","getWindowOrderNumberById","getElementsByClassName","getElementById","windownode","itemnode","splice","delete","dummyPanelItem","titleText","remInPixels","isPinnable","getPanelItem","isBeingDragged","cachedX","cachedY","isBeingResized","minWidth","minHeight","isResizingNW","isResizingNE","isResizingSW","isResizingSE","isResizingN","isResizingS","isResizingW","isResizingE","cachedResizeX","cachedResizeY","resizeListenerFullHD","resizeListenerHD","resizeListenerVGA","resizeListenerQVGA","wasListenerFullHDCalled","wasListenerHDCalled","wasListenerVGACalled","wasListenerQVGACalled","isMaximized","cachedXBeforeMax","cachedYBeforeMax","cachedWidth","cachedHeight","isSnapped","snapEffectsToggled","cachedXBeforeSnap","isAtTop","isAtLeft","isAtRight","createDOMObject","setTitle","parseInt","fontSize","guiWindow","setWidth","setHeight","registerEvents","nwResize","neResize","swResize","seResize","nResize","sResize","wResize","eResize","titleBar","min","max","icon","title","windowIcon","windowContent","maximizeWindow","clientX","clientY","change","changeToApply","getWindowX","getWidth","getWindowY","getHeight","right","calculateNewTitleLimits","snapWindow","coord","resizeChangeHorizontal","resizeChangeVertical","setWindowY","checkForEnterCorners","checkForLeaveCorners","toggleWindowSnapVisualEffects","leaveCornerAction","indicator","visualEffectTop","visualEffectLeft","visualEffectRight","checkTop","checkLeft","checkRight","getDesktopDOMObject","temp","setWindowX","newListener","removeDimensionFlags","allWindows","getWindows","aWindow","applyNewDimensionFlags","bgrcolor","background","leftLimit","rightLimit","appliableWidth","numOfChars","setIcon","content","Object","x","y","split"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import Desktop from './modules/desktop';\nimport Overlay from './modules/overlay';\nimport System from './modules/system';\nimport TaskBar from './modules/task-bar';\nimport PanelMenu from './modules/panel-menu';\nimport PanelClock from './modules/panel-clock'\nimport PanelItemContextMenu from './modules/panel-item-contextmenu';\nimport PanelItem from './modules/panel-item';\nimport Panel from './modules/panel';\nimport Window from './modules/window';\n\nwindow.SimpleJSGui = new System();\n\nwindow.Desktop =  Desktop;\nwindow.Overlay =  Overlay;\nwindow.TaskBar =  TaskBar;\nwindow.PanelMenu =  PanelMenu;\nwindow.PanelClock =  PanelClock;\nwindow.PanelItemContextMenu =  PanelItemContextMenu;\nwindow.PanelItem =  PanelItem;\nwindow.Panel =  Panel;\nwindow.Window =  Window;","class Desktop {\n    constructor() {\n        this.wholeScreenObj = document.createElement(\"div\");\n        this.wholeScreenObj.classList.add(\"gui-desktop\");\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-desktop\");\n        this.DOMObj.classList.add(\"gui-desktop--only-desktop\");\n        this.snapIndicatorTop = document.createElement(\"div\");    \n        this.snapIndicatorLeft = document.createElement(\"div\");\n        this.snapIndicatorRight = document.createElement(\"div\");\n        this.snapIndicatorTop.classList.add(\"gui-desktop__window-snap-indicator-top\");\n        this.snapIndicatorLeft.classList.add(\"gui-desktop__window-snap-indicator-left\");\n        this.snapIndicatorRight.classList.add(\"gui-desktop__window-snap-indicator-right\");\n        this.DOMObj.appendChild(this.snapIndicatorTop);\n        this.DOMObj.appendChild(this.snapIndicatorLeft);\n        this.DOMObj.appendChild(this.snapIndicatorRight);\n        this.wholeScreenObj.appendChild(this.DOMObj);\n        this.currentBgrDOM = this.DOMObj;\n        this.width;\n        this.height;\n    }\n\n    getDOMObject() {\n        return this.wholeScreenObj;\n    }\n\n    getDesktopDOMObject() {\n        return this.DOMObj;\n    }\n\n    shouldBackgroundCoverWholeViewport(option) {\n        if(option == true) {\n            this.currentBgrDOM = this.wholeScreenObj;\n            var bottomValue = document.body.clientHeight-this.DOMObj.clientHeight;\n            this.snapIndicatorLeft.style.bottom = bottomValue+\"px\";\n            this.snapIndicatorRight.style.bottom = bottomValue+\"px\";\n        } else {\n            this.currentBgrDOM = this.DOMObj;\n            this.snapIndicatorLeft.style.bottom = 0;\n            this.snapIndicatorRight.style.bottom = 0;\n        }\n    }\n\n    changeBackgroundColor(newColor) {\n        this.currentBgrDOM.style.backgroundColor = newColor;\n    }\n\n    changeBackgroundImage(imageUrl) {\n        this.currentBgrDOM.style.backgroundImage = \"url('\" + imageUrl + \"')\";\n        this.currentBgrDOM.style.backgroundSize = \"cover\";\n    }\n    \n    setBackgroundSize(value) {\n        this.currentBgrDOM.style.backgroundSize = value;\n    }\n\n    setBackgroundRepeat(value) {\n        this.currentBgrDOM.style.backgroundRepeat = value;\n    }\n\n    setBackgroundPosition(a, b) {\n        this.currentBgrDOM.style.backgroundPosition = a;\n        if(b) {\n            this.currentBgrDOM.style.backgroundPosition += \" \" + b;\n        }\n    }\n}\n\nexport default Desktop;","class Overlay {\n    constructor() {\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-overlay\");\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n}\n\nexport default Overlay;","import Desktop from './desktop';\nimport Overlay from './overlay';\n\nclass System {\n    constructor() {\n        this.started = false;\n        this.minimumLoadingTime = 250;\n        this.desktop = new Desktop();\n        this.smallScreenMsg = new Overlay();\n        this.loadingOverlay = new Overlay();\n        document.body.appendChild(this.desktop.getDOMObject());\n        document.body.appendChild(this.smallScreenMsg.getDOMObject());\n        var overLayMessage = document.createElement(\"p\");\n        overLayMessage.textContent = \"The browser window is too small to fit the necessary SimpleJSGui components.\";\n        this.smallScreenMsg.getDOMObject().appendChild(overLayMessage);\n        document.body.appendChild(this.loadingOverlay.getDOMObject());\n        var loadingMsg = document.createElement(\"p\");\n        loadingMsg.textContent = \"Loading...\";\n        loadingMsg.style.left = \"50%\";\n        loadingMsg.style.transform = \"translate(-50%, -50%)\";\n        this.loadingOverlay.getDOMObject().appendChild(loadingMsg);\n        this.loadingOverlay.getDOMObject().style.display = \"block\";\n        \n        window.addEventListener('resize', function(event) {\n            if(this.panel) {\n                this.minimalWidth = this.panel.calculateMinimalWidth();\n                if(window.innerWidth < this.minimalWidth) {\n                    this.smallScreenMsg.getDOMObject().style.display = \"block\";\n                } else {\n                    this.smallScreenMsg.getDOMObject().style.display = \"none\";\n                }\n            }\n        }.bind(this));\n    }\n    \n    getDesktop() {\n        return this.desktop;\n    }\n    \n    registerPanel(newPanel) {\n        this.panel = newPanel;\n    }\n    \n    start() {\n        if(!this.started) {\n            window.setTimeout(function() {\n                var intervalId = window.setInterval(function() {\n                    if(document.readyState === \"complete\") {\n                        this.started = true;\n                        this.loadingOverlay.getDOMObject().style.display = \"none\";\n                    }\n                    window.cancelInterval(intervalId);\n                }.bind(this), 100);\n            }.bind(this), this.minimumLoadingTime);\n        }\n    }\n}\n\nexport default System;","class FreeSpaceWidget {\n    constructor(taskBar) {\n        this.taskBar = taskBar;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__free-space\");\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n    \n    getWidth() {\n        return this.DOMObj.clientWidth;\n    }\n    \n    calculateWidth(panel, leftContainer, rightContainer) {\n        let panelWidth = panel.clientWidth;\n        let leftContainerWidth = leftContainer.clientWidth;\n        let rightContainerWidth = rightContainer.clientWidth;\n        // console.log(\"panel \" + panelWidth);\n        // console.log(\"left \" + leftContainerWidth);\n        // console.log(\"right \" + rightContainerWidth);\n        let switcherWidth = 0;\n        if(this.taskBar && this.taskBar.getLineContainer() && this.taskBar.getLineSwitcher()) {\n            switcherWidth = this.taskBar.getLineSwitcher().getDOMObject().clientWidth;\n        }\n        let width = panelWidth-((leftContainerWidth-this.DOMObj.clientWidth)+rightContainerWidth);\n        // console.log(\"width is at: \" + width + \"px\");\n        if(width > 0) {\n            this.DOMObj.style.width = width+\"px\";\n        } else {\n            this.DOMObj.style.width = \"0px\";\n            \n            width = panelWidth - (rightContainerWidth + (leftContainerWidth-this.taskBar.getLineContainer().getDOMObject().clientWidth));\n            this.taskBar.getLineContainer().getDOMObject().style.width = width+\"px\";\n        }\n    }\n}\n\nclass LineSwitcher {\n    constructor(taskBar) {\n        this.taskBar = taskBar;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__line-switcher\");\n        \n        this.moveUp = document.createElement(\"img\");\n        this.moveUp.classList.add(\"gui-panel__task-bar__line-switcher__move-up\");\n        this.moveDown = document.createElement(\"img\");\n        this.moveDown.classList.add(\"gui-panel__task-bar__line-switcher__move-down\");\n        this.currentLevel = document.createElement(\"p\");\n        this.currentLevel.classList.add(\"gui-panel__task-bar__line-switcher__current-level\");\n        this.currentLevel.textContent = \"1\";\n        \n        this.moveDown.addEventListener(\"click\", function() {\n            currentLine = this.taskBar.getLineContainer().getCurrentLine();\n            // console.log(\"Going down, line is \" + currentLine);\n            if(currentLine > 0) {\n                currentLine -= 1;\n                this.taskBar.getLineContainer().switchLine(currentLine);\n                // console.log(\"Line Down! #\" + currentLine);\n            }\n        }.bind(this));\n        \n        this.moveUp.addEventListener(\"click\", function() {\n            currentLine = this.taskBar.getLineContainer().getCurrentLine();\n            // console.log(\"Going up, line is \" + currentLine + \" \" + this.taskBar.getLineContainer().getLines().length);\n            if(currentLine < this.taskBar.getLineContainer().getLines().length-1) {\n                currentLine += 1;\n                this.taskBar.getLineContainer().switchLine(currentLine);\n                // console.log(\"Line Up! #\" + currentLine);\n            }\n        }.bind(this));\n        \n        this.DOMObj.appendChild(this.moveDown);\n        this.DOMObj.appendChild(this.currentLevel);\n        this.DOMObj.appendChild(this.moveUp);\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n    \n    setCurrentLineText(text) {\n        this.currentLevel.textContent = text;\n    }\n}\n\nclass LineContainer {\n    constructor(taskBar) {\n        this.taskBar = taskBar;\n        this.lines = [];\n        this.currentLine = 0;\n        this.wrapper = document.createElement(\"div\");\n        this.wrapper.classList.add(\"gui-panel__task-bar__wrapper\");\n        \n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__wrapper__line-container\");\n        \n        this.wrapper.appendChild(this.DOMObj);\n    }\n    \n    addALine(line) {\n        this.lines.push(line);\n        this.DOMObj.appendChild(line.getDOMObject());\n    }\n    \n    empty() {\n        for(let i = 0; i < this.lines.length; i++) {\n            this.DOMObj.removeChild(this.DOMObj.firstChild);\n        }\n        \n        this.lines = [];\n    }\n    \n    getLines() {\n        return this.lines;\n    }\n    \n    getCurrentLine() {\n        return this.currentLine;\n    }\n    \n    switchLine(newLine) {\n        this.currentLine = newLine;\n        // console.log(\"currentLine is now: \" + newLine);\n        // console.log(\"Line height of first line is: \" + this.lines[0].getLineHeight());\n        // console.log(\"New top is: \" + -(newLine)*this.lines[0].getLineHeight());\n        this.taskBar.getLineSwitcher().setCurrentLineText(newLine+1);\n        this.DOMObj.style.top = -(newLine)*this.lines[0].getLineHeight()+\"px\";\n    }\n    \n    getWrapperDOM() {\n        return this.wrapper;\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n}\n\nclass Line {\n    constructor(taskBar) {\n        this.taskBar = taskBar;\n        this.items = [];\n        this.height = 0;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__wrapper__line-container__line\");\n        let height = window.getComputedStyle(this.DOMObj).getPropertyValue(\"height\");\n        this.height = Number(height.substring(0, height.indexOf(\"px\")));\n    }\n    \n    putAnItem(item) {\n        this.items.push(item);\n        this.DOMObj.appendChild(item.getItem());\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n    \n    getLineHeight() {\n        return this.height;\n    }\n}\n\nclass TaskBar {\n    constructor() {\n        this.mode = \"icons text\";\n        this.items = [];\n        this.panel = document.querySelector(\".gui-panel\");\n        this.leftContainer = document.querySelector(\".gui-panel__left-container\");\n        this.rightContainer = document.querySelector(\".gui-panel__right-container\");\n        \n        this.lineContainer = new LineContainer(this);\n        this.lineContainer.addALine(new Line(this));\n        \n        this.lineSwitcher = new LineSwitcher(this);\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar\");\n        this.DOMObj.appendChild(this.lineContainer.getWrapperDOM());\n        this.DOMObj.appendChild(this.lineSwitcher.getDOMObject());\n        this.freeSpaceWidget = new FreeSpaceWidget(this);\n        this.DOMObj.appendChild(this.freeSpaceWidget.getDOMObject());\n        this.calculateFreeSpace();\n        \n        window.addEventListener('resize', function() {\n            this.calculateFreeSpace();\n        }.bind(this));\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n    \n    getLineContainer() {\n        return this.lineContainer;\n    }\n    \n    getLineSwitcher() {\n        return this.lineSwitcher;\n    }\n    \n    addAnItem(newItem) {\n        this.items.push(newItem);\n        this.lineContainer.getLines()[0].putAnItem(newItem);\n        this.freeSpaceWidget.getDOMObject().style.width = \"0px\";\n        this.calculateFreeSpace();\n    }\n    \n    getItems() {\n        return this.items;\n    }\n    \n    rearrangeItems() {\n        if(this.items.length > 0) {\n            // console.log(\"Rearranging items...\");\n            let itemsInALine = Math.floor((this.DOMObj.clientWidth-this.lineSwitcher.getDOMObject().clientWidth) / this.items[0].getItemDefaultWidth());\n            if(itemsInALine == 0) {\n                itemsInALine = 1;\n            }\n            let numOfItems = itemsInALine;\n            let shouldEmptyLineContainer = false;\n            if(this.cachedNumOfItems != numOfItems) {\n                shouldEmptyLineContainer = true;\n            }\n            this.cachedNumOfItems = numOfItems;\n            if(this.items.length < itemsInALine) {\n                numOfItems = this.items.length;\n            }\n            // console.log(\"items: \" + numOfItems);\n            let amount = (numOfItems*this.items[0].getItemDefaultWidth());\n            this.lineContainer.getDOMObject().style.width = amount + \"px\";\n            let reduce = this.freeSpaceWidget.getDOMObject().clientWidth - amount;\n            this.freeSpaceWidget.getDOMObject().style.width = 0 + \"px\";\n            this.freeSpaceWidget.calculateWidth(this.panel, this.leftContainer, this.rightContainer);\n            // if(this.freeSpaceWidget.getWidth() <= 0) {\n            //     itemsInALine--;\n            // }\n            // console.log(\"width is at: \" + this.DOMObj.clientWidth);\n            // console.log(\"panel is at: \" + this.panel.clientWidth + \", and right is at: \" + this.rightContainer.clientWidth);\n            let numOfLines = Math.floor(this.items.length / itemsInALine);\n            if(this.items.length % itemsInALine != 0) {\n                numOfLines++;\n            }\n            \n            if(!numOfLines) {\n                numOfLines = 0;\n            }\n            \n            if(numOfLines <= 1) {\n                this.lineSwitcher.getDOMObject().style.visibility = \"hidden\";\n            } else {\n                this.lineSwitcher.getDOMObject().style.visibility = \"visible\";\n            }\n            \n            if(this.lineContainer.getCurrentLine() > numOfLines-1) {\n                this.lineContainer.switchLine(numOfLines-1);\n            }\n            \n            // console.log(\"length: \" + this.items.length);\n            // console.log(\"inaline: \" + itemsInALine);\n            // console.log(\"numOfLines: \" + numOfLines);\n            // console.log(\"lines: \" + numOfLines);\n            \n            if(shouldEmptyLineContainer) {\n                this.lineContainer.empty();\n                this.lines = this.lineContainer.getLines();\n                \n                // console.log(this.lines.length);\n                \n                for(let i = 0; i < numOfLines; i++) {\n                    this.lineContainer.addALine(new Line(this));\n                    // newLine = this.lines[this.lines.length-1];\n                }\n                \n                // console.log(this.lines.length);\n                \n                for(let i = 0, j = 0, ij = 0; i < this.items.length; i++, ij++) {\n                    if(ij >= itemsInALine) {\n                        j++;\n                        ij = 0;\n                    }\n                    // console.log(\"Line is: \" + j + \" and item is: \" + i);\n                    \n                    // console.log(this.items[i]);\n                    this.lines[j].putAnItem(this.items[i]);\n                }\n                \n                this.freeSpaceWidget.calculateWidth(this.panel, this.leftContainer, this.rightContainer);\n            }\n            \n            // console.log(\"Num of lines: \" + this.lines.length);\n            // console.log(\"Done rearranging!\");\n            // console.log(\" \");\n        }\n    }\n    \n    calculateFreeSpace() {\n        this.freeSpaceWidget.calculateWidth(this.panel, this.leftContainer, this.rightContainer);\n        this.rearrangeItems();\n        // if(this.freeSpaceWidget.getWidth() <= 0) {\n        //     this.rearrangeItems();\n        // }\n    }\n}\n\nexport default TaskBar;","class PanelMenu {\n    constructor() {\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__menu\");\n        this.DOMObj.innerHTML = '<div class=\"gui-panel__menu__icon\"></div><div class=\"gui-panel__menu__content\"><h1>Menu</h1></div>';\n        this.menuIcon = this.DOMObj.querySelector(\".gui-panel__menu__icon\");\n        this.menuContent = this.DOMObj.querySelector(\".gui-panel__menu__content\");\n\n        this.DOMObj.addEventListener('mousedown', function(event) {\n            this.menuContent.classList.toggle(\"menu-fadein\");\n        }.bind(this));\n\n        document.addEventListener('mousedown', function(event) {\n            if(event.button == 0) {\n                if(event.target != this.menuIcon && event.target != this.menuContent) {\n                    this.close();\n                }\n            }\n        }.bind(this));\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n\n    close() {\n        this.menuContent.classList.remove(\"menu-fadein\");\n    }\n\n    addAnItem(itemName, elementListener) {\n        let newElement = document.createElement(\"p\");\n        newElement.classList.add(\"gui-panel__menu__content__menu-item\");\n        newElement.textContent = itemName;\n        newElement.addEventListener('mousedown', function() {\n            elementListener();\n            this.DOMObj.classList.toggle(\"menu-fadein\");\n        }.bind(this));\n        this.menuContent.appendChild(newElement);\n\n        return this;\n    }\n\n    addASeparator() {\n        let newElement = document.createElement(\"div\");\n        newElement.classList.add(\"gui-panel__menu__content__item-separator\");\n        if(this.menuContent.length == 0) {\n            console.log(\"Didn't append the separator because the content of the menu is empty.\");\n        } else {\n            this.menuContent.appendChild(newElement);\n        }\n\n        return this;\n    }\n}\n\nexport default PanelMenu;","class PanelItemClock {\n    constructor(panelInstance) {\n        this.panelInstance = panelInstance;\n        this.time;\n        this.displayedTime = \"00:00\";\n        this.clockIntervalID;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__clock\");\n        this.DOMObj.innerHTML = \"<p>\"+this.displayedTime+\"</p><div class='gui-panel__clock__clock-widget'></div>\";\n        this.clockValue = this.DOMObj.querySelector(\"p\");\n        this.clockWidget = this.DOMObj.querySelector(\".gui-panel__clock__clock-widget\");\n        this.clockWidget.appendChild(this.createTheClockWidget());\n        this.clockWidgetDate;\n\n        this.clockValue.addEventListener('mousedown', function() {\n            this.clockWidget.classList.toggle(\"clock-widget-fadein\");\n        }.bind(this));\n\n        document.addEventListener('mousedown', function(event) {\n            if(event.button == 0) {\n                if(!this.isAClockWidget(event.target) && event.target != this.clockValue) {\n                    this.clockWidget.classList.remove(\"clock-widget-fadein\");\n                }\n            }\n        }.bind(this));\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n\n    isAClockWidget(evt_target) {\n        while(evt_target != document.body) {\n            if(evt_target == this.clockWidget) {\n                return true;\n            }\n\n            evt_target = evt_target.parentNode;\n        }\n\n        return false;\n    }\n\n    startTheClock() {\n        this.clockIntervalID = setInterval(function() {\n            this.time = new Date();\n            let hours = this.time.getHours();\n            let minutes = this.time.getMinutes();\n            if(hours < 10) {\n                hours = \"0\" + hours;\n            }\n            if(minutes < 10) {\n                minutes = \"0\" + minutes;\n            }\n            this.displayedTime = hours + \":\" + minutes;\n            this.clockValue.textContent = this.displayedTime;\n            if(this.panelInstance.taskBar) {\n                this.panelInstance.taskBar.calculateFreeSpace();\n            }\n        }.bind(this), 25);\n    }\n\n    createTheClockWidget() {\n        let tableTop = document.createElement(\"div\");\n        tableTop.classList.add(\"gui-panel__clock__clock-widget__table-top\");\n\n        let testDate = new Date();\n        let currYear = testDate.getFullYear();\n        let currMonth = testDate.getMonth();\n        let currDay = testDate.getDate();\n\n        let prevMonth = document.createElement(\"img\");\n        prevMonth.classList.add(\"gui-panel__clock__clock-widget__table-top__prevMonth\");\n        prevMonth.addEventListener('mousedown', function() {\n            currYear = this.clockWidgetDate.getFullYear();\n            currMonth = this.clockWidgetDate.getMonth();\n            this.renderMonth(currYear, currMonth-1);\n        }.bind(this));\n\n        let nextMonth = document.createElement(\"img\");\n        nextMonth.classList.add(\"gui-panel__clock__clock-widget__table-top__nextMonth\");\n        nextMonth.addEventListener('mousedown', function() {\n            currYear = this.clockWidgetDate.getFullYear();\n            currMonth = this.clockWidgetDate.getMonth();\n            this.renderMonth(currYear, currMonth+1);\n        }.bind(this));\n\n        tableTop.appendChild(prevMonth);\n\n        this.monthTextSpan = document.createElement(\"span\");\n        this.monthTextSpan.setAttribute('id', 'clock-widget-month-name');\n\n        tableTop.appendChild(this.monthTextSpan);\n        tableTop.appendChild(nextMonth);\n        this.clockContent = document.createElement(\"div\");\n        this.clockContent.appendChild(tableTop);\n        this.table = document.createElement(\"table\");\n        this.table.setAttribute('border', 1);\n        this.table.setAttribute('id', 'clock-widget-table');\n        this.clockContent.appendChild(this.table);\n\n        this.renderMonth(currYear, currMonth, currDay);\n\n        return this.clockContent;\n    }\n\n    renderMonth(year, month) {\n        let currDate = new Date();\n        let isCurrentMonth = (month == currDate.getMonth()) && (year == currDate.getFullYear());\n        if(!isCurrentMonth) {\n            currDate = new Date(year, month);\n        }\n\n        this.clockWidgetDate = currDate;\n\n        let currYear = currDate.getFullYear();\n        let currMonth = currDate.getMonth();\n        let currDay, currDayOfWeek;\n        if(isCurrentMonth) {\n            currDay = currDate.getDate();\n            currDayOfWeek = currDate.getDay();\n        }\n        let dayOfWeekOfTheFirstDay = (new Date(year, month, 0).getDay())+1;\n        let daysInTheMonth = this.daysInTheMonth(year, month);\n        let daysInThePreviousMonth = this.daysInTheMonth(year, (month-1));\n\n        let monthInText = \"\";\n\n        switch(currMonth+1) {\n            case 1: monthInText = \"January\"; break;\n            case 2: monthInText = \"February\"; break;\n            case 3: monthInText = \"March\"; break;\n            case 4: monthInText = \"April\"; break;\n            case 5: monthInText = \"May\"; break;\n            case 6: monthInText = \"June\"; break;\n            case 7: monthInText = \"July\"; break;\n            case 8: monthInText = \"August\"; break;\n            case 9: monthInText = \"September\"; break;\n            case 10: monthInText = \"October\"; break;\n            case 11: monthInText = \"November\"; break;\n            case 12: monthInText = \"December\"; break;\n        }\n\n        this.monthTextSpan.textContent = monthInText;\n\n        this.table.innerHTML = \"<thead><tr><td>Mon</td><td>Tue</td><td>Wed</td><td>Thu</td><td>Fri</td><td>Sat</td><td>Sun</td></tr></thead>\";\n        \n        let data = \"\";\n\n        let isInPreviousMonth = true;\n        let dayValue;\n        if(dayOfWeekOfTheFirstDay == 1) {\n            dayValue = 1;\n            isInPreviousMonth = false;\n        } else {\n            dayValue = daysInThePreviousMonth-(dayOfWeekOfTheFirstDay-2);\n        }\n\n        for(let i = 0, index = 0, isInNextMonth = false; i < 6; i++) {\n            let row = document.createElement(\"tr\");\n            for(let j = 0; j < 7; j++, index++) {\n                let data = document.createElement(\"td\");\n                data.classList.add(\"table-data\" + index);\n                data.textContent = dayValue;\n                if(isCurrentMonth && (dayValue == currDay) && (!isInPreviousMonth && !isInNextMonth)) {\n                    data.classList.add(\"today\");\n                }\n                if(isInPreviousMonth || isInNextMonth) {\n                    data.classList.add(\"not-this-month\");\n                }\n                row.appendChild(data);\n                dayValue++;\n                if(isInPreviousMonth) {\n                    if(dayValue > daysInThePreviousMonth) {\n                        dayValue = 1;\n                        isInPreviousMonth = false;\n                    }\n                } else {\n                    if(dayValue > daysInTheMonth) {\n                        dayValue = 1;\n                        isInNextMonth = true;\n                    }\n                }\n            }\n            this.table.appendChild(row);\n        }\n    }\n\n    daysInTheMonth(year, month) {\n        let num = 0;\n\n        if(month < 0) {\n            year--;\n            let month = 11;\n        } else if(month > 11) {\n            year++;\n            let month = 0;\n        }\n\n        while(true) {\n            let testDate = new Date(year, month, (num+1));\n\n            if(testDate.getMonth() != month) {\n                break;\n            }\n\n            num++;\n        }\n\n        return num;\n    }\n}\n\nexport default PanelItemClock;","class PanelItemContextMenu {\n    constructor(panelItem) {\n        this.panelITem = panelItem;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__item__context-menu\");\n        this.DOMObj.innerHTML = '<div class=\"gui-panel__task-bar__item__context-menu__content\"></div>';\n        this.menuContent = this.DOMObj.querySelector(\".gui-panel__task-bar__item__context-menu__content\");\n\n        document.addEventListener('mousedown', function(event) {\n            if(event.button == 0) {\n                if(!event.target.classList.contains(\"gui-panel__task-bar__item\")) {\n                    this.DOMObj.classList.remove(\"context-menu-fadein\");\n                }\n            }\n        }.bind(this));\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n\n    setBottomY(newY) {\n        this.DOMObj.style.bottom = newY+\"px\";\n    }\n\n    addAnItem(itemName, elementListener) {\n        let newElement = document.createElement(\"p\");\n        newElement.classList.add(\"gui-panel__task-bar__item__context-menu__content__menu-item\");\n        newElement.textContent = itemName;\n        newElement.addEventListener('mousedown', function() {\n            elementListener();\n            this.DOMObj.classList.toggle(\"context-menu-fadein\");\n        }.bind(this));\n        if(this.menuContent.length == 0) {\n            this.menuContent.appendChild(newElement);\n        } else {\n            this.menuContent.insertBefore(newElement, this.menuContent.querySelector(\"*\"));\n        }\n\n        return this;\n    }\n\n    addASeparator() {\n        let newElement = document.createElement(\"div\");\n        newElement.classList.add(\"gui-panel__task-bar__item__context-menu__content__item-separator\");\n        if(this.menuContent.length == 0) {\n            console.log(\"Didn't append the separator because the content of the menu is empty.\");\n        } else {\n            this.menuContent.insertBefore(newElement, this.menuContent.querySelector(\"p\"));\n        }\n\n        return this;\n    }\n}\n\nexport default PanelItemContextMenu;","import PanelItemContextMenu from './panel-item-contextmenu';\n\nclass PanelItem {\n    constructor(id, itemName) {\n        this.itemWidth = 0;\n        this.id = id;\n        this.maxTitleLength = 25;\n        this.withText = true;\n        this.itemName = itemName;\n        this.contextMenu = new PanelItemContextMenu(this);\n        this.item = document.createElement(\"div\");\n        this.item.classList.add(\"gui-panel__task-bar__item\");\n        this.nameObj = document.createElement(\"p\");\n        if(this.itemName.length > this.maxTitleLength) {\n            this.itemName = this.itemName.substring(0, (this.maxTitleLength-3)) + \"...\";\n        }\n        this.nameObj.textContent = this.itemName;\n        this.itemIcon = document.createElement(\"img\");\n        this.itemIcon.classList.add(\"gui-panel__task-bar__item__icon\");\n        this.item.appendChild(this.itemIcon);\n        this.item.appendChild(this.nameObj);\n        this.item.appendChild(this.contextMenu.getDOMObject());\n        this.changeMode();\n    }\n\n    getItem() {\n        return this.item;\n    }\n    getName() {\n        return this.itemName;\n    }\n    getId() {\n        return this.id;\n    }\n    getItem() {\n        return this.item;\n    }\n    getItemDefaultWidth() {\n        var width = window.getComputedStyle(this.item).getPropertyValue(\"width\");\n        var value = width;\n        value = value.substring(0, value.indexOf(\"px\"));\n\n        return Number(value);\n    }\n\n    getDOMObject() {\n        return this.item;\n    }\n\n    getContextMenu() {\n        return this.contextMenu;\n    }\n\n    getTitleObj() {\n        return this.nameObj;\n    }\n\n    setTitle(newtitle) {\n        this.itemName = newtitle;\n        if(this.itemName.length > this.maxTitleLength) {\n            this.itemName = this.itemName.substring(0, (this.maxTitleLength-3)) + \"...\";\n        }\n        this.nameObj.textContent = this.itemName;\n    }\n\n    setIcon(path) {\n        this.itemIcon.setAttribute(\"src\", path);\n        // console.log(\"actual width: \" +  this.itemIcon.clientWidth);\n    }\n\n    changeMode() {\n        if(!this.withText) {\n            this.nameObj.style.display = \"none\";\n            this.item.classList.add(\"gui-panel__task-bar__item--without-text\")\n            // iconWidth = window.getComputedStyle(this.itemIcon).getPropertyValue(\"width\");\n            // iconWidth = Number(iconWidth.substring(0, iconWidth.indexOf(\"px\")));\n            // console.log(iconWidth);\n            // sidesMargin = window.getComputedStyle(this.itemIcon).getPropertyValue(\"margin-left\");\n            // sidesMargin = Number(sidesMargin.substring(0, sidesMargin.indexOf(\"px\")))*2;\n            // console.log(sidesMargin);\n            // totalWidth = iconWidth + sidesMargin;\n            // console.log(\"width: \" + totalWidth);\n            // this.item.style.width = totalWidth+\"px\";\n        }\n    }\n}\n\nexport default PanelItem;","import PanelMenu from './panel-menu';\nimport PanelItemClock from './panel-clock';\nimport TaskBar from './task-bar';\n     \n     class Panel {\n            constructor() {\n            this.windows = [];\n            this.windowsStatus = new Map();\n            this.leftContainer = document.createElement(\"div\");\n            this.leftContainer.classList.add(\"gui-panel__left-container\");\n            this.rightContainer = document.createElement(\"div\");\n            this.rightContainer.classList.add(\"gui-panel__right-container\");\n            this.panelMenu = new PanelMenu();\n            this.panelMenu.addAnItem(\"Test #1\", () => console.log(\"test 1\")).addASeparator().addAnItem(\"Test #2\", () => console.log(\"test 2\"));\n            this.panelClock = new PanelItemClock(this);\n            this.desktop = SimpleJSGui.getDesktop();\n            this.DOMObj = document.createElement(\"div\");\n            this.DOMObj.classList.add(\"gui-panel\");\n            this.DOMObj.id = \"panelInstance1\";\n            this.panelInstance = this.DOMObj.id;\n            this.leftContainer.appendChild(this.panelMenu.getDOMObject());\n            this.rightContainer.appendChild(this.panelClock.getDOMObject());\n            this.DOMObj.appendChild(this.leftContainer);\n            this.DOMObj.appendChild(this.rightContainer);\n            this.panelClock.startTheClock();\n            document.body.appendChild(this.DOMObj);\n            this.taskBar = new TaskBar();\n            this.leftContainer.appendChild(this.taskBar.getDOMObject());\n            SimpleJSGui.registerPanel(this);\n\n            document.addEventListener('mousedown', function(event) {\n                if(event.button == 0 && this.windows.length > 0) {\n                    let element = event.target;\n                    let isAChild = false;\n                    do {\n                        if(element.classList && element.classList.contains(\"gui-window\")) {\n                            isAChild = true;\n                            break;\n                        }\n                        element = element.parentNode;\n                    } while(element);\n                    if(!isAChild) {\n                        this.windows[0].unfocusAllWindows();\n                    }\n                }\n            }.bind(this));\n        }\n\n        addAWindow(newWindow) {\n            this.windows.push(newWindow);\n            this.windowsStatus.set(newWindow.getId(), \"active\");\n            this.taskBar.addAnItem(new PanelItem(newWindow.getId(), newWindow.getTitle()));\n            let node = this.taskBar.getItems()[this.taskBar.getItems().length-1];\n            let nodeElem = node.getDOMObject();\n            nodeElem.classList.add(\"gui-panel__task-bar__item--active\");\n            nodeElem.addEventListener('click', function(event) {\n                let status = this.windowsStatus.get(newWindow.getId());\n                if(status == \"active\") {\n                    this.windowAction(\"minimize\", newWindow.getId());\n                    let contextMenu = nodeElem.querySelector(\".gui-panel__task-bar__item__context-menu\");\n                    if(contextMenu.style.display == \"inline-block\") {\n                        contextMenu.style.display = \"none\";\n                    }\n                } else if(status == \"unactive\") {\n                    this.windowAction(\"maximize\", newWindow.getId());\n                    let contextMenu = nodeElem.querySelector(\".gui-panel__task-bar__item__context-menu\");\n                    if(contextMenu.style.display == \"inline-block\") {\n                        contextMenu.style.display = \"none\";\n                    }\n                }\n            }.bind(this));\n            nodeElem.addEventListener('contextmenu', function(event) {\n                event.preventDefault();\n                let contextMenu = nodeElem.querySelector(\".gui-panel__task-bar__item__context-menu\");\n                let items = this.taskBar.getItems();\n                for(let i = 0; i < items.length; i++) {\n                    if(items[i].getId() != newWindow.getId()) {\n                        let anItem = items[i].getDOMObject().querySelector(\".gui-panel__task-bar__item__context-menu\");\n                        if(anItem.classList.contains(\"context-menu-fadein\")) {\n                            anItem.classList.remove(\"context-menu-fadein\");\n                        }\n                    }\n                }\n                this.panelMenu.close();\n                // if(contextMenu.style.display == \"none\") {\n                //     contextMenu.style.display = \"block\";\n                //     contextMenu.classList.add(\"context-menu-fadein\");\n                // } else {\n                //     contextMenu.classList.remove(\"context-menu-fadein\");\n                //     contextMenu.style.display = \"none\";\n                node.getContextMenu().setBottomY((window.innerHeight-this.DOMObj.getBoundingClientRect().top));\n                contextMenu.classList.toggle(\"context-menu-fadein\");\n                let status = this.windowsStatus.get(newWindow.getId());\n                if(status == \"unactive\") {\n                    this.windowAction(\"minimize\", newWindow.getId());\n                }\n                return false;\n            }.bind(this), false);\n            if(newWindow.isWindowPinnable()) {\n                let items = this.taskBar.getItems();\n                items[items.length-1].getContextMenu().addAnItem(\"Pin this app\", function() {}).addASeparator();\n            }\n            document.body.appendChild(newWindow.getDOMObject());\n            newWindow.focusWindow();\n        }\n        selectInstance(instanceId) {\n            this.panelInstance = instanceId;\n        }\n    \n        windowAction(actionToDo, id) {\n            if(actionToDo == \"minimize\") {\n                let status = this.windowsStatus.get(id);\n                if(status == \"active\") {\n                    let windowId = this.getWindowOrderNumberById(id);\n                    let node = document.getElementsByClassName(\"gui-panel__task-bar__item\")[windowId];\n                    this.windowsStatus.set(id, \"unactive\");\n                    node.classList.remove(\"gui-panel__task-bar__item--active\");\n                    document.getElementById(this.windows[windowId].getId()).style.display = \"none\";\n                } else if(status == \"unactive\") {\n                    let windowId = this.getWindowOrderNumberById(id);\n                    let node = document.getElementsByClassName(\"gui-panel__task-bar__item\")[windowId];\n                    this.windowsStatus.set(id, \"active\");\n                    node.classList.add(\"gui-panel__task-bar__item--active\");\n                    document.getElementById(this.windows[windowId].getId()).style.display = \"block\";\n                }\n            } else if(actionToDo == \"maximize\") {\n                let windowId = this.getWindowOrderNumberById(id);\n                let node = document.getElementsByClassName(\"gui-panel__task-bar__item\")[windowId];\n                this.windowsStatus.set(id, \"active\");\n                node.classList.add(\"gui-panel__task-bar__item--active\");\n                this.windows[windowId].focusWindow();\n                document.getElementById(this.windows[windowId].getId()).style.display = \"block\";\n            } else if(actionToDo == \"close\") {\n                let windowId = this.getWindowOrderNumberById(id);\n                let windownode = document.getElementsByClassName(\"gui-window\")[windowId];\n                let itemnode = document.getElementsByClassName(\"gui-panel__task-bar__item\")[windowId];\n                windownode.remove();\n                itemnode.remove();\n                this.windows.splice(windowId, 1);\n                this.windowsStatus.delete(windowId);\n                this.taskBar.getItems().splice(windowId, 1);\n            }\n        }\n\n        getWindows() {\n            return this.windows;\n        }\n\n        getWindowOrderNumberById(id) {\n            for(let i = 0; i < this.windows.length; i++) {\n                if(this.windows[i].getId() == id) {\n                    return i;\n                }\n            }\n        }\n    \n        getPanelItem(windowId) {\n            let items = this.taskBar.getItems();\n            for(let i = 0; i < items.length; i++) {\n                if(items[i].getId() == windowId) {\n                    return items[i];\n                }\n            }\n            return null;\n        }\n\n        calculateMinimalWidth() {\n            let dummyPanelItem = new PanelItem(\"DUMMY_ID\", \"DummyText\");\n            return this.panelMenu.getDOMObject().clientWidth+2 + dummyPanelItem.getItemDefaultWidth() + this.taskBar.getLineSwitcher().getDOMObject().clientWidth + this.rightContainer.clientWidth;\n        }\n    }\n\n    export default Panel;","class Window {\n    constructor(panelInstance, windowId) {\n        this.maxTitleLength = 3000;\n        this.titleText;\n        this.remInPixels;\n        this.DOMObj;\n\n        this.panelInstance = panelInstance;\n        this.isPinnable = true;\n        this.id = windowId;\n\n        this.panelItem = panelInstance.getPanelItem(this.id);\n\n        this.isBeingDragged = false;\n        this.cachedX = 0;\n        this.cachedY = 0;\n        \n        this.isBeingResized = false;\n        this.minWidth = 350;\n        this.minHeight = 400;\n        this.isResizingNW = false;\n        this.isResizingNE = false;\n        this.isResizingSW = false;\n        this.isResizingSE = false;\n        this.isResizingN = false;\n        this.isResizingS = false;\n        this.isResizingW = false;\n        this.isResizingE = false;\n        this.cachedResizeX = 0;\n        this.cachedResizeY = 0;\n        this.resizeListenerFullHD;\n        this.resizeListenerHD;\n        this.resizeListenerVGA;\n        this.resizeListenerQVGA;\n        this.wasListenerFullHDCalled = false;\n        this.wasListenerHDCalled = false;\n        this.wasListenerVGACalled = false;\n        this.wasListenerQVGACalled = false;\n        \n        this.isMaximized = false;\n        this.cachedXBeforeMax;\n        this.cachedYBeforeMax;\n        this.cachedWidth = 0;\n        this.cachedHeight = 0;\n        this.isSnapped = false;\n        this.snapEffectsToggled = false;\n        this.cachedXBeforeSnap;\n        this.isAtTop;\n        this.isAtLeft;\n        this.isAtRight;\n        this.createDOMObject();\n        this.setTitle(\"M\");\n        this.remInPixels = parseInt(getComputedStyle(this.DOMObj).fontSize);\n        this.setTitle(\"Window Title\");\n        this.guiWindow.style.top = \"50px\";\n        this.guiWindow.style.left = \"300px\";\n        this.setWidth(350);\n        this.setHeight(400);\n        this.registerEvents();\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n    getId() {\n        return this.id;\n    }\n    getPanelItem() {\n        return this.panelInstance.getPanelItem(this.id);\n    }\n    \n    createDOMObject() {\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.id = this.id;\n        this.DOMObj.innerHTML =  '<div class=\"gui-window\">'\n        +'<div id=\"nw-resize\"></div>'+'<div id=\"ne-resize\"></div>'+'<div id=\"sw-resize\"></div>'+'<div id=\"se-resize\"></div>'+'<div id=\"n-resize\"></div>'+'<div id=\"s-resize\"></div>'+'<div id=\"w-resize\"></div>'+'<div id=\"e-resize\"></div>'\n        +'<div class=\"gui-window__titlebar\">'\n        +'<div class=\"gui-window__titlebar__buttons\"><a class=\"window-btn window-btn-close\" href=\"#\"></a><a class=\"window-btn window-btn-minimize\" href=\"#\"></a><a class=\"window-btn window-btn-maximize\" href=\"#\"></a></div><div class=\"gui-window__titlebar__title\">Window Title</div><img class=\"gui-window__titlebar__icon\"></img>'\n        +'</div>'\n        +'<div class=\"gui-window__content\">Window content.</div>'\n        +'</div>';\n        this.guiWindow = this.DOMObj.querySelector(\".gui-window\");\n        this.nwResize = this.DOMObj.querySelector(\"#nw-resize\");\n        this.neResize = this.DOMObj.querySelector(\"#ne-resize\");\n        this.swResize = this.DOMObj.querySelector(\"#sw-resize\");\n        this.seResize = this.DOMObj.querySelector(\"#se-resize\");\n        this.nResize = this.DOMObj.querySelector(\"#n-resize\");\n        this.sResize = this.DOMObj.querySelector(\"#s-resize\");\n        this.wResize = this.DOMObj.querySelector(\"#w-resize\");\n        this.eResize = this.DOMObj.querySelector(\"#e-resize\");\n        this.titleBar = this.DOMObj.querySelector(\".gui-window__titlebar\");\n        this.close = this.DOMObj.getElementsByClassName(\"window-btn-close\")[0];\n        this.min = this.DOMObj.getElementsByClassName(\"window-btn-minimize\")[0];\n        this.max = this.DOMObj.getElementsByClassName(\"window-btn-maximize\")[0];\n        this.icon = this.DOMObj.querySelector(\".gui-window__titlebar__icon\");\n        this.title = this.DOMObj.querySelector(\".gui-window__titlebar__title\");\n        this.windowIcon = this.DOMObj.querySelector(\".gui-window__titlebar__icon\");\n        this.windowContent = this.DOMObj.querySelector(\".gui-window__content\");\n    }\n    \n    registerEvents() {\n        this.close.addEventListener('click', function() {\n            this.panelInstance.windowAction(\"close\", this.id);\n        }.bind(this));\n        \n        this.min.addEventListener('click', function() {\n            this.panelInstance.windowAction(\"minimize\", this.id);\n        }.bind(this));\n        \n        this.max.addEventListener('click', function() {\n            // let content = this.guiWindow.getElementsByClassName(\"gui-window__content\")[0];\n            // if(content.style.display == \"none\") {\n            //     content.style.display = \"block\";\n            // } else {\n            //     content.style.display = \"none\";\n            // }\n            this.maximizeWindow();\n        }.bind(this));\n        \n        this.nwResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingNW = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.neResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingNE = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.swResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingSW = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.seResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingSE = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n\n        this.nResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingN = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.sResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingS = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.wResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingW = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.eResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingE = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        document.addEventListener('mouseup', function(event) {\n            if(this.isBeingResized) {\n                this.isBeingResized = false;\n                this.isResizingNW = false;\n                this.isResizingNE = false;\n                this.isResizingSW = false;\n                this.isResizingSE = false;\n                this.isResizingN = false;\n                this.isResizingS = false;\n                this.isResizingW = false;\n                this.isResizingE = false;\n            }\n        }.bind(this));\n        \n        document.addEventListener('mousemove', function(event) {\n            if(this.isBeingResized) {\n                if(this.isResizingNW) {\n                    let change = this.cachedResizeX-event.clientX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.left = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.left = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n                    change = this.cachedResizeY-event.clientY;\n                    changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.top = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.top = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n                    \n                    this.cachedResizeX = event.clientX;\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingNE) {\n                    let change = event.clientX-this.cachedResizeX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.right = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.right = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n                    change = this.cachedResizeY-event.clientY;\n                    changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.top = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.top = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n                    \n                    this.cachedResizeX = event.clientX;\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingSW) {\n                    let change = this.cachedResizeX-event.clientX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.left = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.left = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n                    change = event.clientY-this.cachedResizeY;\n                    changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.bottom = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.bottom = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n                    \n                    this.cachedResizeX = event.clientX;\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingSE) {\n                    let change = event.clientX-this.cachedResizeX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.right = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.right = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n                    change = event.clientY-this.cachedResizeY;\n                    changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.bottom = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.bottom = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n                    \n                    this.cachedResizeX = event.clientX;\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingN) {\n                    let change = this.cachedResizeY-event.clientY;\n                    let changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.top = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.top = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingS) {\n                    let change = event.clientY-this.cachedResizeY;\n                    let changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.bottom = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.bottom = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingW) {\n                    let change = this.cachedResizeX-event.clientX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.left = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.left = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n\n                    this.cachedResizeX = event.clientX;\n                } else if(this.isResizingE) {\n                    let change = event.clientX-this.cachedResizeX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.right = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.right = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n\n                    this.cachedResizeX = event.clientX;\n                }\n                \n                this.calculateNewTitleLimits();\n            }\n        }.bind(this));\n        \n        this.guiWindow.addEventListener('mousedown', function(event) {\n            if(event.button == 0) {\n                this.focusWindow();\n            }\n        }.bind(this));\n        \n        this.titleBar.addEventListener('mousedown', function(event) {\n            this.isBeingDragged = true;\n            this.cachedX = event.clientX;\n            this.cachedY = event.clientY;\n            if(!this.guiWindow.classList.contains(\"window-effect-transparency\")) {\n                this.guiWindow.classList.add(\"window-effect-transparency\");\n            }\n        }.bind(this));\n\n        this.titleBar.addEventListener('dblclick', function(event) {\n            this.maximizeWindow();\n        }.bind(this));\n\n        document.addEventListener('mouseup', function(event) {\n            if(this.isBeingDragged) {\n                this.isBeingDragged = false;\n                if(!this.isMaximized && (this.isAtTop || this.isAtLeft || this.isAtRight)) {\n                    this.snapWindow();\n                }\n                this.guiWindow.classList.remove(\"window-effect-transparency\");\n            }\n        }.bind(this));\n        \n        document.addEventListener('mousemove', function(event) {\n            if(this.isBeingDragged) {\n                let coord = this.guiWindow.getBoundingClientRect();\n                let resizeChangeHorizontal = (((event.clientX)-this.cachedX)+coord.left);\n                let resizeChangeVertical = (((event.clientY)-this.cachedY)+coord.top);\n                this.guiWindow.style.left = resizeChangeHorizontal+\"px\";\n                this.guiWindow.style.top = resizeChangeVertical+\"px\";\n                coord = this.guiWindow.getBoundingClientRect();\n                if(coord.top < 0) {\n                    this.guiWindow.style.top = 0+\"px\";\n                    this.cachedX = event.clientX;\n                    this.setWindowY(0);\n                } else {\n                    this.cachedX = event.clientX;\n                    this.cachedY = event.clientY;\n                }\n                this.checkForEnterCorners(event);\n                this.checkForLeaveCorners(event);\n            }\n        }.bind(this));\n    }\n    \n    checkForEnterCorners(event) {\n        if(!this.isAtTop && this.getWindowY() <= 0) {\n            if(this.getWindowX() > 10 && ((this.getWindowX() + this.getWidth()) < (document.body.clientWidth-10))) {\n                this.isAtTop = true;\n                this.toggleWindowSnapVisualEffects(\"top\");\n            }\n        }\n        if(!this.isMaximized) {\n            if(!this.isAtLeft && this.getWindowX() < 10) {\n                this.isAtLeft = true;\n                this.toggleWindowSnapVisualEffects(\"left\");\n            }\n            if(!this.isAtRight && (this.getWindowX() + this.getWidth()) > (document.body.clientWidth-10)) {\n                this.isAtRight = true;\n                this.toggleWindowSnapVisualEffects(\"right\");\n            }\n        }\n    }\n    \n    checkForLeaveCorners() {\n        if(this.isAtTop) {\n            if(this.getWindowY() >= 10 || this.getWindowX() < 10 || ((this.getWindowX() + this.getWidth()) > (document.body.clientWidth-10))) {\n                this.isAtTop = false;\n                this.leaveCornerAction(\"top\");\n            }\n        }\n        if(this.isAtLeft) {\n            if(this.getWindowX() > 10) {\n                this.isAtLeft = false;\n                this.leaveCornerAction(\"left\");\n            }\n        }\n        if(this.isAtRight) {\n            if((this.getWindowX() + this.getWidth()) < (document.body.clientWidth-10)) {\n                this.isAtRight = false;\n                this.leaveCornerAction(\"right\");\n            }\n        }\n    }\n\n    leaveCornerAction(indicator) {\n        if(this.isSnapped) {\n            this.snapWindow();\n        }\n        \n        if(this.snapEffectsToggled) {\n            this.toggleWindowSnapVisualEffects(indicator);\n        }\n    }\n    \n    toggleWindowSnapVisualEffects(indicator) {\n        let desktop = SimpleJSGui.getDesktop().getDOMObject();\n        let visualEffectTop = desktop.querySelector(\".gui-desktop__window-snap-indicator-top\");\n        let visualEffectLeft = desktop.querySelector(\".gui-desktop__window-snap-indicator-left\");\n        let visualEffectRight = desktop.querySelector(\".gui-desktop__window-snap-indicator-right\");\n\n        if(indicator == \"top\") {\n            visualEffectTop.classList.toggle(\"window-snap-indicator-fade-in\");\n        }\n        if(indicator == \"left\") {\n            visualEffectLeft.classList.toggle(\"window-snap-indicator-fade-in\");\n        }\n        if(indicator == \"right\") {\n            visualEffectRight.classList.toggle(\"window-snap-indicator-fade-in\");\n        }\n        \n        let checkTop = visualEffectTop.classList.contains(\"window-snap-indicator-fade-in\");\n        let checkLeft = visualEffectLeft.classList.contains(\"window-snap-indicator-fade-in\");\n        let checkRight = visualEffectRight.classList.contains(\"window-snap-indicator-fade-in\");\n\n        if(checkTop || checkLeft || checkRight) {\n            this.snapEffectsToggled = true;\n        } else {\n            this.snapEffectsToggled = false;\n        }\n    }\n    \n    snapWindow() {\n        if(!this.isSnapped) {\n            if(this.isAtTop && !this.isMaximized) {\n                this.maximizeWindow();\n                this.toggleWindowSnapVisualEffects(\"top\");\n                this.isSnapped = true;\n            } else if(this.isAtLeft) {\n                this.cachedWidth = this.getWidth();\n                this.cachedHeight = this.getHeight();\n                this.cachedXBeforeSnap = 0;\n                this.guiWindow.style.left = \"0px\";\n                this.guiWindow.style.top = \"0px\";\n                this.setWidth(\"50%\");\n                this.setHeight(SimpleJSGui.getDesktop().getDesktopDOMObject().clientHeight);\n                this.toggleWindowSnapVisualEffects(\"left\");\n            } else if(this.isAtRight) {\n                this.cachedWidth = this.getWidth();\n                this.cachedHeight = this.getHeight();\n                this.cachedXBeforeSnap = document.body.clientWidth-this.getWidth();\n                this.setWidth(\"50%\");\n                this.setHeight(SimpleJSGui.getDesktop().getDesktopDOMObject().clientHeight);\n                let temp = (document.body.clientWidth - this.getWidth());\n                this.guiWindow.style.left = temp + \"px\";\n                this.guiWindow.style.top = \"0px\";\n                this.toggleWindowSnapVisualEffects(\"right\");\n            }\n            if((this.isAtTop && !this.isMaximized) || this.isAtLeft || this.isAtRight) {\n                this.isSnapped = true;\n            }\n        } else {\n            if(!this.isAtTop && this.isMaximized) {\n                this.maximizeWindow();\n            } else if(!this.isAtLeft || !this.isAtRight) {\n                this.setWidth(this.cachedWidth);\n                this.setHeight(this.cachedHeight);\n                this.setWindowX(this.cachedXBeforeSnap);\n            }\n            this.isSnapped = false;\n        }\n    }\n    \n    maximizeWindow() {\n        if(this.isMaximized) {\n            this.isMaximized = false;\n            this.isSnapped = false;\n            this.isAtTop = false;\n            this.setWindowX(this.cachedXBeforeMax);\n            if(!this.isBeingDragged) {\n                this.setWindowY(this.cachedYBeforeMax);\n            }\n            this.setWidth(this.cachedWidth);\n            this.setHeight(this.cachedHeight);\n        } else {\n            this.cachedXBeforeMax = this.getWindowX();\n            this.cachedYBeforeMax = this.getWindowY();\n            this.cachedWidth = this.getWidth();\n            this.cachedHeight = this.getHeight();\n            this.guiWindow.style.left = \"0\";\n            this.guiWindow.style.top = \"0\";\n            this.setWidth(\"100%\");\n            this.setHeight(SimpleJSGui.getDesktop().getDesktopDOMObject().clientHeight);\n            this.isMaximized = true;\n            this.isSnapped = true;\n            this.isAtTop = true;\n        }\n    }\n\n    setResizeListenerFullHD(newListener) {\n        this.resizeListenerFullHD = newListener;\n    }\n\n    setResizeListenerHD(newListener) {\n        this.resizeListenerHD = newListener;\n    }\n\n    setResizeListenerVGA(newListener) {\n        this.resizeListenerVGA = newListener;\n    }\n\n    setResizeListenerQVGA(newListener) {\n        this.resizeListenerQVGA = newListener;\n    }\n    \n    removeDimensionFlags() {\n        this.guiWindow.classList.remove(\"gui-window--size-fullhd\");\n        this.guiWindow.classList.remove(\"gui-window--size-hd\");\n        this.guiWindow.classList.remove(\"gui-window--size-vga\");\n        this.guiWindow.classList.remove(\"gui-window--size-qvga\");\n    }\n    \n    applyNewDimensionFlags(width) {\n        if(width.indexOf(\"%\") != -1) {\n            width = width.substring(0, width.length-1);\n            width = window.innerWidth * (width/100);\n        }\n        this.removeDimensionFlags();\n        if(width >= 1920) {\n            if(this.resizeListenerFullHD && !this.wasListenerFullHDCalled) {\n                this.resizeListenerFullHD();\n                this.wasListenerFullHDCalled = true;\n                this.wasListenerHDCalled = false;\n                this.wasListenerVGACalled = false;\n                this.wasListenerQVGACalled = false;\n            }\n            this.guiWindow.classList.add(\"gui-window--size-fullhd\");\n        } else if(width >= 1280) {\n            if(this.resizeListenerHD && !this.wasListenerHDCalled) {\n                this.resizeListenerHD();\n                this.wasListenerHDCalled = true;\n                this.wasListenerFullHDCalled = false;\n                this.wasListenerVGACalled = false;\n                this.wasListenerQVGACalled = false;\n            }\n            this.guiWindow.classList.add(\"gui-window--size-hd\");\n        } else if(width >= 640) {\n            if(this.resizeListenerVGA && !this.wasListenerVGACalled) {\n                this.resizeListenerVGA();\n                this.wasListenerVGACalled = true;\n                this.wasListenerFullHDCalled = false;\n                this.wasListenerHDCalled = false;\n                this.wasListenerQVGACalled = false;\n            }\n            this.guiWindow.classList.add(\"gui-window--size-vga\");\n        } else if(width < 640) {\n            if(this.resizeListenerQVGA && !this.wasListenerQVGACalled) {\n                this.resizeListenerQVGA();\n                this.wasListenerQVGACalled = true;\n                this.wasListenerFullHDCalled = false;\n                this.wasListenerHDCalled = false;\n                this.wasListenerVGACalled = false;\n            }\n            this.guiWindow.classList.add(\"gui-window--size-qvga\");\n        }\n    }\n    \n    unfocusAllWindows() {\n        let allWindows = this.panelInstance.getWindows();\n        for(let i = 0; i < allWindows.length; i++) {\n            let aWindow = allWindows[i].getDOMObject().querySelector(\".gui-window\");\n            if(!aWindow.classList.contains(\"window-effect-shade\")) {\n                aWindow.classList.add(\"window-effect-shade\");\n            }\n        }\n    }\n    \n    focusWindow() {\n        this.unfocusAllWindows();\n        this.guiWindow.classList.remove(\"window-effect-shade\");\n    }\n    \n    setWidth(width) {\n        width = width + \"\";\n        this.applyNewDimensionFlags(width);\n        if(width.indexOf('%') != -1) {\n            this.guiWindow.style.width = width;\n        } else {\n            this.guiWindow.style.width = width+\"px\";\n        }\n        this.calculateNewTitleLimits();\n    }\n    \n    setHeight(height) {\n        height = height + \"\";\n        if(height.indexOf('%') != -1) {\n            this.guiWindow.style.height = height;\n        } else {\n            this.guiWindow.style.height = height+\"px\";\n        }\n        this.calculateNewTitleLimits();\n    }\n    \n    setBackgroundColor(bgrcolor) {\n        this.guiWindow.querySelector(\".gui-window__content\").style.background = bgrcolor;\n    }\n    \n    setTitle(title) {\n        this.titleText = title;\n        if(title.length > this.maxTitleLength) {\n            title = title.substring(0, (this.maxTitleLength-3)) + \"...\";\n        }\n        this.title.textContent = title;\n        this.calculateNewTitleLimits();\n        if(this.panelInstance.getPanelItem(this.id) != null) {\n            this.panelInstance.getPanelItem(this.id).setTitle(title);\n        }\n    }\n    \n    calculateNewTitleLimits() {\n        let width = this.getWidth();\n        let leftLimit = this.DOMObj.querySelector(\".window-btn-maximize\").getBoundingClientRect().right - this.getWindowX();\n        let rightLimit = this.getWidth() - (this.DOMObj.querySelector(\".gui-window__titlebar__icon\").getBoundingClientRect().left-this.getWindowX());\n        let appliableWidth = width - (leftLimit + rightLimit);\n        let numOfChars = Math.floor(appliableWidth / this.remInPixels);\n        if(this.titleText.length > numOfChars) {\n            if(this.titleText[numOfChars-4] == \" \") {\n                this.title.textContent = this.titleText.substring(0, numOfChars-4)+\"...\";\n            } else {\n                this.title.textContent = this.titleText.substring(0, numOfChars-3)+\"...\";\n            }\n        } else {\n            this.title.textContent = this.titleText;\n        }\n    }\n    \n    setWindowIcon(path) {\n        this.windowIcon.setAttribute(\"src\", path);\n        this.panelInstance.getPanelItem(this.id).setIcon(path);\n    }\n    \n    setContent(content) {\n        if(content instanceof Object) {\n            this.content = content;\n            this.windowContent.appendChild(this.content);\n            content.remove();\n        } else if (!(content instanceof Object)) {\n            this.content = content;\n            this.windowContent.innerHTML = this.content;\n        }\n    }\n    \n    setWindowX(x) {\n        this.guiWindow.style.left = x+\"px\";\n    }\n    \n    setWindowY(y) {\n        this.guiWindow.style.top = y+\"px\";\n    }\n    \n    getWindowX() {\n        return Number(this.guiWindow.style.left.split(\"px\")[0]);\n    }\n    \n    getWindowY() {\n        return Number(this.guiWindow.style.top.split(\"px\")[0]);\n    }\n    \n    getWidth() {\n        if(this.guiWindow.style.width.indexOf(\"%\") != -1) {\n            return document.body.clientWidth * (Number(this.guiWindow.style.width.split(\"%\")[0])/100);\n        } else {\n            return Number(this.guiWindow.style.width.split(\"px\")[0]);\n        }\n    }\n    \n    getHeight() {\n        if(this.guiWindow.style.height.indexOf(\"%\") != -1) {\n            return document.body.clientHeight * (Number(this.guiWindow.style.height.split(\"%\")[0])/100);\n        } else {\n            return Number(this.guiWindow.style.height.split(\"px\")[0]);\n        }\n    }\n    \n    getBackgroundColor() {\n        return this.guiWindow.querySelector(\".gui-window__content\").style.background;\n    }\n    \n    getTitle() {\n        return this.title.textContent;\n    }\n    \n    getContent() {\n        return this.content;\n    }\n    \n    isWindowPinnable() {\n        return this.isPinnable;\n    }\n}\n\nexport default Window;"],"sourceRoot":""}