{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./engine/webpack-entry.js","webpack:///./engine/modules/desktop.js","webpack:///./engine/modules/overlay.js","webpack:///./engine/modules/system.js","webpack:///./engine/modules/windowmanager.js","webpack:///./engine/modules/task-bar.js","webpack:///./engine/modules/panel-menu.js","webpack:///./engine/modules/panel-clock.js","webpack:///./engine/modules/panel-item-contextmenu.js","webpack:///./engine/modules/panel-item.js","webpack:///./engine/modules/panel.js","webpack:///./engine/modules/window.js"],"names":["window","SimpleJSGui","System","Desktop","Overlay","TaskBar","PanelMenu","PanelClock","PanelItemContextMenu","PanelItem","Panel","Window","wholeScreenObj","document","createElement","classList","add","DOMObj","snapIndicatorTop","snapIndicatorLeft","snapIndicatorRight","appendChild","currentBgrDOM","width","height","option","bottomValue","body","clientHeight","style","bottom","newColor","backgroundColor","imageUrl","backgroundImage","backgroundSize","value","backgroundRepeat","a","b","backgroundPosition","started","minimumLoadingTime","desktop","smallScreenMsg","loadingOverlay","windowManager","WindowManager","getDOMObject","overLayMessage","textContent","loadingMsg","left","transform","display","addEventListener","event","panel","minimalWidth","calculateMinimalWidth","innerWidth","bind","newWindow","addAWindow","newPanel","setTimeout","intervalId","setInterval","readyState","cancelInterval","windows","windowIDS","lastWindowID","windowListDisplays","newDisplay","push","newID","setID","generateANewWindowID","forEach","list","notifyListChanged","newTopWindowIndex","currentWindow","currentIndex","zIndex","i","length","Number","FreeSpaceWidget","taskBar","clientWidth","leftContainer","rightContainer","panelWidth","leftContainerWidth","rightContainerWidth","switcherWidth","getLineContainer","getLineSwitcher","LineSwitcher","moveUp","moveDown","currentLevel","currentLine","getCurrentLine","switchLine","getLines","text","LineContainer","lines","wrapper","line","removeChild","firstChild","newLine","setCurrentLineText","top","getLineHeight","Line","items","getComputedStyle","getPropertyValue","substring","indexOf","item","getItem","mode","querySelector","lineContainer","addALine","lineSwitcher","getWrapperDOM","freeSpaceWidget","calculateFreeSpace","newItem","putAnItem","itemsInALine","Math","floor","getItemDefaultWidth","numOfItems","shouldEmptyLineContainer","cachedNumOfItems","amount","reduce","calculateWidth","numOfLines","visibility","empty","j","ij","rearrangeItems","innerHTML","menuIcon","menuContent","toggle","button","target","close","remove","itemName","elementListener","newElement","console","log","PanelItemClock","panelInstance","time","displayedTime","clockIntervalID","clockValue","clockWidget","createTheClockWidget","clockWidgetDate","isAClockWidget","evt_target","parentNode","Date","hours","getHours","minutes","getMinutes","tableTop","testDate","currYear","getFullYear","currMonth","getMonth","currDay","getDate","prevMonth","renderMonth","nextMonth","monthTextSpan","setAttribute","clockContent","table","year","month","currDate","isCurrentMonth","currDayOfWeek","getDay","dayOfWeekOfTheFirstDay","daysInTheMonth","daysInThePreviousMonth","monthInText","data","isInPreviousMonth","dayValue","index","isInNextMonth","row","num","panelItem","panelITem","contains","newY","insertBefore","id","itemWidth","maxTitleLength","withText","contextMenu","nameObj","itemIcon","changeMode","newtitle","path","windowsStatus","Map","panelMenu","addAnItem","addASeparator","panelClock","getDesktop","startTheClock","getWindowManager","registerWindowListDisplay","element","isAChild","unfocusAllWindows","getWindows","set","getId","getTitle","node","getItems","nodeElem","status","get","windowAction","preventDefault","anItem","getContextMenu","setBottomY","innerHeight","getBoundingClientRect","isWindowPinnable","focusWindow","instanceId","actionToDo","windowId","getWindowOrderNumberById","getElementsByClassName","getElementById","windownode","itemnode","splice","delete","dummyPanelItem","titleText","remInPixels","isPinnable","isBeingDragged","cachedX","cachedY","isBeingResized","minWidth","minHeight","isResizingNW","isResizingNE","isResizingSW","isResizingSE","isResizingN","isResizingS","isResizingW","isResizingE","cachedResizeX","cachedResizeY","resizeListenerFullHD","resizeListenerHD","resizeListenerVGA","resizeListenerQVGA","wasListenerFullHDCalled","wasListenerHDCalled","wasListenerVGACalled","wasListenerQVGACalled","isMaximized","cachedXBeforeMax","cachedYBeforeMax","cachedWidth","cachedHeight","isSnapped","snapEffectsToggled","cachedXBeforeSnap","isAtTop","isAtLeft","isAtRight","createDOMObject","setTitle","parseInt","fontSize","guiWindow","setWidth","setHeight","registerEvents","getPanelItem","nwResize","neResize","swResize","seResize","nResize","sResize","wResize","eResize","titleBar","min","max","icon","title","windowIcon","windowContent","maximizeWindow","clientX","clientY","change","changeToApply","getWindowX","getWidth","getWindowY","getHeight","right","calculateNewTitleLimits","snapWindow","coord","resizeChangeHorizontal","resizeChangeVertical","setWindowY","checkForEnterCorners","checkForLeaveCorners","toggleWindowSnapVisualEffects","leaveCornerAction","indicator","visualEffectTop","visualEffectLeft","visualEffectRight","checkTop","checkLeft","checkRight","getDesktopDOMObject","temp","setWindowX","newListener","removeDimensionFlags","allWindows","aWindow","applyNewDimensionFlags","bgrcolor","background","leftLimit","rightLimit","appliableWidth","numOfChars","setIcon","content","Object","x","y","split"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import Desktop from './modules/desktop';\nimport Overlay from './modules/overlay';\nimport System from './modules/system';\nimport TaskBar from './modules/task-bar';\nimport PanelMenu from './modules/panel-menu';\nimport PanelClock from './modules/panel-clock'\nimport PanelItemContextMenu from './modules/panel-item-contextmenu';\nimport PanelItem from './modules/panel-item';\nimport Panel from './modules/panel';\nimport Window from './modules/window';\n\nwindow.SimpleJSGui = new System();\n\nwindow.Desktop =  Desktop;\nwindow.Overlay =  Overlay;\nwindow.TaskBar =  TaskBar;\nwindow.PanelMenu =  PanelMenu;\nwindow.PanelClock =  PanelClock;\nwindow.PanelItemContextMenu =  PanelItemContextMenu;\nwindow.PanelItem =  PanelItem;\nwindow.Panel =  Panel;\nwindow.Window =  Window;","class Desktop {\n    constructor() {\n        this.wholeScreenObj = document.createElement(\"div\");\n        this.wholeScreenObj.classList.add(\"gui-desktop\");\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-desktop\");\n        this.DOMObj.classList.add(\"gui-desktop--only-desktop\");\n        this.snapIndicatorTop = document.createElement(\"div\");    \n        this.snapIndicatorLeft = document.createElement(\"div\");\n        this.snapIndicatorRight = document.createElement(\"div\");\n        this.snapIndicatorTop.classList.add(\"gui-desktop__window-snap-indicator-top\");\n        this.snapIndicatorLeft.classList.add(\"gui-desktop__window-snap-indicator-left\");\n        this.snapIndicatorRight.classList.add(\"gui-desktop__window-snap-indicator-right\");\n        this.DOMObj.appendChild(this.snapIndicatorTop);\n        this.DOMObj.appendChild(this.snapIndicatorLeft);\n        this.DOMObj.appendChild(this.snapIndicatorRight);\n        this.wholeScreenObj.appendChild(this.DOMObj);\n        this.currentBgrDOM = this.DOMObj;\n        this.width;\n        this.height;\n    }\n\n    getDOMObject() {\n        return this.wholeScreenObj;\n    }\n\n    getDesktopDOMObject() {\n        return this.DOMObj;\n    }\n\n    shouldBackgroundCoverWholeViewport(option) {\n        if(option == true) {\n            this.currentBgrDOM = this.wholeScreenObj;\n            var bottomValue = document.body.clientHeight-this.DOMObj.clientHeight;\n            this.snapIndicatorLeft.style.bottom = bottomValue+\"px\";\n            this.snapIndicatorRight.style.bottom = bottomValue+\"px\";\n        } else {\n            this.currentBgrDOM = this.DOMObj;\n            this.snapIndicatorLeft.style.bottom = 0;\n            this.snapIndicatorRight.style.bottom = 0;\n        }\n    }\n\n    changeBackgroundColor(newColor) {\n        this.currentBgrDOM.style.backgroundColor = newColor;\n    }\n\n    changeBackgroundImage(imageUrl) {\n        this.currentBgrDOM.style.backgroundImage = \"url('\" + imageUrl + \"')\";\n        this.currentBgrDOM.style.backgroundSize = \"cover\";\n    }\n    \n    setBackgroundSize(value) {\n        this.currentBgrDOM.style.backgroundSize = value;\n    }\n\n    setBackgroundRepeat(value) {\n        this.currentBgrDOM.style.backgroundRepeat = value;\n    }\n\n    setBackgroundPosition(a, b) {\n        this.currentBgrDOM.style.backgroundPosition = a;\n        if(b) {\n            this.currentBgrDOM.style.backgroundPosition += \" \" + b;\n        }\n    }\n}\n\nexport default Desktop;","class Overlay {\n    constructor() {\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-overlay\");\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n}\n\nexport default Overlay;","import Desktop from './desktop';\nimport Overlay from './overlay';\nimport WindowManager from './windowmanager';\n\nclass System {\n    constructor() {\n        this.started = false;\n        this.minimumLoadingTime = 250;\n        this.desktop = new Desktop();\n        this.smallScreenMsg = new Overlay();\n        this.loadingOverlay = new Overlay();\n        this.windowManager = new WindowManager();\n        document.body.appendChild(this.desktop.getDOMObject());\n        document.body.appendChild(this.smallScreenMsg.getDOMObject());\n        var overLayMessage = document.createElement(\"p\");\n        overLayMessage.textContent = \"The browser window is too small to fit the necessary SimpleJSGui components.\";\n        this.smallScreenMsg.getDOMObject().appendChild(overLayMessage);\n        document.body.appendChild(this.loadingOverlay.getDOMObject());\n        var loadingMsg = document.createElement(\"p\");\n        loadingMsg.textContent = \"Loading...\";\n        loadingMsg.style.left = \"50%\";\n        loadingMsg.style.transform = \"translate(-50%, -50%)\";\n        this.loadingOverlay.getDOMObject().appendChild(loadingMsg);\n        this.loadingOverlay.getDOMObject().style.display = \"block\";\n        \n        window.addEventListener('resize', function(event) {\n            if(this.panel) {\n                this.minimalWidth = this.panel.calculateMinimalWidth();\n                if(window.innerWidth < this.minimalWidth) {\n                    this.smallScreenMsg.getDOMObject().style.display = \"block\";\n                } else {\n                    this.smallScreenMsg.getDOMObject().style.display = \"none\";\n                }\n            }\n        }.bind(this));\n    }\n    \n    getDesktop() {\n        return this.desktop;\n    }\n\n    getWindowManager() {\n        return this.windowManager;\n    }\n\n    addAWindow(newWindow) {\n        this.windowManager.addAWindow(newWindow);\n    }\n    \n    // NOT NEEDED AT THIS TIME, REMOVE IF OBSOLETE IN THE FUTURE\n    registerPanel(newPanel) {\n        this.panel = newPanel;\n    }\n    \n    start() {\n        if(!this.started) {\n            window.setTimeout(function() {\n                var intervalId = window.setInterval(function() {\n                    if(document.readyState === \"complete\") {\n                        this.started = true;\n                        this.loadingOverlay.getDOMObject().style.display = \"none\";\n                    }\n                    window.cancelInterval(intervalId);\n                }.bind(this), 100);\n            }.bind(this), this.minimumLoadingTime);\n        }\n    }\n}\n\nexport default System;","class WindowManager {\n    constructor() {\n        this.windows = [];\n        this.windowIDS = [];\n        this.lastWindowID = 0;\n        this.windowListDisplays = [];\n    }\n\n    registerWindowListDisplay(newDisplay) {\n        this.windowListDisplays.push(newDisplay);\n    }\n\n    generateANewWindowID() {\n        let newID = ++this.lastWindowID;\n        this.windowIDS.push(newID);\n    }\n\n    addAWindow(newWindow) {\n        newWindow.setID(this.generateANewWindowID());\n        this.windows.push(newWindow);\n        this.windowListDisplays.forEach(function(list) {\n            list.notifyListChanged();\n        });\n    }\n\n    sortWindowsByZIndex(newTopWindowIndex) {\n        let currentWindow = this.windows[newTopWindowIndex];\n        let currentIndex = currentWindow.style.zIndex;\n        this.windows[newTopWindowIndex].style.zIndex = 0;\n        for(let i = 0; i < this.windows.length; i++) {\n            let zIndex = this.windows[i].getDOMObject().style.zIndex;\n            if(!(zIndex < currentIndex)) {\n                zIndex = Number(zIndex) - 1;\n                this.windows[i].getDOMObject().style.zIndex = zIndex;\n            }\n        }\n    }\n\n    getWindows() {\n        return this.windows;\n    }\n}\n\nexport default WindowManager;","class FreeSpaceWidget {\n    constructor(taskBar) {\n        this.taskBar = taskBar;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__free-space\");\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n    \n    getWidth() {\n        return this.DOMObj.clientWidth;\n    }\n    \n    calculateWidth(panel, leftContainer, rightContainer) {\n        let panelWidth = panel.clientWidth;\n        let leftContainerWidth = leftContainer.clientWidth;\n        let rightContainerWidth = rightContainer.clientWidth;\n        // console.log(\"panel \" + panelWidth);\n        // console.log(\"left \" + leftContainerWidth);\n        // console.log(\"right \" + rightContainerWidth);\n        let switcherWidth = 0;\n        if(this.taskBar && this.taskBar.getLineContainer() && this.taskBar.getLineSwitcher()) {\n            switcherWidth = this.taskBar.getLineSwitcher().getDOMObject().clientWidth;\n        }\n        let width = panelWidth-((leftContainerWidth-this.DOMObj.clientWidth)+rightContainerWidth);\n        // console.log(\"width is at: \" + width + \"px\");\n        if(width > 0) {\n            this.DOMObj.style.width = width+\"px\";\n        } else {\n            this.DOMObj.style.width = \"0px\";\n            \n            width = panelWidth - (rightContainerWidth + (leftContainerWidth-this.taskBar.getLineContainer().getDOMObject().clientWidth));\n            this.taskBar.getLineContainer().getDOMObject().style.width = width+\"px\";\n        }\n    }\n}\n\nclass LineSwitcher {\n    constructor(taskBar) {\n        this.taskBar = taskBar;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__line-switcher\");\n        \n        this.moveUp = document.createElement(\"img\");\n        this.moveUp.classList.add(\"gui-panel__task-bar__line-switcher__move-up\");\n        this.moveDown = document.createElement(\"img\");\n        this.moveDown.classList.add(\"gui-panel__task-bar__line-switcher__move-down\");\n        this.currentLevel = document.createElement(\"p\");\n        this.currentLevel.classList.add(\"gui-panel__task-bar__line-switcher__current-level\");\n        this.currentLevel.textContent = \"1\";\n        \n        this.moveDown.addEventListener(\"click\", function() {\n            currentLine = this.taskBar.getLineContainer().getCurrentLine();\n            // console.log(\"Going down, line is \" + currentLine);\n            if(currentLine > 0) {\n                currentLine -= 1;\n                this.taskBar.getLineContainer().switchLine(currentLine);\n                // console.log(\"Line Down! #\" + currentLine);\n            }\n        }.bind(this));\n        \n        this.moveUp.addEventListener(\"click\", function() {\n            currentLine = this.taskBar.getLineContainer().getCurrentLine();\n            // console.log(\"Going up, line is \" + currentLine + \" \" + this.taskBar.getLineContainer().getLines().length);\n            if(currentLine < this.taskBar.getLineContainer().getLines().length-1) {\n                currentLine += 1;\n                this.taskBar.getLineContainer().switchLine(currentLine);\n                // console.log(\"Line Up! #\" + currentLine);\n            }\n        }.bind(this));\n        \n        this.DOMObj.appendChild(this.moveDown);\n        this.DOMObj.appendChild(this.currentLevel);\n        this.DOMObj.appendChild(this.moveUp);\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n    \n    setCurrentLineText(text) {\n        this.currentLevel.textContent = text;\n    }\n}\n\nclass LineContainer {\n    constructor(taskBar) {\n        this.taskBar = taskBar;\n        this.lines = [];\n        this.currentLine = 0;\n        this.wrapper = document.createElement(\"div\");\n        this.wrapper.classList.add(\"gui-panel__task-bar__wrapper\");\n        \n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__wrapper__line-container\");\n        \n        this.wrapper.appendChild(this.DOMObj);\n    }\n    \n    addALine(line) {\n        this.lines.push(line);\n        this.DOMObj.appendChild(line.getDOMObject());\n    }\n    \n    empty() {\n        for(let i = 0; i < this.lines.length; i++) {\n            this.DOMObj.removeChild(this.DOMObj.firstChild);\n        }\n        \n        this.lines = [];\n    }\n    \n    getLines() {\n        return this.lines;\n    }\n    \n    getCurrentLine() {\n        return this.currentLine;\n    }\n    \n    switchLine(newLine) {\n        this.currentLine = newLine;\n        // console.log(\"currentLine is now: \" + newLine);\n        // console.log(\"Line height of first line is: \" + this.lines[0].getLineHeight());\n        // console.log(\"New top is: \" + -(newLine)*this.lines[0].getLineHeight());\n        this.taskBar.getLineSwitcher().setCurrentLineText(newLine+1);\n        this.DOMObj.style.top = -(newLine)*this.lines[0].getLineHeight()+\"px\";\n    }\n    \n    getWrapperDOM() {\n        return this.wrapper;\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n}\n\nclass Line {\n    constructor(taskBar) {\n        this.taskBar = taskBar;\n        this.items = [];\n        this.height = 0;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__wrapper__line-container__line\");\n        let height = window.getComputedStyle(this.DOMObj).getPropertyValue(\"height\");\n        this.height = Number(height.substring(0, height.indexOf(\"px\")));\n    }\n    \n    putAnItem(item) {\n        this.items.push(item);\n        this.DOMObj.appendChild(item.getItem());\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n    \n    getLineHeight() {\n        return this.height;\n    }\n}\n\nclass TaskBar {\n    constructor() {\n        this.mode = \"icons text\";\n        this.items = [];\n        this.panel = document.querySelector(\".gui-panel\");\n        this.leftContainer = document.querySelector(\".gui-panel__left-container\");\n        this.rightContainer = document.querySelector(\".gui-panel__right-container\");\n        \n        this.lineContainer = new LineContainer(this);\n        this.lineContainer.addALine(new Line(this));\n        \n        this.lineSwitcher = new LineSwitcher(this);\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar\");\n        this.DOMObj.appendChild(this.lineContainer.getWrapperDOM());\n        this.DOMObj.appendChild(this.lineSwitcher.getDOMObject());\n        this.freeSpaceWidget = new FreeSpaceWidget(this);\n        this.DOMObj.appendChild(this.freeSpaceWidget.getDOMObject());\n        this.calculateFreeSpace();\n        \n        window.addEventListener('resize', function() {\n            this.calculateFreeSpace();\n        }.bind(this));\n    }\n    \n    getDOMObject() {\n        return this.DOMObj;\n    }\n    \n    getLineContainer() {\n        return this.lineContainer;\n    }\n    \n    getLineSwitcher() {\n        return this.lineSwitcher;\n    }\n    \n    addAnItem(newItem) {\n        this.items.push(newItem);\n        this.lineContainer.getLines()[0].putAnItem(newItem);\n        this.freeSpaceWidget.getDOMObject().style.width = \"0px\";\n        this.calculateFreeSpace();\n    }\n    \n    getItems() {\n        return this.items;\n    }\n    \n    rearrangeItems() {\n        if(this.items.length > 0) {\n            // console.log(\"Rearranging items...\");\n            let itemsInALine = Math.floor((this.DOMObj.clientWidth-this.lineSwitcher.getDOMObject().clientWidth) / this.items[0].getItemDefaultWidth());\n            if(itemsInALine == 0) {\n                itemsInALine = 1;\n            }\n            let numOfItems = itemsInALine;\n            let shouldEmptyLineContainer = false;\n            if(this.cachedNumOfItems != numOfItems) {\n                shouldEmptyLineContainer = true;\n            }\n            this.cachedNumOfItems = numOfItems;\n            if(this.items.length < itemsInALine) {\n                numOfItems = this.items.length;\n            }\n            // console.log(\"items: \" + numOfItems);\n            let amount = (numOfItems*this.items[0].getItemDefaultWidth());\n            this.lineContainer.getDOMObject().style.width = amount + \"px\";\n            let reduce = this.freeSpaceWidget.getDOMObject().clientWidth - amount;\n            this.freeSpaceWidget.getDOMObject().style.width = 0 + \"px\";\n            this.freeSpaceWidget.calculateWidth(this.panel, this.leftContainer, this.rightContainer);\n            // if(this.freeSpaceWidget.getWidth() <= 0) {\n            //     itemsInALine--;\n            // }\n            // console.log(\"width is at: \" + this.DOMObj.clientWidth);\n            // console.log(\"panel is at: \" + this.panel.clientWidth + \", and right is at: \" + this.rightContainer.clientWidth);\n            let numOfLines = Math.floor(this.items.length / itemsInALine);\n            if(this.items.length % itemsInALine != 0) {\n                numOfLines++;\n            }\n            \n            if(!numOfLines) {\n                numOfLines = 0;\n            }\n            \n            if(numOfLines <= 1) {\n                this.lineSwitcher.getDOMObject().style.visibility = \"hidden\";\n            } else {\n                this.lineSwitcher.getDOMObject().style.visibility = \"visible\";\n            }\n            \n            if(this.lineContainer.getCurrentLine() > numOfLines-1) {\n                this.lineContainer.switchLine(numOfLines-1);\n            }\n            \n            // console.log(\"length: \" + this.items.length);\n            // console.log(\"inaline: \" + itemsInALine);\n            // console.log(\"numOfLines: \" + numOfLines);\n            // console.log(\"lines: \" + numOfLines);\n            \n            if(shouldEmptyLineContainer) {\n                this.lineContainer.empty();\n                this.lines = this.lineContainer.getLines();\n                \n                // console.log(this.lines.length);\n                \n                for(let i = 0; i < numOfLines; i++) {\n                    this.lineContainer.addALine(new Line(this));\n                    // newLine = this.lines[this.lines.length-1];\n                }\n                \n                // console.log(this.lines.length);\n                \n                for(let i = 0, j = 0, ij = 0; i < this.items.length; i++, ij++) {\n                    if(ij >= itemsInALine) {\n                        j++;\n                        ij = 0;\n                    }\n                    // console.log(\"Line is: \" + j + \" and item is: \" + i);\n                    \n                    // console.log(this.items[i]);\n                    this.lines[j].putAnItem(this.items[i]);\n                }\n                \n                this.freeSpaceWidget.calculateWidth(this.panel, this.leftContainer, this.rightContainer);\n            }\n            \n            // console.log(\"Num of lines: \" + this.lines.length);\n            // console.log(\"Done rearranging!\");\n            // console.log(\" \");\n        }\n    }\n    \n    calculateFreeSpace() {\n        this.freeSpaceWidget.calculateWidth(this.panel, this.leftContainer, this.rightContainer);\n        this.rearrangeItems();\n        // if(this.freeSpaceWidget.getWidth() <= 0) {\n        //     this.rearrangeItems();\n        // }\n    }\n}\n\nexport default TaskBar;","class PanelMenu {\n    constructor() {\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__menu\");\n        this.DOMObj.innerHTML = '<div class=\"gui-panel__menu__icon\"></div><div class=\"gui-panel__menu__content\"><h1>Menu</h1></div>';\n        this.menuIcon = this.DOMObj.querySelector(\".gui-panel__menu__icon\");\n        this.menuContent = this.DOMObj.querySelector(\".gui-panel__menu__content\");\n\n        this.DOMObj.addEventListener('mousedown', function(event) {\n            this.menuContent.classList.toggle(\"menu-fadein\");\n        }.bind(this));\n\n        document.addEventListener('mousedown', function(event) {\n            if(event.button == 0) {\n                if(event.target != this.menuIcon && event.target != this.menuContent) {\n                    this.close();\n                }\n            }\n        }.bind(this));\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n\n    close() {\n        this.menuContent.classList.remove(\"menu-fadein\");\n    }\n\n    addAnItem(itemName, elementListener) {\n        let newElement = document.createElement(\"p\");\n        newElement.classList.add(\"gui-panel__menu__content__menu-item\");\n        newElement.textContent = itemName;\n        newElement.addEventListener('mousedown', function() {\n            elementListener();\n            this.DOMObj.classList.toggle(\"menu-fadein\");\n        }.bind(this));\n        this.menuContent.appendChild(newElement);\n\n        return this;\n    }\n\n    addASeparator() {\n        let newElement = document.createElement(\"div\");\n        newElement.classList.add(\"gui-panel__menu__content__item-separator\");\n        if(this.menuContent.length == 0) {\n            console.log(\"Didn't append the separator because the content of the menu is empty.\");\n        } else {\n            this.menuContent.appendChild(newElement);\n        }\n\n        return this;\n    }\n}\n\nexport default PanelMenu;","class PanelItemClock {\n    constructor(panelInstance) {\n        this.panelInstance = panelInstance;\n        this.time;\n        this.displayedTime = \"00:00\";\n        this.clockIntervalID;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__clock\");\n        this.DOMObj.innerHTML = \"<p>\"+this.displayedTime+\"</p><div class='gui-panel__clock__clock-widget'></div>\";\n        this.clockValue = this.DOMObj.querySelector(\"p\");\n        this.clockWidget = this.DOMObj.querySelector(\".gui-panel__clock__clock-widget\");\n        this.clockWidget.appendChild(this.createTheClockWidget());\n        this.clockWidgetDate;\n\n        this.clockValue.addEventListener('mousedown', function() {\n            this.clockWidget.classList.toggle(\"clock-widget-fadein\");\n        }.bind(this));\n\n        document.addEventListener('mousedown', function(event) {\n            if(event.button == 0) {\n                if(!this.isAClockWidget(event.target) && event.target != this.clockValue) {\n                    this.clockWidget.classList.remove(\"clock-widget-fadein\");\n                }\n            }\n        }.bind(this));\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n\n    isAClockWidget(evt_target) {\n        while(evt_target != document.body) {\n            if(evt_target == this.clockWidget) {\n                return true;\n            }\n\n            evt_target = evt_target.parentNode;\n        }\n\n        return false;\n    }\n\n    startTheClock() {\n        this.clockIntervalID = setInterval(function() {\n            this.time = new Date();\n            let hours = this.time.getHours();\n            let minutes = this.time.getMinutes();\n            if(hours < 10) {\n                hours = \"0\" + hours;\n            }\n            if(minutes < 10) {\n                minutes = \"0\" + minutes;\n            }\n            this.displayedTime = hours + \":\" + minutes;\n            this.clockValue.textContent = this.displayedTime;\n            if(this.panelInstance.taskBar) {\n                this.panelInstance.taskBar.calculateFreeSpace();\n            }\n        }.bind(this), 25);\n    }\n\n    createTheClockWidget() {\n        let tableTop = document.createElement(\"div\");\n        tableTop.classList.add(\"gui-panel__clock__clock-widget__table-top\");\n\n        let testDate = new Date();\n        let currYear = testDate.getFullYear();\n        let currMonth = testDate.getMonth();\n        let currDay = testDate.getDate();\n\n        let prevMonth = document.createElement(\"img\");\n        prevMonth.classList.add(\"gui-panel__clock__clock-widget__table-top__prevMonth\");\n        prevMonth.addEventListener('mousedown', function() {\n            currYear = this.clockWidgetDate.getFullYear();\n            currMonth = this.clockWidgetDate.getMonth();\n            this.renderMonth(currYear, currMonth-1);\n        }.bind(this));\n\n        let nextMonth = document.createElement(\"img\");\n        nextMonth.classList.add(\"gui-panel__clock__clock-widget__table-top__nextMonth\");\n        nextMonth.addEventListener('mousedown', function() {\n            currYear = this.clockWidgetDate.getFullYear();\n            currMonth = this.clockWidgetDate.getMonth();\n            this.renderMonth(currYear, currMonth+1);\n        }.bind(this));\n\n        tableTop.appendChild(prevMonth);\n\n        this.monthTextSpan = document.createElement(\"span\");\n        this.monthTextSpan.setAttribute('id', 'clock-widget-month-name');\n\n        tableTop.appendChild(this.monthTextSpan);\n        tableTop.appendChild(nextMonth);\n        this.clockContent = document.createElement(\"div\");\n        this.clockContent.appendChild(tableTop);\n        this.table = document.createElement(\"table\");\n        this.table.setAttribute('border', 1);\n        this.table.setAttribute('id', 'clock-widget-table');\n        this.clockContent.appendChild(this.table);\n\n        this.renderMonth(currYear, currMonth, currDay);\n\n        return this.clockContent;\n    }\n\n    renderMonth(year, month) {\n        let currDate = new Date();\n        let isCurrentMonth = (month == currDate.getMonth()) && (year == currDate.getFullYear());\n        if(!isCurrentMonth) {\n            currDate = new Date(year, month);\n        }\n\n        this.clockWidgetDate = currDate;\n\n        let currYear = currDate.getFullYear();\n        let currMonth = currDate.getMonth();\n        let currDay, currDayOfWeek;\n        if(isCurrentMonth) {\n            currDay = currDate.getDate();\n            currDayOfWeek = currDate.getDay();\n        }\n        let dayOfWeekOfTheFirstDay = (new Date(year, month, 0).getDay())+1;\n        let daysInTheMonth = this.daysInTheMonth(year, month);\n        let daysInThePreviousMonth = this.daysInTheMonth(year, (month-1));\n\n        let monthInText = \"\";\n\n        switch(currMonth+1) {\n            case 1: monthInText = \"January\"; break;\n            case 2: monthInText = \"February\"; break;\n            case 3: monthInText = \"March\"; break;\n            case 4: monthInText = \"April\"; break;\n            case 5: monthInText = \"May\"; break;\n            case 6: monthInText = \"June\"; break;\n            case 7: monthInText = \"July\"; break;\n            case 8: monthInText = \"August\"; break;\n            case 9: monthInText = \"September\"; break;\n            case 10: monthInText = \"October\"; break;\n            case 11: monthInText = \"November\"; break;\n            case 12: monthInText = \"December\"; break;\n        }\n\n        this.monthTextSpan.textContent = monthInText;\n\n        this.table.innerHTML = \"<thead><tr><td>Mon</td><td>Tue</td><td>Wed</td><td>Thu</td><td>Fri</td><td>Sat</td><td>Sun</td></tr></thead>\";\n        \n        let data = \"\";\n\n        let isInPreviousMonth = true;\n        let dayValue;\n        if(dayOfWeekOfTheFirstDay == 1) {\n            dayValue = 1;\n            isInPreviousMonth = false;\n        } else {\n            dayValue = daysInThePreviousMonth-(dayOfWeekOfTheFirstDay-2);\n        }\n\n        for(let i = 0, index = 0, isInNextMonth = false; i < 6; i++) {\n            let row = document.createElement(\"tr\");\n            for(let j = 0; j < 7; j++, index++) {\n                let data = document.createElement(\"td\");\n                data.classList.add(\"table-data\" + index);\n                data.textContent = dayValue;\n                if(isCurrentMonth && (dayValue == currDay) && (!isInPreviousMonth && !isInNextMonth)) {\n                    data.classList.add(\"today\");\n                }\n                if(isInPreviousMonth || isInNextMonth) {\n                    data.classList.add(\"not-this-month\");\n                }\n                row.appendChild(data);\n                dayValue++;\n                if(isInPreviousMonth) {\n                    if(dayValue > daysInThePreviousMonth) {\n                        dayValue = 1;\n                        isInPreviousMonth = false;\n                    }\n                } else {\n                    if(dayValue > daysInTheMonth) {\n                        dayValue = 1;\n                        isInNextMonth = true;\n                    }\n                }\n            }\n            this.table.appendChild(row);\n        }\n    }\n\n    daysInTheMonth(year, month) {\n        let num = 0;\n\n        if(month < 0) {\n            year--;\n            let month = 11;\n        } else if(month > 11) {\n            year++;\n            let month = 0;\n        }\n\n        while(true) {\n            let testDate = new Date(year, month, (num+1));\n\n            if(testDate.getMonth() != month) {\n                break;\n            }\n\n            num++;\n        }\n\n        return num;\n    }\n}\n\nexport default PanelItemClock;","class PanelItemContextMenu {\n    constructor(panelItem) {\n        this.panelITem = panelItem;\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.classList.add(\"gui-panel__task-bar__item__context-menu\");\n        this.DOMObj.innerHTML = '<div class=\"gui-panel__task-bar__item__context-menu__content\"></div>';\n        this.menuContent = this.DOMObj.querySelector(\".gui-panel__task-bar__item__context-menu__content\");\n\n        document.addEventListener('mousedown', function(event) {\n            if(event.button == 0) {\n                if(!event.target.classList.contains(\"gui-panel__task-bar__item\")) {\n                    this.DOMObj.classList.remove(\"context-menu-fadein\");\n                }\n            }\n        }.bind(this));\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n\n    setBottomY(newY) {\n        this.DOMObj.style.bottom = newY+\"px\";\n    }\n\n    addAnItem(itemName, elementListener) {\n        let newElement = document.createElement(\"p\");\n        newElement.classList.add(\"gui-panel__task-bar__item__context-menu__content__menu-item\");\n        newElement.textContent = itemName;\n        newElement.addEventListener('mousedown', function() {\n            elementListener();\n            this.DOMObj.classList.toggle(\"context-menu-fadein\");\n        }.bind(this));\n        if(this.menuContent.length == 0) {\n            this.menuContent.appendChild(newElement);\n        } else {\n            this.menuContent.insertBefore(newElement, this.menuContent.querySelector(\"*\"));\n        }\n\n        return this;\n    }\n\n    addASeparator() {\n        let newElement = document.createElement(\"div\");\n        newElement.classList.add(\"gui-panel__task-bar__item__context-menu__content__item-separator\");\n        if(this.menuContent.length == 0) {\n            console.log(\"Didn't append the separator because the content of the menu is empty.\");\n        } else {\n            this.menuContent.insertBefore(newElement, this.menuContent.querySelector(\"p\"));\n        }\n\n        return this;\n    }\n}\n\nexport default PanelItemContextMenu;","import PanelItemContextMenu from './panel-item-contextmenu';\n\nclass PanelItem {\n    constructor(id, itemName) {\n        this.itemWidth = 0;\n        this.id = id;\n        this.maxTitleLength = 25;\n        this.withText = true;\n        this.itemName = itemName;\n        this.contextMenu = new PanelItemContextMenu(this);\n        this.item = document.createElement(\"div\");\n        this.item.classList.add(\"gui-panel__task-bar__item\");\n        this.nameObj = document.createElement(\"p\");\n        if(this.itemName.length > this.maxTitleLength) {\n            this.itemName = this.itemName.substring(0, (this.maxTitleLength-3)) + \"...\";\n        }\n        this.nameObj.textContent = this.itemName;\n        this.itemIcon = document.createElement(\"img\");\n        this.itemIcon.classList.add(\"gui-panel__task-bar__item__icon\");\n        this.item.appendChild(this.itemIcon);\n        this.item.appendChild(this.nameObj);\n        this.item.appendChild(this.contextMenu.getDOMObject());\n        this.changeMode();\n    }\n\n    getItem() {\n        return this.item;\n    }\n    getName() {\n        return this.itemName;\n    }\n    getId() {\n        return this.id;\n    }\n    getItem() {\n        return this.item;\n    }\n    getItemDefaultWidth() {\n        var width = window.getComputedStyle(this.item).getPropertyValue(\"width\");\n        var value = width;\n        value = value.substring(0, value.indexOf(\"px\"));\n\n        return Number(value);\n    }\n\n    getDOMObject() {\n        return this.item;\n    }\n\n    getContextMenu() {\n        return this.contextMenu;\n    }\n\n    getTitleObj() {\n        return this.nameObj;\n    }\n\n    setTitle(newtitle) {\n        this.itemName = newtitle;\n        if(this.itemName.length > this.maxTitleLength) {\n            this.itemName = this.itemName.substring(0, (this.maxTitleLength-3)) + \"...\";\n        }\n        this.nameObj.textContent = this.itemName;\n    }\n\n    setIcon(path) {\n        this.itemIcon.setAttribute(\"src\", path);\n        // console.log(\"actual width: \" +  this.itemIcon.clientWidth);\n    }\n\n    changeMode() {\n        if(!this.withText) {\n            this.nameObj.style.display = \"none\";\n            this.item.classList.add(\"gui-panel__task-bar__item--without-text\")\n            // iconWidth = window.getComputedStyle(this.itemIcon).getPropertyValue(\"width\");\n            // iconWidth = Number(iconWidth.substring(0, iconWidth.indexOf(\"px\")));\n            // console.log(iconWidth);\n            // sidesMargin = window.getComputedStyle(this.itemIcon).getPropertyValue(\"margin-left\");\n            // sidesMargin = Number(sidesMargin.substring(0, sidesMargin.indexOf(\"px\")))*2;\n            // console.log(sidesMargin);\n            // totalWidth = iconWidth + sidesMargin;\n            // console.log(\"width: \" + totalWidth);\n            // this.item.style.width = totalWidth+\"px\";\n        }\n    }\n}\n\nexport default PanelItem;","import PanelMenu from './panel-menu';\nimport PanelItemClock from './panel-clock';\nimport TaskBar from './task-bar';\n     \n     class Panel {\n            constructor() {\n            this.windows = [];\n            this.windowsStatus = new Map();\n            this.leftContainer = document.createElement(\"div\");\n            this.leftContainer.classList.add(\"gui-panel__left-container\");\n            this.rightContainer = document.createElement(\"div\");\n            this.rightContainer.classList.add(\"gui-panel__right-container\");\n            this.panelMenu = new PanelMenu();\n            this.panelMenu.addAnItem(\"Test #1\", () => console.log(\"test 1\")).addASeparator().addAnItem(\"Test #2\", () => console.log(\"test 2\"));\n            this.panelClock = new PanelItemClock(this);\n            this.desktop = SimpleJSGui.getDesktop();\n            this.DOMObj = document.createElement(\"div\");\n            this.DOMObj.classList.add(\"gui-panel\");\n            this.DOMObj.id = \"panelInstance1\";\n            this.panelInstance = this.DOMObj.id;\n            this.leftContainer.appendChild(this.panelMenu.getDOMObject());\n            this.rightContainer.appendChild(this.panelClock.getDOMObject());\n            this.DOMObj.appendChild(this.leftContainer);\n            this.DOMObj.appendChild(this.rightContainer);\n            this.panelClock.startTheClock();\n            document.body.appendChild(this.DOMObj);\n            this.taskBar = new TaskBar();\n            this.leftContainer.appendChild(this.taskBar.getDOMObject());\n            SimpleJSGui.getWindowManager().registerWindowListDisplay(this);\n\n            document.addEventListener('mousedown', function(event) {\n                if(event.button == 0 && this.windows.length > 0) {\n                    let element = event.target;\n                    let isAChild = false;\n                    do {\n                        if(element.classList && element.classList.contains(\"gui-window\")) {\n                            isAChild = true;\n                            break;\n                        }\n                        element = element.parentNode;\n                    } while(element);\n                    if(!isAChild) {\n                        this.windows[0].unfocusAllWindows();\n                    }\n                }\n            }.bind(this));\n        }\n\n        notifyListChanged() {\n            this.windows = SimpleJSGui.getWindowManager().getWindows();\n        }\n\n        addAWindow(newWindow) {\n            this.windows.push(newWindow);\n            this.windowsStatus.set(newWindow.getId(), \"active\");\n            this.taskBar.addAnItem(new PanelItem(newWindow.getId(), newWindow.getTitle()));\n            let node = this.taskBar.getItems()[this.taskBar.getItems().length-1];\n            let nodeElem = node.getDOMObject();\n            nodeElem.classList.add(\"gui-panel__task-bar__item--active\");\n            nodeElem.addEventListener('click', function(event) {\n                let status = this.windowsStatus.get(newWindow.getId());\n                if(status == \"active\") {\n                    this.windowAction(\"minimize\", newWindow.getId());\n                    let contextMenu = nodeElem.querySelector(\".gui-panel__task-bar__item__context-menu\");\n                    if(contextMenu.style.display == \"inline-block\") {\n                        contextMenu.style.display = \"none\";\n                    }\n                } else if(status == \"unactive\") {\n                    this.windowAction(\"maximize\", newWindow.getId());\n                    let contextMenu = nodeElem.querySelector(\".gui-panel__task-bar__item__context-menu\");\n                    if(contextMenu.style.display == \"inline-block\") {\n                        contextMenu.style.display = \"none\";\n                    }\n                }\n            }.bind(this));\n            nodeElem.addEventListener('contextmenu', function(event) {\n                event.preventDefault();\n                let contextMenu = nodeElem.querySelector(\".gui-panel__task-bar__item__context-menu\");\n                let items = this.taskBar.getItems();\n                for(let i = 0; i < items.length; i++) {\n                    if(items[i].getId() != newWindow.getId()) {\n                        let anItem = items[i].getDOMObject().querySelector(\".gui-panel__task-bar__item__context-menu\");\n                        if(anItem.classList.contains(\"context-menu-fadein\")) {\n                            anItem.classList.remove(\"context-menu-fadein\");\n                        }\n                    }\n                }\n                this.panelMenu.close();\n                // if(contextMenu.style.display == \"none\") {\n                //     contextMenu.style.display = \"block\";\n                //     contextMenu.classList.add(\"context-menu-fadein\");\n                // } else {\n                //     contextMenu.classList.remove(\"context-menu-fadein\");\n                //     contextMenu.style.display = \"none\";\n                node.getContextMenu().setBottomY((window.innerHeight-this.DOMObj.getBoundingClientRect().top));\n                contextMenu.classList.toggle(\"context-menu-fadein\");\n                let status = this.windowsStatus.get(newWindow.getId());\n                if(status == \"unactive\") {\n                    this.windowAction(\"minimize\", newWindow.getId());\n                }\n                return false;\n            }.bind(this), false);\n            if(newWindow.isWindowPinnable()) {\n                let items = this.taskBar.getItems();\n                items[items.length-1].getContextMenu().addAnItem(\"Pin this app\", function() {}).addASeparator();\n            }\n            document.body.appendChild(newWindow.getDOMObject());\n            newWindow.focusWindow();\n        }\n        selectInstance(instanceId) {\n            this.panelInstance = instanceId;\n        }\n    \n        windowAction(actionToDo, id) {\n            if(actionToDo == \"minimize\") {\n                let status = this.windowsStatus.get(id);\n                if(status == \"active\") {\n                    let windowId = this.getWindowOrderNumberById(id);\n                    let node = document.getElementsByClassName(\"gui-panel__task-bar__item\")[windowId];\n                    this.windowsStatus.set(id, \"unactive\");\n                    node.classList.remove(\"gui-panel__task-bar__item--active\");\n                    document.getElementById(this.windows[windowId].getId()).style.display = \"none\";\n                } else if(status == \"unactive\") {\n                    let windowId = this.getWindowOrderNumberById(id);\n                    let node = document.getElementsByClassName(\"gui-panel__task-bar__item\")[windowId];\n                    this.windowsStatus.set(id, \"active\");\n                    node.classList.add(\"gui-panel__task-bar__item--active\");\n                    document.getElementById(this.windows[windowId].getId()).style.display = \"block\";\n                }\n            } else if(actionToDo == \"maximize\") {\n                let windowId = this.getWindowOrderNumberById(id);\n                let node = document.getElementsByClassName(\"gui-panel__task-bar__item\")[windowId];\n                this.windowsStatus.set(id, \"active\");\n                node.classList.add(\"gui-panel__task-bar__item--active\");\n                this.windows[windowId].focusWindow();\n                document.getElementById(this.windows[windowId].getId()).style.display = \"block\";\n            } else if(actionToDo == \"close\") {\n                let windowId = this.getWindowOrderNumberById(id);\n                let windownode = document.getElementsByClassName(\"gui-window\")[windowId];\n                let itemnode = document.getElementsByClassName(\"gui-panel__task-bar__item\")[windowId];\n                windownode.remove();\n                itemnode.remove();\n                this.windows.splice(windowId, 1);\n                this.windowsStatus.delete(windowId);\n                this.taskBar.getItems().splice(windowId, 1);\n            }\n        }\n\n        getWindows() {\n            return this.windows;\n        }\n\n        getWindowOrderNumberById(id) {\n            for(let i = 0; i < this.windows.length; i++) {\n                if(this.windows[i].getId() == id) {\n                    return i;\n                }\n            }\n        }\n    \n        getPanelItem(windowId) {\n            let items = this.taskBar.getItems();\n            for(let i = 0; i < items.length; i++) {\n                if(items[i].getId() == windowId) {\n                    return items[i];\n                }\n            }\n            return null;\n        }\n\n        calculateMinimalWidth() {\n            let dummyPanelItem = new PanelItem(\"DUMMY_ID\", \"DummyText\");\n            return this.panelMenu.getDOMObject().clientWidth+2 + dummyPanelItem.getItemDefaultWidth() + this.taskBar.getLineSwitcher().getDOMObject().clientWidth + this.rightContainer.clientWidth;\n        }\n    }\n\n    export default Panel;","class Window {\n    constructor() {\n        this.maxTitleLength = 3000;\n        this.titleText;\n        this.remInPixels;\n        this.DOMObj;\n\n        this.panelInstance = panelInstance;\n        this.isPinnable = true;\n\n        this.isBeingDragged = false;\n        this.cachedX = 0;\n        this.cachedY = 0;\n        \n        this.isBeingResized = false;\n        this.minWidth = 350;\n        this.minHeight = 400;\n        this.isResizingNW = false;\n        this.isResizingNE = false;\n        this.isResizingSW = false;\n        this.isResizingSE = false;\n        this.isResizingN = false;\n        this.isResizingS = false;\n        this.isResizingW = false;\n        this.isResizingE = false;\n        this.cachedResizeX = 0;\n        this.cachedResizeY = 0;\n        this.resizeListenerFullHD;\n        this.resizeListenerHD;\n        this.resizeListenerVGA;\n        this.resizeListenerQVGA;\n        this.wasListenerFullHDCalled = false;\n        this.wasListenerHDCalled = false;\n        this.wasListenerVGACalled = false;\n        this.wasListenerQVGACalled = false;\n        \n        this.isMaximized = false;\n        this.cachedXBeforeMax;\n        this.cachedYBeforeMax;\n        this.cachedWidth = 0;\n        this.cachedHeight = 0;\n        this.isSnapped = false;\n        this.snapEffectsToggled = false;\n        this.cachedXBeforeSnap;\n        this.isAtTop;\n        this.isAtLeft;\n        this.isAtRight;\n        this.createDOMObject();\n        this.setTitle(\"M\");\n        this.remInPixels = parseInt(getComputedStyle(this.DOMObj).fontSize);\n        this.setTitle(\"Window Title\");\n        this.guiWindow.style.top = \"50px\";\n        this.guiWindow.style.left = \"300px\";\n        this.setWidth(350);\n        this.setHeight(400);\n        this.registerEvents();\n    }\n\n    getDOMObject() {\n        return this.DOMObj;\n    }\n\n    setID(newID) {\n        this.id = newID;\n    }\n\n    getID() {\n        return this.id;\n    }\n    \n    getPanelItem() {\n        return this.panelInstance.getPanelItem(this.id);\n    }\n    \n    createDOMObject() {\n        this.DOMObj = document.createElement(\"div\");\n        this.DOMObj.id = this.id;\n        this.DOMObj.innerHTML =  '<div class=\"gui-window\">'\n        +'<div id=\"nw-resize\"></div>'+'<div id=\"ne-resize\"></div>'+'<div id=\"sw-resize\"></div>'+'<div id=\"se-resize\"></div>'+'<div id=\"n-resize\"></div>'+'<div id=\"s-resize\"></div>'+'<div id=\"w-resize\"></div>'+'<div id=\"e-resize\"></div>'\n        +'<div class=\"gui-window__titlebar\">'\n        +'<div class=\"gui-window__titlebar__buttons\"><a class=\"window-btn window-btn-close\" href=\"#\"></a><a class=\"window-btn window-btn-minimize\" href=\"#\"></a><a class=\"window-btn window-btn-maximize\" href=\"#\"></a></div><div class=\"gui-window__titlebar__title\">Window Title</div><img class=\"gui-window__titlebar__icon\"></img>'\n        +'</div>'\n        +'<div class=\"gui-window__content\">Window content.</div>'\n        +'</div>';\n        this.guiWindow = this.DOMObj.querySelector(\".gui-window\");\n        this.nwResize = this.DOMObj.querySelector(\"#nw-resize\");\n        this.neResize = this.DOMObj.querySelector(\"#ne-resize\");\n        this.swResize = this.DOMObj.querySelector(\"#sw-resize\");\n        this.seResize = this.DOMObj.querySelector(\"#se-resize\");\n        this.nResize = this.DOMObj.querySelector(\"#n-resize\");\n        this.sResize = this.DOMObj.querySelector(\"#s-resize\");\n        this.wResize = this.DOMObj.querySelector(\"#w-resize\");\n        this.eResize = this.DOMObj.querySelector(\"#e-resize\");\n        this.titleBar = this.DOMObj.querySelector(\".gui-window__titlebar\");\n        this.close = this.DOMObj.getElementsByClassName(\"window-btn-close\")[0];\n        this.min = this.DOMObj.getElementsByClassName(\"window-btn-minimize\")[0];\n        this.max = this.DOMObj.getElementsByClassName(\"window-btn-maximize\")[0];\n        this.icon = this.DOMObj.querySelector(\".gui-window__titlebar__icon\");\n        this.title = this.DOMObj.querySelector(\".gui-window__titlebar__title\");\n        this.windowIcon = this.DOMObj.querySelector(\".gui-window__titlebar__icon\");\n        this.windowContent = this.DOMObj.querySelector(\".gui-window__content\");\n    }\n    \n    registerEvents() {\n        this.close.addEventListener('click', function() {\n            this.panelInstance.windowAction(\"close\", this.id);\n        }.bind(this));\n        \n        this.min.addEventListener('click', function() {\n            this.panelInstance.windowAction(\"minimize\", this.id);\n        }.bind(this));\n        \n        this.max.addEventListener('click', function() {\n            // let content = this.guiWindow.getElementsByClassName(\"gui-window__content\")[0];\n            // if(content.style.display == \"none\") {\n            //     content.style.display = \"block\";\n            // } else {\n            //     content.style.display = \"none\";\n            // }\n            this.maximizeWindow();\n        }.bind(this));\n        \n        this.nwResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingNW = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.neResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingNE = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.swResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingSW = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.seResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingSE = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n\n        this.nResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingN = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.sResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingS = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.wResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingW = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        this.eResize.addEventListener('mousedown', function(event) {\n            this.isBeingResized = true;\n            this.isResizingE = true;\n            this.cachedResizeX = event.clientX;\n            this.cachedResizeY = event.clientY;\n        }.bind(this));\n        \n        document.addEventListener('mouseup', function(event) {\n            if(this.isBeingResized) {\n                this.isBeingResized = false;\n                this.isResizingNW = false;\n                this.isResizingNE = false;\n                this.isResizingSW = false;\n                this.isResizingSE = false;\n                this.isResizingN = false;\n                this.isResizingS = false;\n                this.isResizingW = false;\n                this.isResizingE = false;\n            }\n        }.bind(this));\n        \n        document.addEventListener('mousemove', function(event) {\n            if(this.isBeingResized) {\n                if(this.isResizingNW) {\n                    let change = this.cachedResizeX-event.clientX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.left = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.left = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n                    change = this.cachedResizeY-event.clientY;\n                    changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.top = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.top = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n                    \n                    this.cachedResizeX = event.clientX;\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingNE) {\n                    let change = event.clientX-this.cachedResizeX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.right = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.right = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n                    change = this.cachedResizeY-event.clientY;\n                    changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.top = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.top = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n                    \n                    this.cachedResizeX = event.clientX;\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingSW) {\n                    let change = this.cachedResizeX-event.clientX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.left = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.left = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n                    change = event.clientY-this.cachedResizeY;\n                    changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.bottom = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.bottom = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n                    \n                    this.cachedResizeX = event.clientX;\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingSE) {\n                    let change = event.clientX-this.cachedResizeX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.right = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.right = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n                    change = event.clientY-this.cachedResizeY;\n                    changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.bottom = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.bottom = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n                    \n                    this.cachedResizeX = event.clientX;\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingN) {\n                    let change = this.cachedResizeY-event.clientY;\n                    let changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.top = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.top = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingS) {\n                    let change = event.clientY-this.cachedResizeY;\n                    let changeToApply = this.getWindowY() - change;\n                    if(this.getHeight() > this.minHeight) {\n                        this.guiWindow.style.bottom = changeToApply+\"px\";\n                        this.setHeight(this.getHeight()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.bottom = changeToApply+\"px\";\n                            this.setHeight(this.getHeight()+change);\n                        }\n                    }\n\n                    this.cachedResizeY = event.clientY;\n                } else if(this.isResizingW) {\n                    let change = this.cachedResizeX-event.clientX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.left = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.left = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n\n                    this.cachedResizeX = event.clientX;\n                } else if(this.isResizingE) {\n                    let change = event.clientX-this.cachedResizeX;\n                    let changeToApply = this.getWindowX() - change;\n                    if(this.getWidth() > this.minWidth) {\n                        this.guiWindow.style.right = changeToApply+\"px\";\n                        this.setWidth(this.getWidth()+change);\n                    } else {\n                        if(change > 0) {\n                            this.guiWindow.style.right = changeToApply+\"px\";\n                            this.setWidth(this.getWidth()+change);\n                        }\n                    }\n\n                    this.cachedResizeX = event.clientX;\n                }\n                \n                this.calculateNewTitleLimits();\n            }\n        }.bind(this));\n        \n        this.guiWindow.addEventListener('mousedown', function(event) {\n            if(event.button == 0) {\n                this.focusWindow();\n            }\n        }.bind(this));\n        \n        this.titleBar.addEventListener('mousedown', function(event) {\n            this.isBeingDragged = true;\n            this.cachedX = event.clientX;\n            this.cachedY = event.clientY;\n            if(!this.guiWindow.classList.contains(\"window-effect-transparency\")) {\n                this.guiWindow.classList.add(\"window-effect-transparency\");\n            }\n        }.bind(this));\n\n        this.titleBar.addEventListener('dblclick', function(event) {\n            this.maximizeWindow();\n        }.bind(this));\n\n        document.addEventListener('mouseup', function(event) {\n            if(this.isBeingDragged) {\n                this.isBeingDragged = false;\n                if(!this.isMaximized && (this.isAtTop || this.isAtLeft || this.isAtRight)) {\n                    this.snapWindow();\n                }\n                this.guiWindow.classList.remove(\"window-effect-transparency\");\n            }\n        }.bind(this));\n        \n        document.addEventListener('mousemove', function(event) {\n            if(this.isBeingDragged) {\n                let coord = this.guiWindow.getBoundingClientRect();\n                let resizeChangeHorizontal = (((event.clientX)-this.cachedX)+coord.left);\n                let resizeChangeVertical = (((event.clientY)-this.cachedY)+coord.top);\n                this.guiWindow.style.left = resizeChangeHorizontal+\"px\";\n                this.guiWindow.style.top = resizeChangeVertical+\"px\";\n                coord = this.guiWindow.getBoundingClientRect();\n                if(coord.top < 0) {\n                    this.guiWindow.style.top = 0+\"px\";\n                    this.cachedX = event.clientX;\n                    this.setWindowY(0);\n                } else {\n                    this.cachedX = event.clientX;\n                    this.cachedY = event.clientY;\n                }\n                this.checkForEnterCorners(event);\n                this.checkForLeaveCorners(event);\n            }\n        }.bind(this));\n    }\n    \n    checkForEnterCorners(event) {\n        if(!this.isAtTop && this.getWindowY() <= 0) {\n            if(this.getWindowX() > 10 && ((this.getWindowX() + this.getWidth()) < (document.body.clientWidth-10))) {\n                this.isAtTop = true;\n                this.toggleWindowSnapVisualEffects(\"top\");\n            }\n        }\n        if(!this.isMaximized) {\n            if(!this.isAtLeft && this.getWindowX() < 10) {\n                this.isAtLeft = true;\n                this.toggleWindowSnapVisualEffects(\"left\");\n            }\n            if(!this.isAtRight && (this.getWindowX() + this.getWidth()) > (document.body.clientWidth-10)) {\n                this.isAtRight = true;\n                this.toggleWindowSnapVisualEffects(\"right\");\n            }\n        }\n    }\n    \n    checkForLeaveCorners() {\n        if(this.isAtTop) {\n            if(this.getWindowY() >= 10 || this.getWindowX() < 10 || ((this.getWindowX() + this.getWidth()) > (document.body.clientWidth-10))) {\n                this.isAtTop = false;\n                this.leaveCornerAction(\"top\");\n            }\n        }\n        if(this.isAtLeft) {\n            if(this.getWindowX() > 10) {\n                this.isAtLeft = false;\n                this.leaveCornerAction(\"left\");\n            }\n        }\n        if(this.isAtRight) {\n            if((this.getWindowX() + this.getWidth()) < (document.body.clientWidth-10)) {\n                this.isAtRight = false;\n                this.leaveCornerAction(\"right\");\n            }\n        }\n    }\n\n    leaveCornerAction(indicator) {\n        if(this.isSnapped) {\n            this.snapWindow();\n        }\n        \n        if(this.snapEffectsToggled) {\n            this.toggleWindowSnapVisualEffects(indicator);\n        }\n    }\n    \n    toggleWindowSnapVisualEffects(indicator) {\n        let desktop = SimpleJSGui.getDesktop().getDOMObject();\n        let visualEffectTop = desktop.querySelector(\".gui-desktop__window-snap-indicator-top\");\n        let visualEffectLeft = desktop.querySelector(\".gui-desktop__window-snap-indicator-left\");\n        let visualEffectRight = desktop.querySelector(\".gui-desktop__window-snap-indicator-right\");\n\n        if(indicator == \"top\") {\n            visualEffectTop.classList.toggle(\"window-snap-indicator-fade-in\");\n        }\n        if(indicator == \"left\") {\n            visualEffectLeft.classList.toggle(\"window-snap-indicator-fade-in\");\n        }\n        if(indicator == \"right\") {\n            visualEffectRight.classList.toggle(\"window-snap-indicator-fade-in\");\n        }\n        \n        let checkTop = visualEffectTop.classList.contains(\"window-snap-indicator-fade-in\");\n        let checkLeft = visualEffectLeft.classList.contains(\"window-snap-indicator-fade-in\");\n        let checkRight = visualEffectRight.classList.contains(\"window-snap-indicator-fade-in\");\n\n        if(checkTop || checkLeft || checkRight) {\n            this.snapEffectsToggled = true;\n        } else {\n            this.snapEffectsToggled = false;\n        }\n    }\n    \n    snapWindow() {\n        if(!this.isSnapped) {\n            if(this.isAtTop && !this.isMaximized) {\n                this.maximizeWindow();\n                this.toggleWindowSnapVisualEffects(\"top\");\n                this.isSnapped = true;\n            } else if(this.isAtLeft) {\n                this.cachedWidth = this.getWidth();\n                this.cachedHeight = this.getHeight();\n                this.cachedXBeforeSnap = 0;\n                this.guiWindow.style.left = \"0px\";\n                this.guiWindow.style.top = \"0px\";\n                this.setWidth(\"50%\");\n                this.setHeight(SimpleJSGui.getDesktop().getDesktopDOMObject().clientHeight);\n                this.toggleWindowSnapVisualEffects(\"left\");\n            } else if(this.isAtRight) {\n                this.cachedWidth = this.getWidth();\n                this.cachedHeight = this.getHeight();\n                this.cachedXBeforeSnap = document.body.clientWidth-this.getWidth();\n                this.setWidth(\"50%\");\n                this.setHeight(SimpleJSGui.getDesktop().getDesktopDOMObject().clientHeight);\n                let temp = (document.body.clientWidth - this.getWidth());\n                this.guiWindow.style.left = temp + \"px\";\n                this.guiWindow.style.top = \"0px\";\n                this.toggleWindowSnapVisualEffects(\"right\");\n            }\n            if((this.isAtTop && !this.isMaximized) || this.isAtLeft || this.isAtRight) {\n                this.isSnapped = true;\n            }\n        } else {\n            if(!this.isAtTop && this.isMaximized) {\n                this.maximizeWindow();\n            } else if(!this.isAtLeft || !this.isAtRight) {\n                this.setWidth(this.cachedWidth);\n                this.setHeight(this.cachedHeight);\n                this.setWindowX(this.cachedXBeforeSnap);\n            }\n            this.isSnapped = false;\n        }\n    }\n    \n    maximizeWindow() {\n        if(this.isMaximized) {\n            this.isMaximized = false;\n            this.isSnapped = false;\n            this.isAtTop = false;\n            this.setWindowX(this.cachedXBeforeMax);\n            if(!this.isBeingDragged) {\n                this.setWindowY(this.cachedYBeforeMax);\n            }\n            this.setWidth(this.cachedWidth);\n            this.setHeight(this.cachedHeight);\n        } else {\n            this.cachedXBeforeMax = this.getWindowX();\n            this.cachedYBeforeMax = this.getWindowY();\n            this.cachedWidth = this.getWidth();\n            this.cachedHeight = this.getHeight();\n            this.guiWindow.style.left = \"0\";\n            this.guiWindow.style.top = \"0\";\n            this.setWidth(\"100%\");\n            this.setHeight(SimpleJSGui.getDesktop().getDesktopDOMObject().clientHeight);\n            this.isMaximized = true;\n            this.isSnapped = true;\n            this.isAtTop = true;\n        }\n    }\n\n    setResizeListenerFullHD(newListener) {\n        this.resizeListenerFullHD = newListener;\n    }\n\n    setResizeListenerHD(newListener) {\n        this.resizeListenerHD = newListener;\n    }\n\n    setResizeListenerVGA(newListener) {\n        this.resizeListenerVGA = newListener;\n    }\n\n    setResizeListenerQVGA(newListener) {\n        this.resizeListenerQVGA = newListener;\n    }\n    \n    removeDimensionFlags() {\n        this.guiWindow.classList.remove(\"gui-window--size-fullhd\");\n        this.guiWindow.classList.remove(\"gui-window--size-hd\");\n        this.guiWindow.classList.remove(\"gui-window--size-vga\");\n        this.guiWindow.classList.remove(\"gui-window--size-qvga\");\n    }\n    \n    applyNewDimensionFlags(width) {\n        if(width.indexOf(\"%\") != -1) {\n            width = width.substring(0, width.length-1);\n            width = window.innerWidth * (width/100);\n        }\n        this.removeDimensionFlags();\n        if(width >= 1920) {\n            if(this.resizeListenerFullHD && !this.wasListenerFullHDCalled) {\n                this.resizeListenerFullHD();\n                this.wasListenerFullHDCalled = true;\n                this.wasListenerHDCalled = false;\n                this.wasListenerVGACalled = false;\n                this.wasListenerQVGACalled = false;\n            }\n            this.guiWindow.classList.add(\"gui-window--size-fullhd\");\n        } else if(width >= 1280) {\n            if(this.resizeListenerHD && !this.wasListenerHDCalled) {\n                this.resizeListenerHD();\n                this.wasListenerHDCalled = true;\n                this.wasListenerFullHDCalled = false;\n                this.wasListenerVGACalled = false;\n                this.wasListenerQVGACalled = false;\n            }\n            this.guiWindow.classList.add(\"gui-window--size-hd\");\n        } else if(width >= 640) {\n            if(this.resizeListenerVGA && !this.wasListenerVGACalled) {\n                this.resizeListenerVGA();\n                this.wasListenerVGACalled = true;\n                this.wasListenerFullHDCalled = false;\n                this.wasListenerHDCalled = false;\n                this.wasListenerQVGACalled = false;\n            }\n            this.guiWindow.classList.add(\"gui-window--size-vga\");\n        } else if(width < 640) {\n            if(this.resizeListenerQVGA && !this.wasListenerQVGACalled) {\n                this.resizeListenerQVGA();\n                this.wasListenerQVGACalled = true;\n                this.wasListenerFullHDCalled = false;\n                this.wasListenerHDCalled = false;\n                this.wasListenerVGACalled = false;\n            }\n            this.guiWindow.classList.add(\"gui-window--size-qvga\");\n        }\n    }\n    \n    unfocusAllWindows() {\n        let allWindows = this.panelInstance.getWindows();\n        for(let i = 0; i < allWindows.length; i++) {\n            let aWindow = allWindows[i].getDOMObject().querySelector(\".gui-window\");\n            if(!aWindow.classList.contains(\"window-effect-shade\")) {\n                aWindow.classList.add(\"window-effect-shade\");\n            }\n        }\n    }\n    \n    focusWindow() {\n        this.unfocusAllWindows();\n        this.guiWindow.classList.remove(\"window-effect-shade\");\n    }\n    \n    setWidth(width) {\n        width = width + \"\";\n        this.applyNewDimensionFlags(width);\n        if(width.indexOf('%') != -1) {\n            this.guiWindow.style.width = width;\n        } else {\n            this.guiWindow.style.width = width+\"px\";\n        }\n        this.calculateNewTitleLimits();\n    }\n    \n    setHeight(height) {\n        height = height + \"\";\n        if(height.indexOf('%') != -1) {\n            this.guiWindow.style.height = height;\n        } else {\n            this.guiWindow.style.height = height+\"px\";\n        }\n        this.calculateNewTitleLimits();\n    }\n    \n    setBackgroundColor(bgrcolor) {\n        this.guiWindow.querySelector(\".gui-window__content\").style.background = bgrcolor;\n    }\n    \n    setTitle(title) {\n        this.titleText = title;\n        if(title.length > this.maxTitleLength) {\n            title = title.substring(0, (this.maxTitleLength-3)) + \"...\";\n        }\n        this.title.textContent = title;\n        this.calculateNewTitleLimits();\n        if(this.panelInstance.getPanelItem(this.id) != null) {\n            this.panelInstance.getPanelItem(this.id).setTitle(title);\n        }\n    }\n    \n    calculateNewTitleLimits() {\n        let width = this.getWidth();\n        let leftLimit = this.DOMObj.querySelector(\".window-btn-maximize\").getBoundingClientRect().right - this.getWindowX();\n        let rightLimit = this.getWidth() - (this.DOMObj.querySelector(\".gui-window__titlebar__icon\").getBoundingClientRect().left-this.getWindowX());\n        let appliableWidth = width - (leftLimit + rightLimit);\n        let numOfChars = Math.floor(appliableWidth / this.remInPixels);\n        if(this.titleText.length > numOfChars) {\n            if(this.titleText[numOfChars-4] == \" \") {\n                this.title.textContent = this.titleText.substring(0, numOfChars-4)+\"...\";\n            } else {\n                this.title.textContent = this.titleText.substring(0, numOfChars-3)+\"...\";\n            }\n        } else {\n            this.title.textContent = this.titleText;\n        }\n    }\n    \n    setWindowIcon(path) {\n        this.windowIcon.setAttribute(\"src\", path);\n        this.panelInstance.getPanelItem(this.id).setIcon(path);\n    }\n    \n    setContent(content) {\n        if(content instanceof Object) {\n            this.content = content;\n            this.windowContent.appendChild(this.content);\n            content.remove();\n        } else if (!(content instanceof Object)) {\n            this.content = content;\n            this.windowContent.innerHTML = this.content;\n        }\n    }\n    \n    setWindowX(x) {\n        this.guiWindow.style.left = x+\"px\";\n    }\n    \n    setWindowY(y) {\n        this.guiWindow.style.top = y+\"px\";\n    }\n    \n    getWindowX() {\n        return Number(this.guiWindow.style.left.split(\"px\")[0]);\n    }\n    \n    getWindowY() {\n        return Number(this.guiWindow.style.top.split(\"px\")[0]);\n    }\n    \n    getWidth() {\n        if(this.guiWindow.style.width.indexOf(\"%\") != -1) {\n            return document.body.clientWidth * (Number(this.guiWindow.style.width.split(\"%\")[0])/100);\n        } else {\n            return Number(this.guiWindow.style.width.split(\"px\")[0]);\n        }\n    }\n    \n    getHeight() {\n        if(this.guiWindow.style.height.indexOf(\"%\") != -1) {\n            return document.body.clientHeight * (Number(this.guiWindow.style.height.split(\"%\")[0])/100);\n        } else {\n            return Number(this.guiWindow.style.height.split(\"px\")[0]);\n        }\n    }\n    \n    getBackgroundColor() {\n        return this.guiWindow.querySelector(\".gui-window__content\").style.background;\n    }\n    \n    getTitle() {\n        return this.title.textContent;\n    }\n    \n    getContent() {\n        return this.content;\n    }\n    \n    isWindowPinnable() {\n        return this.isPinnable;\n    }\n}\n\nexport default Window;"],"sourceRoot":""}